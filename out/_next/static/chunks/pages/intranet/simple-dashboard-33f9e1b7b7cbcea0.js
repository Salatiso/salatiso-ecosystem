(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7143,9616],{21151:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/intranet/simple-dashboard",function(){return s(93312)}])},26631:function(e,t,s){"use strict";s.d(t,{$T:function(){return r},iO:function(){return i}});var a=s(67294);const r=e=>{const[t,s]=(0,a.useState)({isInitialized:!0,isConnecting:!1,connectionCount:0,meshStatus:"offline"}),r=[{id:"mock-member-1",name:"Mock Family Member 1",role:"Parent",status:"online",lastSeen:new Date,trustScore:85},{id:"mock-member-2",name:"Mock Family Member 2",role:"Child",status:"online",lastSeen:new Date,trustScore:90}],i={isActive:!0,activeTriggers:[],lastCheckIn:new Date},n=(0,a.useCallback)((async(e,t)=>Promise.resolve()),[]),l=(0,a.useCallback)((async e=>Promise.resolve()),[]),o=(0,a.useCallback)((async e=>Promise.resolve()),[]),d=(0,a.useCallback)((async(e,t)=>Promise.resolve()),[]),c=(0,a.useCallback)((async e=>Promise.resolve("mock-geofence-id")),[]),m=(0,a.useCallback)((async e=>Promise.resolve("mock-request-id")),[]),x=(0,a.useCallback)((async(e,t)=>Promise.resolve()),[]),u=(0,a.useCallback)((async e=>Promise.resolve(!0)),[]),g=(0,a.useCallback)((e=>75),[]),h=(0,a.useCallback)((async e=>Promise.resolve()),[]),p=(0,a.useCallback)((async e=>Promise.resolve()),[]);return(0,a.useEffect)((()=>{}),[]),{state:t,familyMembers:r,safetyStatus:i,services:{sonnyBridge:null,meshEngine:null,triggerManager:null,consentLedger:null,trustFramework:null},sendFamilyMessage:n,broadcastFamilyStatus:l,performCheckIn:o,triggerEmergency:d,createGeofence:c,requestConsent:m,grantConsent:x,checkConsent:u,getTrustScore:g,recordInteraction:h,updateUbuntuQualities:p}},i=e=>({isConnected:!1,connectionCount:0,sendFamilyMessage:async(e,t)=>!0,broadcastStatusUpdate:async(e,t)=>!0})},93312:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Zt}});var a=s(85893),r=s(67294),i=s(5152),n=s.n(i),l=s(43765),o=s(28562),d=s(89176),c=s(50039),m=s(90437),x=s(35047),u=s(60837),g=s(59952),h=s(32203),p=s(73416),b=s(71601),y=s(39200),f=s(8007),j=s(70088),v=s(23488),N=s(26631),w=s(32257),D=s(41664),S=s.n(D);const C=()=>{var e;const{user:t}=(0,u.a)(),s={nodeId:(null===t||void 0===t?void 0:t.id)?"node_".concat(t.id):"node_guest",deviceId:(null===t||void 0===t?void 0:t.id)?"device_".concat(t.id):"device_guest",displayName:(null===t||void 0===t?void 0:t.displayName)||(null===t||void 0===t||null===(e=t.email)||void 0===e?void 0:e.split("@")[0])||"Family Member",familyId:(null===t||void 0===t?void 0:t.id)?"family_".concat(t.id):"family_guest",userId:(null===t||void 0===t?void 0:t.id)||"guest",enableBluetooth:!0,enableWifiDirect:!0,enableInternetBridge:!0,debugMode:!1},{state:r,familyMembers:i,safetyStatus:n}=(0,N.$T)(s);return t&&t.id?(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg ".concat("online"===r.meshStatus?"bg-green-100":"bg-gray-100"),children:(0,a.jsx)(h.Z,{className:"h-5 w-5 ".concat("online"===r.meshStatus?"text-green-600":"text-gray-400")})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Sonny Network"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:r.isInitialized?"online"===r.meshStatus?"Connected (".concat(r.connectionCount," peers)"):"Initializing...":"Not connected"})]})]}),(0,a.jsx)(S(),{href:"/sonny",className:"text-indigo-600 hover:text-indigo-700 text-sm font-medium",children:"Open Dashboard \u2192"})]}),r.isInitialized?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Family Online"})]}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[i.filter((e=>"online"===e.status)).length,"/",i.length]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Safety Status"})]}),(0,a.jsx)("div",{className:"flex items-center space-x-1",children:0===n.activeTriggers.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.Z,{className:"h-3 w-3 text-green-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-green-600",children:"All Good"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.Z,{className:"h-3 w-3 text-yellow-600"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-yellow-600",children:[n.activeTriggers.length," Active"]})]})})]}),(0,a.jsx)("div",{className:"pt-2 border-t border-gray-100",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsx)("button",{className:"text-xs bg-green-50 text-green-700 py-1.5 px-3 rounded-md hover:bg-green-100 transition-colors",children:"Check In"}),(0,a.jsx)("button",{className:"text-xs bg-indigo-50 text-indigo-700 py-1.5 px-3 rounded-md hover:bg-indigo-100 transition-colors",children:"Send Message"})]})})]}):(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-600 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Connecting to family network..."})]})]}):null},k=()=>{var e,t,s,r;const{user:i}=(0,u.a)();return(0,a.jsxs)("div",{className:"bg-gradient-to-br from-primary-500 to-primary-700 rounded-xl p-6 text-white relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,a.jsx)("div",{className:"absolute -right-4 -top-4 w-24 h-24 rounded-full border-2 border-white"}),(0,a.jsx)("div",{className:"absolute -left-8 -bottom-8 w-32 h-32 rounded-full border border-white"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)(f.Z,{className:"h-8 w-8 text-yellow-300"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 text-yellow-300"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:["Level ",(null===i||void 0===i||null===(e=i.gamification)||void 0===e?void 0:e.level)||1]})]})]}),(0,a.jsx)("h2",{className:"text-2xl font-bold mb-2",children:(()=>{const e=(new Date).getHours();let t="Family Member";return(null===i||void 0===i?void 0:i.displayName)?t=i.displayName.split(" ")[0]:(null===i||void 0===i?void 0:i.email)&&(t=i.email.split("@")[0],t=t.charAt(0).toUpperCase()+t.slice(1)),e<12?"Good morning, ".concat(t,"!"):e<17?"Good afternoon, ".concat(t,"!"):"Good evening, ".concat(t,"!")})()}),(0,a.jsx)("p",{className:"text-primary-100 mb-4",children:(()=>{const e=["Ubuntu: 'I am because we are.' Your family network is stronger together.","Every connection you make strengthens the entire family ecosystem.","Your presence in the Sonny network brings safety and unity to all.","Today is another opportunity to build Ubuntu within your family.","Through Sonny, we create digital bonds that reflect our cultural values."],t=new Date;return e[Math.floor((t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5)%e.length]})()}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(v.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Ubuntu Points: ",(null===i||void 0===i||null===(t=i.gamification)||void 0===t?void 0:t.experiencePoints)||0]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Streak: ",(null===i||void 0===i||null===(r=i.gamification)||void 0===r||null===(s=r.streaks)||void 0===s?void 0:s.length)||0," active"]})]})]}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-primary-400 border-opacity-30",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(S(),{href:"/sonny",className:"flex-1 bg-white bg-opacity-20 backdrop-blur-sm rounded-lg py-2 px-3 text-center text-sm font-medium hover:bg-opacity-30 transition-colors",children:"Family Network"}),(0,a.jsx)("button",{className:"flex-1 bg-white bg-opacity-20 backdrop-blur-sm rounded-lg py-2 px-3 text-center text-sm font-medium hover:bg-opacity-30 transition-colors",children:"Safety Check"})]})})]})]})},A=()=>{const{user:e}=(0,u.a)(),[t,s]=(0,r.useState)([]),[i,n]=(0,r.useState)(!0),[l,o]=(0,r.useState)(null);return(0,r.useEffect)((()=>{(async()=>{if(null===e||void 0===e?void 0:e.id)try{n(!0);const t=await w.Z.getFamilyMembers(e.id);s(t),o(null)}catch(t){o(t instanceof Error?t.message:"Failed to load family members")}finally{n(!1)}else n(!1)})()}),[null===e||void 0===e?void 0:e.id]),e?(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Family Members"}),(0,a.jsx)(d.Z,{className:"h-5 w-5 text-gray-400"})]}),(0,a.jsx)("div",{className:"space-y-3",children:i?(0,a.jsx)("div",{className:"flex justify-center py-4",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-600"})}):l?(0,a.jsx)("div",{className:"text-sm text-red-600 py-2",children:l}):t.length>0?t.slice(0,4).map((e=>{var t;return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"h-8 w-8 rounded-full flex items-center justify-center text-white text-sm font-medium bg-indigo-600",children:e.firstName.charAt(0)}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.firstName," ",e.lastName]}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:e.isHouseholdMember?"Household":"Family"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:e.sonnyStatus||"offline"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:(null===(t=e.lastSeen)||void 0===t?void 0:t.toLocaleTimeString())||"Never"})]})]},e.id)})):(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)(d.Z,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"No family members added yet"}),(0,a.jsx)(S(),{href:"/intranet/contacts",className:"text-xs text-indigo-600 hover:text-indigo-700",children:"Add family members \u2192"})]})})]}):null},T=()=>{const{user:e}=(0,u.a)(),t=[{title:"Family Network",description:"Connect with Sonny mesh",icon:h.Z,href:"/sonny",color:"bg-indigo-500",enabled:!0},{title:"Safety Check",description:"Perform family check-in",icon:p.Z,href:"/sonny?tab=safety",color:"bg-green-500",enabled:!!e},{title:"Send Message",description:"Message family members",icon:d.Z,href:"/sonny?tab=messages",color:"bg-blue-500",enabled:!!e},{title:"Trust Network",description:"View Ubuntu scores",icon:b.Z,href:"/sonny?tab=trust",color:"bg-purple-500",enabled:!!e}];return(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:t.map((e=>(0,a.jsx)(S(),{href:e.enabled?e.href:"#",className:"block p-4 rounded-lg border-2 border-transparent hover:border-gray-200 transition-colors ".concat(e.enabled?"":"opacity-50 cursor-not-allowed"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg ".concat(e.color),children:(0,a.jsx)(e.icon,{className:"h-4 w-4 text-white"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-gray-600 truncate",children:e.description})]})]})},e.title)))})]})};var I=s(80893),E=s(46111);var M=()=>{const{user:e}=(0,u.a)();if(!(null===e||void 0===e?void 0:e.mniProfile))return(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(I.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"MNI Profile"}),(0,a.jsx)("p",{className:"text-gray-600",children:"MNI profile not yet configured"})]})});const{mniProfile:t}=e,s=t.ownerships.reduce(((e,t)=>e+t.ownershipPercentage),0),r=t.contributions.reduce(((e,t)=>e+t.value),0),i=t.eligibility.filter((e=>"eligible"===e.status)).length;return(0,a.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"MNI Profile"}),(0,a.jsx)(I.Z,{className:"h-5 w-5 text-primary-600"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(E.Z,{className:"h-4 w-4 text-blue-600 mr-2"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Ownership Stake"})]}),(0,a.jsxs)("span",{className:"text-sm font-bold text-blue-600",children:[s.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 text-green-600 mr-2"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Total Contributions"})]}),(0,a.jsxs)("span",{className:"text-sm font-bold text-green-600",children:["$",r.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(v.Z,{className:"h-4 w-4 text-purple-600 mr-2"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Active Eligibility"})]}),(0,a.jsx)("span",{className:"text-sm font-bold text-purple-600",children:i})]}),t.businessRole&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 text-orange-600 mr-2"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Business Role"})]}),(0,a.jsx)("span",{className:"text-sm font-bold text-orange-600",children:t.businessRole.name})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Development Progress"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[t.developmentPlan.progress,"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-primary-500 h-2 rounded-full",style:{width:"".concat(t.developmentPlan.progress,"%")}})})]}),(0,a.jsxs)("div",{className:"flex space-x-2 mt-4",children:[(0,a.jsx)("button",{className:"flex-1 px-3 py-2 text-xs font-medium text-primary-600 bg-primary-50 rounded-lg hover:bg-primary-100 transition-colors",children:"View Details"}),(0,a.jsx)("button",{className:"flex-1 px-3 py-2 text-xs font-medium text-green-600 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:"Add Contribution"})]})]})]})};const R={id:"mni-registration-2025",title:"MNI Entity Registration",description:"Register Mlandeli-Notemba Investments (Pty) Ltd as the primary holding company for the Salatiso ecosystem",owner:"Solo (Lonwabo Mdeni)",team:["Solo (Lonwabo Mdeni)","Notemba Mdeni (Mother - Supporting)"],startDate:new Date("2025-10-12"),targetEndDate:new Date("2025-11-30"),actualEndDate:null,status:"active",progress:0,milestones:[{id:"milestone-1",title:"Company Name Reservation",description:"Reserve the company name with CIPC",dueDate:new Date("2025-10-19"),completedDate:null,tasks:["task-1","task-2","task-3"],deliverables:["deliverable-1"],status:"upcoming"},{id:"milestone-2",title:"Documentation Preparation",description:"Gather and prepare all required documents",dueDate:new Date("2025-10-26"),completedDate:null,tasks:["task-4","task-5","task-6","task-7"],deliverables:["deliverable-2","deliverable-3"],status:"upcoming"},{id:"milestone-3",title:"CIPC Registration Submission",description:"Submit company registration to CIPC",dueDate:new Date("2025-11-09"),completedDate:null,tasks:["task-8","task-9","task-10"],deliverables:["deliverable-4"],status:"upcoming"},{id:"milestone-4",title:"Post-Registration Setup",description:"Complete tax registration and banking setup",dueDate:new Date("2025-11-30"),completedDate:null,tasks:["task-11","task-12","task-13","task-14"],deliverables:["deliverable-5","deliverable-6"],status:"upcoming"}],tasks:[{id:"task-1",title:"Research CIPC Name Requirements",description:"Review CIPC guidelines for company name registration, check prohibited words, and understand naming conventions for Pty Ltd companies.",assignedTo:"Solo (Lonwabo Mdeni)",status:"not-started",priority:"high",dueDate:new Date("2025-10-14"),completedDate:null,notes:[],subtasks:[{id:"st-1-1",title:"Visit CIPC website and download naming guidelines",completed:!1,completedDate:null},{id:"st-1-2",title:'Check if "Mlandeli-Notemba Investments" is available',completed:!1,completedDate:null},{id:"st-1-3",title:"Prepare 3 alternative names in case primary is taken",completed:!1,completedDate:null},{id:"st-1-4",title:"Discuss name options with mother",completed:!1,completedDate:null}],dependencies:[],tags:["research","cipc","naming"],createdAt:new Date("2025-10-12"),updatedAt:new Date("2025-10-12"),changeHistory:[]},{id:"task-2",title:"Check Name Availability on CIPC Portal",description:"Use the CIPC online portal to search for name availability and check for similar existing company names.",assignedTo:"Solo (Lonwabo Mdeni)",status:"not-started",priority:"high",dueDate:new Date("2025-10-15"),completedDate:null,notes:[],subtasks:[{id:"st-2-1",title:"Create CIPC customer account if needed",completed:!1,completedDate:null},{id:"st-2-2",title:'Search for "Mlandeli-Notemba Investments"',completed:!1,completedDate:null},{id:"st-2-3",title:"Search for similar names to avoid confusion",completed:!1,completedDate:null},{id:"st-2-4",title:"Document search results with screenshots",completed:!1,completedDate:null}],dependencies:["task-1"],tags:["cipc","verification"],createdAt:new Date("2025-10-12"),updatedAt:new Date("2025-10-12"),changeHistory:[]},{id:"task-3",title:"Submit Name Reservation Application",description:"Submit the CoR9.1 form to CIPC to reserve the chosen company name for 60 days.",assignedTo:"Solo (Lonwabo Mdeni)",status:"not-started",priority:"urgent",dueDate:new Date("2025-10-17"),completedDate:null,notes:[],subtasks:[{id:"st-3-1",title:"Complete CoR9.1 form with company details",completed:!1,completedDate:null},{id:"st-3-2",title:"Prepare payment for R50 name reservation fee",completed:!1,completedDate:null},{id:"st-3-3",title:"Submit form via CIPC e-Services",completed:!1,completedDate:null},{id:"st-3-4",title:"Save confirmation email and reference number",completed:!1,completedDate:null},{id:"st-3-5",title:"Await approval (typically 1-2 business days)",completed:!1,completedDate:null}],dependencies:["task-2"],tags:["cipc","submission","urgent"],createdAt:new Date("2025-10-12"),updatedAt:new Date("2025-10-12"),changeHistory:[]},{id:"task-4",title:"Gather Directors/Shareholders ID Documents",description:"Collect certified copies of ID documents for all directors and shareholders (Solo and Notemba).",assignedTo:"Solo (Lonwabo Mdeni)",status:"not-started",priority:"high",dueDate:new Date("2025-10-20"),completedDate:null,notes:[],subtasks:[{id:"st-4-1",title:"Get certified copy of Solo's ID (R25 per copy)",completed:!1,completedDate:null},{id:"st-4-2",title:"Get certified copy of Mother's ID",completed:!1,completedDate:null},{id:"st-4-3",title:"Ensure certifications are recent (within 3 months)",completed:!1,completedDate:null},{id:"st-4-4",title:"Make additional copies for bank account opening",completed:!1,completedDate:null},{id:"st-4-5",title:"Store digital scans in secure folder",completed:!1,completedDate:null}],dependencies:["task-3"],tags:["documentation","legal"],createdAt:new Date("2025-10-12"),updatedAt:new Date("2025-10-12"),changeHistory:[]},{id:"task-5",title:"Prepare Proof of Address Documents",description:"Obtain recent proof of address for all directors (utility bill, bank statement, or municipal account).",assignedTo:"Solo (Lonwabo Mdeni)",status:"not-started",priority:"high",dueDate:new Date("2025-10-21"),completedDate:null,notes:[],subtasks:[{id:"st-5-1",title:"Get Solo's proof of address (not older than 3 months)",completed:!1,completedDate:null},{id:"st-5-2",title:"Get Mother's proof of address",completed:!1,completedDate:null},{id:"st-5-3",title:"Ensure addresses match ID addresses or get affidavit",completed:!1,completedDate:null},{id:"st-5-4",title:"Make certified copies",completed:!1,completedDate:null}],dependencies:["task-3"],tags:["documentation","legal"],createdAt:new Date("2025-10-12"),updatedAt:new Date("2025-10-12"),changeHistory:[]},{id:"task-6",title:"Draft Memorandum of Incorporation (MOI)",description:"Create the company's MOI defining the company structure, share allocation, and governance rules.",assignedTo:"Solo (Lonwabo Mdeni)",status:"not-started",priority:"high",dueDate:new Date("2025-10-24"),completedDate:null,notes:[],subtasks:[{id:"st-6-1",title:"Use CIPC standard MOI template or customize",completed:!1,completedDate:null},{id:"st-6-2",title:"Define share structure (e.g., 100 shares total)",completed:!1,completedDate:null},{id:"st-6-3",title:"Allocate shares to directors/shareholders",completed:!1,completedDate:null},{id:"st-6-4",title:"Define company objects and business activities",completed:!1,completedDate:null},{id:"st-6-5",title:"Review MOI with mother for approval",completed:!1,completedDate:null},{id:"st-6-6",title:"Have MOI reviewed by lawyer (optional but recommended)",completed:!1,completedDate:null}],dependencies:["task-3"],tags:["documentation","legal","governance"],createdAt:new Date("2025-10-12"),updatedAt:new Date("2025-10-12"),changeHistory:[]},{id:"task-7",title:"Determine Company Registered Address",description:"Select and document the official registered address for MNI (can be residential or business address).",assignedTo:"Solo (Lonwabo Mdeni)",status:"not-started",priority:"medium",dueDate:new Date("2025-10-23"),completedDate:null,notes:[],subtasks:[{id:"st-7-1",title:"Decide between home address or virtual office",completed:!1,completedDate:null},{id:"st-7-2",title:"Get written consent from property owner if using rental",completed:!1,completedDate:null},{id:"st-7-3",title:"Prepare proof of registered address",completed:!1,completedDate:null},{id:"st-7-4",title:"Document full postal and physical addresses",completed:!1,completedDate:null}],dependencies:[],tags:["documentation","address"],createdAt:new Date("2025-10-12"),updatedAt:new Date("2025-10-12"),changeHistory:[]},{id:"task-8",title:"Complete CoR14.1 Company Registration Form",description:"Fill out the official CIPC CoR14.1 form for private company registration.",assignedTo:"Solo (Lonwabo Mdeni)",status:"not-started",priority:"urgent",dueDate:new Date("2025-11-03"),completedDate:null,notes:[],subtasks:[{id:"st-8-1",title:"Download CoR14.1 form from CIPC portal",completed:!1,completedDate:null},{id:"st-8-2",title:"Enter reserved company name details",completed:!1,completedDate:null},{id:"st-8-3",title:"List all directors with ID numbers and addresses",completed:!1,completedDate:null},{id:"st-8-4",title:"List all shareholders with share allocations",completed:!1,completedDate:null},{id:"st-8-5",title:"Enter registered address details",completed:!1,completedDate:null},{id:"st-8-6",title:"Specify financial year-end date",completed:!1,completedDate:null},{id:"st-8-7",title:"Review form with mother for accuracy",completed:!1,completedDate:null}],dependencies:["task-4","task-5","task-6","task-7"],tags:["cipc","registration","urgent"],createdAt:new Date("2025-10-12"),updatedAt:new Date("2025-10-12"),changeHistory:[]},{id:"task-9",title:"Compile Registration Document Package",description:"Assemble all required documents for CIPC submission.",assignedTo:"Solo (Lonwabo Mdeni)",status:"not-started",priority:"high",dueDate:new Date("2025-11-05"),completedDate:null,notes:[],subtasks:[{id:"st-9-1",title:"Include completed CoR14.1 form",completed:!1,completedDate:null},{id:"st-9-2",title:"Include Memorandum of Incorporation (MOI)",completed:!1,completedDate:null},{id:"st-9-3",title:"Include certified ID copies of all directors",completed:!1,completedDate:null},{id:"st-9-4",title:"Include proof of address for all directors",completed:!1,completedDate:null},{id:"st-9-5",title:"Include consent letters if using residential address",completed:!1,completedDate:null},{id:"st-9-6",title:"Create checklist to verify all documents present",completed:!1,completedDate:null}],dependencies:["task-8"],tags:["documentation","organization"],createdAt:new Date("2025-10-12"),updatedAt:new Date("2025-10-12"),changeHistory:[]},{id:"task-10",title:"Submit Registration to CIPC and Pay Fees",description:"Submit the complete registration package via CIPC e-Services and pay the registration fee (approximately R500).",assignedTo:"Solo (Lonwabo Mdeni)",status:"not-started",priority:"urgent",dueDate:new Date("2025-11-07"),completedDate:null,notes:[],subtasks:[{id:"st-10-1",title:"Log into CIPC e-Services portal",completed:!1,completedDate:null},{id:"st-10-2",title:"Upload all documents in correct format (PDF)",completed:!1,completedDate:null},{id:"st-10-3",title:"Pay R500 registration fee via online payment",completed:!1,completedDate:null},{id:"st-10-4",title:"Save payment confirmation and receipt",completed:!1,completedDate:null},{id:"st-10-5",title:"Note application reference number",completed:!1,completedDate:null},{id:"st-10-6",title:"Await registration confirmation (7-14 days typically)",completed:!1,completedDate:null}],dependencies:["task-9"],tags:["cipc","submission","payment","urgent"],createdAt:new Date("2025-10-12"),updatedAt:new Date("2025-10-12"),changeHistory:[]},{id:"task-11",title:"Apply for Tax Compliance (Income Tax & VAT)",description:"Register the company with SARS for income tax and VAT (if applicable).",assignedTo:"Solo (Lonwabo Mdeni)",status:"not-started",priority:"high",dueDate:new Date("2025-11-16"),completedDate:null,notes:[],subtasks:[{id:"st-11-1",title:"Obtain company registration certificate from CIPC first",completed:!1,completedDate:null},{id:"st-11-2",title:"Register on SARS eFiling as company representative",completed:!1,completedDate:null},{id:"st-11-3",title:"Apply for company income tax number",completed:!1,completedDate:null},{id:"st-11-4",title:"Determine if VAT registration needed (R1m+ turnover)",completed:!1,completedDate:null},{id:"st-11-5",title:"Apply for VAT number if required",completed:!1,completedDate:null},{id:"st-11-6",title:"Set up SARS tax payment method",completed:!1,completedDate:null}],dependencies:["task-10"],tags:["sars","tax","compliance"],createdAt:new Date("2025-10-12"),updatedAt:new Date("2025-10-12"),changeHistory:[]},{id:"task-12",title:"Open Company Bank Account",description:"Open a dedicated business bank account for MNI with a major South African bank.",assignedTo:"Solo (Lonwabo Mdeni)",status:"not-started",priority:"high",dueDate:new Date("2025-11-21"),completedDate:null,notes:[],subtasks:[{id:"st-12-1",title:"Research business account options (FNB, Standard Bank, Nedbank, etc.)",completed:!1,completedDate:null},{id:"st-12-2",title:"Prepare required documents (CoR14.3, MOI, IDs, proof of address)",completed:!1,completedDate:null},{id:"st-12-3",title:"Schedule appointment with chosen bank",completed:!1,completedDate:null},{id:"st-12-4",title:"Attend bank appointment (may require mother's presence)",completed:!1,completedDate:null},{id:"st-12-5",title:"Activate online banking for company account",completed:!1,completedDate:null},{id:"st-12-6",title:"Order company debit/credit cards",completed:!1,completedDate:null}],dependencies:["task-10"],tags:["banking","finance"],createdAt:new Date("2025-10-12"),updatedAt:new Date("2025-10-12"),changeHistory:[]},{id:"task-13",title:"Set Up Accounting and Bookkeeping System",description:"Establish accounting system for tracking income, expenses, and preparing financial statements.",assignedTo:"Solo (Lonwabo Mdeni)",status:"not-started",priority:"medium",dueDate:new Date("2025-11-25"),completedDate:null,notes:[],subtasks:[{id:"st-13-1",title:"Choose accounting software (Xero, QuickBooks, Sage, etc.)",completed:!1,completedDate:null},{id:"st-13-2",title:"Set up company profile in accounting software",completed:!1,completedDate:null},{id:"st-13-3",title:"Link bank account to accounting system",completed:!1,completedDate:null},{id:"st-13-4",title:"Set up chart of accounts",completed:!1,completedDate:null},{id:"st-13-5",title:"Consider hiring bookkeeper or accountant (optional)",completed:!1,completedDate:null},{id:"st-13-6",title:"Schedule first financial year-end with accountant",completed:!1,completedDate:null}],dependencies:["task-12"],tags:["accounting","finance","compliance"],createdAt:new Date("2025-10-12"),updatedAt:new Date("2025-10-12"),changeHistory:[]},{id:"task-14",title:"Complete Annual Return Compliance Setup",description:"Set up reminders and systems for annual CIPC returns and compliance deadlines.",assignedTo:"Solo (Lonwabo Mdeni)",status:"not-started",priority:"low",dueDate:new Date("2025-11-28"),completedDate:null,notes:[],subtasks:[{id:"st-14-1",title:"Note annual return due date (within 12 months of registration)",completed:!1,completedDate:null},{id:"st-14-2",title:"Set calendar reminders for annual return deadlines",completed:!1,completedDate:null},{id:"st-14-3",title:"Note financial year-end reporting requirements",completed:!1,completedDate:null},{id:"st-14-4",title:"Document all compliance obligations in a checklist",completed:!1,completedDate:null},{id:"st-14-5",title:"Integrate deadlines into Homestead OS calendar",completed:!1,completedDate:null}],dependencies:["task-10"],tags:["compliance","planning","cipc"],createdAt:new Date("2025-10-12"),updatedAt:new Date("2025-10-12"),changeHistory:[]}],deliverables:[{id:"deliverable-1",title:"Name Reservation Certificate",description:'Official CIPC certificate confirming name reservation for "Mlandeli-Notemba Investments (Pty) Ltd"',type:"approval",status:"pending",dueDate:new Date("2025-10-19"),completedDate:null,relatedTasks:["task-1","task-2","task-3"],attachments:[],changeHistory:[]},{id:"deliverable-2",title:"Memorandum of Incorporation (MOI)",description:"Final approved MOI defining company structure and governance",type:"document",status:"pending",dueDate:new Date("2025-10-26"),completedDate:null,relatedTasks:["task-6"],attachments:[],changeHistory:[]},{id:"deliverable-3",title:"Complete Documentation Package",description:"All certified documents ready for CIPC submission",type:"document",status:"pending",dueDate:new Date("2025-11-05"),completedDate:null,relatedTasks:["task-4","task-5","task-7","task-9"],attachments:[],changeHistory:[]},{id:"deliverable-4",title:"Company Registration Certificate (CoR14.3)",description:"Official CIPC registration certificate with company registration number",type:"registration",status:"pending",dueDate:new Date("2025-11-14"),completedDate:null,relatedTasks:["task-8","task-9","task-10"],attachments:[],changeHistory:[]},{id:"deliverable-5",title:"Tax Registration Numbers",description:"SARS income tax and VAT registration numbers",type:"registration",status:"pending",dueDate:new Date("2025-11-20"),completedDate:null,relatedTasks:["task-11"],attachments:[],changeHistory:[]},{id:"deliverable-6",title:"Active Company Bank Account",description:"Operational business bank account with online banking access",type:"other",status:"pending",dueDate:new Date("2025-11-25"),completedDate:null,relatedTasks:["task-12"],attachments:[],changeHistory:[]}],events:[]};var L=s(60493),P=s(42171),O=s(4307),Z=s(10709),_=s(95727),U=s(2066);const F=e=>{let{task:t,onUpdateTask:s,onToggleSubtask:i,onAddNote:n}=e;const[o,m]=(0,r.useState)(!1),[x,u]=(0,r.useState)(!1),[g,h]=(0,r.useState)(""),p=t.subtasks.filter((e=>e.completed)).length,b=p/t.subtasks.length*100;return(0,a.jsxs)("div",{className:"bg-white rounded-lg border-2 border-gray-200 p-4 shadow-sm hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("button",{onClick:()=>{const e=["not-started","in-progress","completed"],a=e.indexOf(t.status),r=e[(a+1)%e.length];s({...t,status:r})},className:"focus:outline-none focus:ring-2 focus:ring-primary-500 rounded","aria-label":"Mark task as ".concat("completed"===t.status?"incomplete":"complete"),children:"completed"===t.status?(0,a.jsx)(L.Z,{className:"h-6 w-6 text-green-600"}):(0,a.jsx)(H,{className:"h-6 w-6 text-gray-400 hover:text-primary-600"})}),(0,a.jsx)("h3",{className:"font-semibold text-lg ".concat("completed"===t.status?"line-through text-gray-500":"text-gray-900"),children:t.title})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap ml-9",children:[(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium border ".concat((e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-300";case"in-progress":return"bg-blue-100 text-blue-800 border-blue-300";case"blocked":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}})(t.status)),children:t.status.replace("-"," ").toUpperCase()}),(0,a.jsxs)("span",{className:"flex items-center gap-1 text-sm font-medium ".concat((e=>{switch(e){case"urgent":return"text-red-600";case"high":return"text-orange-600";case"medium":return"text-yellow-600";default:return"text-gray-600"}})(t.priority)),children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),t.priority.toUpperCase()]}),t.dueDate&&(0,a.jsxs)("span",{className:"flex items-center gap-1 text-sm text-gray-600",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4"}),"Due: ",(0,U.WU)(new Date(t.dueDate),"MMM dd, yyyy")]})]})]}),(0,a.jsx)("button",{onClick:()=>m(!o),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":o?"Collapse task details":"Expand task details",children:o?(0,a.jsx)(P.Z,{className:"h-5 w-5"}):(0,a.jsx)(O.Z,{className:"h-5 w-5"})})]}),(0,a.jsx)("div",{className:"ml-9 mb-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(b,"%")}})}),(0,a.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:[p,"/",t.subtasks.length]})]})}),(0,a.jsx)("p",{className:"text-sm text-gray-600 ml-9 mb-3",children:t.description}),o&&(0,a.jsxs)("div",{className:"ml-9 space-y-4 border-t border-gray-200 pt-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-sm text-gray-900 mb-2",children:"Checklist Steps:"}),(0,a.jsx)("div",{className:"space-y-2",children:t.subtasks.map((e=>(0,a.jsxs)("div",{className:"flex items-start gap-2 group",children:[(0,a.jsx)("button",{onClick:()=>i(t.id,e.id),className:"mt-0.5 focus:outline-none focus:ring-2 focus:ring-primary-500 rounded","aria-label":e.completed?"Mark subtask as incomplete":"Mark subtask as complete",children:e.completed?(0,a.jsx)(Z.Z,{className:"h-5 w-5 text-green-600"}):(0,a.jsx)(_.Z,{className:"h-5 w-5 text-gray-400 group-hover:text-primary-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm ".concat(e.completed?"line-through text-gray-500":"text-gray-700"),children:e.title}),e.completed&&e.completedDate&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["\u2713 Completed ",(0,U.WU)(new Date(e.completedDate),"MMM dd, yyyy"),e.completedBy&&" by ".concat(e.completedBy)]})]})]},e.id)))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h4",{className:"font-semibold text-sm text-gray-900",children:"Notes:"}),(0,a.jsx)("button",{onClick:()=>u(!x),className:"text-xs text-primary-600 hover:text-primary-700 font-medium",children:x?"Cancel":"+ Add Note"})]}),x&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("textarea",{value:g,onChange:e=>h(e.target.value),placeholder:"Add your notes here...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",rows:3}),(0,a.jsx)("button",{onClick:()=>{g.trim()&&(n(t.id,g),h(""),u(!1))},className:"mt-2 px-4 py-2 bg-primary-600 text-white rounded-lg text-sm font-medium hover:bg-primary-700",children:"Save Note"})]}),(0,a.jsx)("div",{className:"space-y-2",children:0===t.notes.length?(0,a.jsx)("p",{className:"text-sm text-gray-500 italic",children:"No notes yet"}):t.notes.map((e=>(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-sm text-gray-700",children:e.content}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[e.author," \u2022 ",(0,U.WU)(new Date(e.createdAt),"MMM dd, yyyy HH:mm")]})]},e.id)))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Assigned to: ",(0,a.jsx)("strong",{children:t.assignedTo})]})]}),t.tags.length>0&&(0,a.jsx)("div",{className:"flex items-center gap-2 flex-wrap",children:t.tags.map((e=>(0,a.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:["#",e]},e)))})]})]})},H=e=>{let{className:t}=e;return(0,a.jsx)("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"2"})})};var W,B,z,G,V,J=s(77918),q=s(8267),K=s(86501),Y=s(99724),X=s(97042);!function(e){e.INDIVIDUAL="individual",e.FAMILY="family",e.COMMUNITY="community",e.PROFESSIONAL="professional"}(W||(W={})),function(e){e.HEALTH="health",e.SAFETY="safety",e.PROPERTY="property",e.EMOTIONAL="emotional",e.FINANCIAL="financial",e.LEGAL="legal",e.OTHER="other"}(B||(B={})),function(e){e.OPEN="open",e.ESCALATED="escalated",e.IN_PROGRESS="in_progress",e.AWAITING_RESPONSE="awaiting_response",e.ON_HOLD="on_hold",e.RESOLVED="resolved",e.ARCHIVED="archived",e.CANCELLED="cancelled"}(z||(z={})),function(e){e.CRITICAL="critical",e.HIGH="high",e.MEDIUM="medium",e.LOW="low"}(G||(G={})),function(e){e.FIRST_RESPONDER="first_responder",e.FAMILY_STEWARD="family_steward",e.COMMUNITY_LEAD="community_lead",e.PROFESSIONAL_HANDLER="professional_handler",e.ESCALATION_MANAGER="escalation_manager"}(V||(V={}));const $=()=>{const{user:e}=(0,u.a)(),[t,s]=(0,r.useState)([]),[i,n]=(0,r.useState)(!0),[o,d]=(0,r.useState)(null),[x,g]=(0,r.useState)("all"),h=(0,r.useCallback)((e=>{const t={[W.INDIVIDUAL]:1,[W.FAMILY]:2,[W.COMMUNITY]:3,[W.PROFESSIONAL]:4},s={[z.OPEN]:10,[z.ESCALATED]:20,[z.IN_PROGRESS]:15,[z.AWAITING_RESPONSE]:12,[z.ON_HOLD]:5,[z.RESOLVED]:0,[z.ARCHIVED]:0,[z.CANCELLED]:0};return(t[e.currentLevel]||0)*(s[e.status]||0)}),[]);(0,r.useEffect)((()=>{if(e)try{const e=(0,Y.IO)((0,Y.hJ)(X.db,"escalations"),(0,Y.Xo)("createdAt","desc")),t=(0,Y.cf)(e,(e=>{const t=[];let a=!1;if(e.docs.forEach((e=>{const s=e.data(),r={...s,id:e.id,createdAt:s.createdAt instanceof Y.EK?s.createdAt.toDate():new Date(s.createdAt),escalatedAt:s.escalatedAt instanceof Y.EK?s.escalatedAt.toDate():s.escalatedAt?new Date(s.escalatedAt):void 0};r.timeAgo=(e=>{const t=Math.floor(((new Date).getTime()-e.getTime())/1e3),s={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};for(const[a,r]of Object.entries(s)){const e=Math.floor(t/r);if(e>=1)return"".concat(e," ").concat(a).concat(1!==e?"s":""," ago")}return"just now"})(r.createdAt),r.priorityScore=h(r),r.status!==z.ESCALATED&&r.status!==z.OPEN||t.some((e=>e.id===r.id))||(a=!0),t.push(r)})),t.sort(((e,t)=>(t.priorityScore||0)-(e.priorityScore||0))),s(t),n(!1),d(null),a&&t.length>0){const e=t.find((e=>e.status===z.ESCALATED&&e.currentLevel===W.PROFESSIONAL));if(e)K.Am.error("\ud83d\udea8 Critical Escalation: ".concat(e.title||"Incident escalated to professional level"),{duration:5e3,icon:"\ud83d\udea8"});else{const e=t[0];e&&e.status===z.ESCALATED&&(0,K.Am)("\ud83d\udcca Escalation: ".concat(e.title||"New incident escalation"),{duration:4e3,icon:"\ud83d\udcca"})}}}),(e=>{d(e.message),n(!1)}));return()=>t()}catch(t){d(t.message),n(!1)}}),[e,h]);const p=t.filter((e=>"all"===x||("open"===x?e.status===z.OPEN:"escalated"===x?e.status===z.ESCALATED:"resolved"!==x||(e.status===z.RESOLVED||e.status===z.ARCHIVED)))),b=e=>{const t={[W.INDIVIDUAL]:{label:"Individual",color:"bg-gray-100 text-gray-800",emoji:"\ud83d\udc64"},[W.FAMILY]:{label:"Family",color:"bg-blue-100 text-blue-800",emoji:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67"},[W.COMMUNITY]:{label:"Community",color:"bg-purple-100 text-purple-800",emoji:"\ud83c\udf10"},[W.PROFESSIONAL]:{label:"Professional",color:"bg-red-100 text-red-800",emoji:"\ud83c\udfe2"}}[e];return(0,a.jsxs)("div",{className:"".concat(t.color," px-2 py-1 rounded-full text-xs font-semibold flex items-center gap-1"),children:[(0,a.jsx)("span",{children:t.emoji}),t.label]})};return i?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading escalations..."})]})}):o?(0,a.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,a.jsxs)("p",{className:"text-red-800",children:[(0,a.jsx)("strong",{children:"Error:"})," ",o]})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex gap-2 flex-wrap border-b border-gray-200",children:["all","open","escalated","resolved"].map((e=>(0,a.jsxs)("button",{onClick:()=>g(e),className:"px-4 py-2 font-medium border-b-2 transition-colors capitalize ".concat(x===e?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:["all"===e?"All":"open"===e?"Open":"escalated"===e?"Escalated":"Resolved"," (",t.filter((t=>"all"===e||"open"===e&&t.status===z.OPEN||"escalated"===e&&t.status===z.ESCALATED||"resolved"===e&&(t.status===z.RESOLVED||t.status===z.ARCHIVED))).length,")"]},e)))}),0===p.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(L.Z,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 font-medium",children:"all"===x?"No escalations":"resolved"===x?"No resolved escalations":"No active escalations"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Great job keeping things running smoothly!"})]}):(0,a.jsx)("div",{className:"space-y-3",children:p.map((e=>{return(0,a.jsx)("div",{className:"p-4 border rounded-lg transition-all hover:shadow-md ".concat(e.status===z.RESOLVED?"bg-gray-50 border-gray-200":e.currentLevel===W.PROFESSIONAL?"bg-red-50 border-red-200":e.status===z.ESCALATED?"bg-orange-50 border-orange-200":"bg-blue-50 border-blue-200"),children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-wrap mb-2",children:[(t=e.status,s=e.currentLevel,t===z.RESOLVED?(0,a.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-semibold",children:[(0,a.jsx)(L.Z,{className:"w-3 h-3"}),"Resolved"]}):t===z.ESCALATED&&s===W.PROFESSIONAL?(0,a.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-semibold",children:[(0,a.jsx)(l.Z,{className:"w-3 h-3"}),"Critical"]}):t===z.ESCALATED?(0,a.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-orange-100 text-orange-800 rounded-full text-xs font-semibold",children:[(0,a.jsx)(m.Z,{className:"w-3 h-3"}),"Escalated"]}):(0,a.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-semibold",children:[(0,a.jsx)(J.Z,{className:"w-3 h-3"}),"Open"]})),b(e.currentLevel)]}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-1 break-words",children:e.title||"Untitled Incident"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-3 break-words",children:e.description||"No description provided"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 text-xs text-gray-600",children:[e.location&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{children:"\ud83d\udccd"}),e.location]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(c.Z,{className:"w-3 h-3"}),e.timeAgo]}),e.createdBy&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(q.Z,{className:"w-3 h-3"}),"Created by: ",e.createdBy]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{className:"px-3 py-1 bg-blue-600 text-white rounded text-sm font-medium hover:bg-blue-700 transition-colors",children:"View Details"}),e.status!==z.RESOLVED&&(0,a.jsx)("button",{className:"px-3 py-1 bg-green-600 text-white rounded text-sm font-medium hover:bg-green-700 transition-colors",children:"Respond"})]})]})},e.id);var t,s}))}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-gray-200",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:t.filter((e=>e.status===z.ESCALATED&&e.currentLevel===W.PROFESSIONAL)).length}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Critical"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:t.filter((e=>e.status===z.ESCALATED)).length}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Escalated"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:t.filter((e=>e.status===z.OPEN)).length}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Open"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:t.filter((e=>e.status===z.RESOLVED||e.status===z.ARCHIVED)).length}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Resolved"})]})]})]})};var Q=s(4270),ee=s(62190),te=s(48654),se=s(19498),ae=s(89616);const re=new class{async sendNotification(e){try{const t=await se.S.getUserPreferences(e.userId);if(await se.S.isInDoNotDisturb(e.userId)&&e.priority!==te.RX.CRITICAL)return this.recordNotificationSkipped(e,"user_in_dnd");if(!this.isNotificationTypeEnabled(e.type,t))return this.recordNotificationSkipped(e,"type_disabled");const s=await this.determineChannels(e,t);if(0===s.length)return this.recordNotificationSkipped(e,"no_channels_enabled");const a=await this.createNotificationRecord(e,s),r=await Promise.allSettled(s.map((s=>this.sendViaChannel(s,e,a,t))));return await this.updateDeliveryStatus(a,r),a}catch(t){throw t}}async sendToMultipleUsers(e,t){const s=new Map;for(const r of e)try{const e=await this.sendNotification({...t,userId:r});s.set(r,e)}catch(a){s.set(r,a instanceof Error?a:new Error(String(a)))}return s}async sendNotificationsByRole(e,t){try{const s=(0,Y.IO)((0,Y.hJ)(X.db,"users"),(0,Y.ar)("role","==",e)),a=(await(0,Y.PL)(s)).docs.map((e=>e.id));return this.sendToMultipleUsers(a,t)}catch(s){throw s}}async getNotificationHistory(e,t){try{var s,a;let o=(0,Y.IO)((0,Y.hJ)(X.db,"users",e,"notifications"),(0,Y.ar)("archived","==",null!==(s=null===t||void 0===t?void 0:t.archived)&&void 0!==s&&s),(0,Y.Xo)("createdAt","desc"),(0,Y.b9)(null!==(a=null===t||void 0===t?void 0:t.limit)&&void 0!==a?a:50));var r,i,n,l;if(null===t||void 0===t?void 0:t.unreadOnly)o=(0,Y.IO)((0,Y.hJ)(X.db,"users",e,"notifications"),(0,Y.ar)("read","==",!1),(0,Y.ar)("archived","==",null!==(r=t.archived)&&void 0!==r&&r),(0,Y.Xo)("createdAt","desc"),(0,Y.b9)(null!==(i=null===t||void 0===t?void 0:t.limit)&&void 0!==i?i:50));if(null===t||void 0===t?void 0:t.type)o=(0,Y.IO)((0,Y.hJ)(X.db,"users",e,"notifications"),(0,Y.ar)("type","==",t.type),(0,Y.ar)("archived","==",null!==(n=t.archived)&&void 0!==n&&n),(0,Y.Xo)("createdAt","desc"),(0,Y.b9)(null!==(l=null===t||void 0===t?void 0:t.limit)&&void 0!==l?l:50));return(await(0,Y.PL)(o)).docs.map((e=>({...e.data(),id:e.id})))}catch(o){throw o}}async markAsRead(e,t){try{const s=(0,Y.JU)(X.db,"users",e,"notifications",t);await(0,Y.r7)(s,{read:!0,readAt:new Date})}catch(s){throw s}}async markAllAsRead(e){try{const t=(0,Y.qs)(X.db),s=(0,Y.IO)((0,Y.hJ)(X.db,"users",e,"notifications"),(0,Y.ar)("read","==",!1));(await(0,Y.PL)(s)).docs.forEach((e=>{t.update(e.ref,{read:!0,readAt:new Date})})),await t.commit()}catch(t){throw t}}async archiveNotification(e,t){try{const s=(0,Y.JU)(X.db,"users",e,"notifications",t);await(0,Y.r7)(s,{archived:!0,archivedAt:new Date})}catch(s){throw s}}async deleteNotification(e,t){try{const s=(0,Y.JU)(X.db,"users",e,"notifications",t);await(0,Y.r7)(s,{archived:!0,archivedAt:new Date,deletedAt:new Date})}catch(s){throw s}}async recordNotificationAction(e,t,s){try{const a=(0,Y.JU)(X.db,"users",e,"notifications",t);await(0,Y.r7)(a,{actionTaken:!0,actionTakenAt:new Date,actionType:s})}catch(a){throw a}}async getNotificationCounts(e){try{const t=(0,Y.IO)((0,Y.hJ)(X.db,"users",e,"notifications"),(0,Y.ar)("archived","==",!1)),s=await(0,Y.PL)(t),a=(0,Y.IO)((0,Y.hJ)(X.db,"users",e,"notifications"),(0,Y.ar)("read","==",!1),(0,Y.ar)("archived","==",!1)),r=await(0,Y.PL)(a),i=(0,Y.IO)((0,Y.hJ)(X.db,"users",e,"notifications"),(0,Y.ar)("priority","==",te.RX.CRITICAL),(0,Y.ar)("archived","==",!1)),n=await(0,Y.PL)(i);return{total:s.size,unread:r.size,urgent:n.size}}catch(t){return{total:0,unread:0,urgent:0}}}async cleanupOldNotifications(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;try{const t=new Date;t.setDate(t.getDate()-e);const s=(0,Y.IO)((0,Y.hJ)(X.db,"users")),a=await(0,Y.PL)(s);let r=0;for(const e of a.docs){const s=(0,Y.IO)((0,Y.hJ)(X.db,"users",e.id,"notifications"),(0,Y.ar)("createdAt","<",t),(0,Y.ar)("archived","==",!0)),a=await(0,Y.PL)(s),i=(0,Y.qs)(X.db);a.docs.forEach((e=>{i.delete(e.ref),r++})),a.docs.length>0&&await i.commit()}return r}catch(t){throw t}}isNotificationTypeEnabled(e,t){var s;const a={[te.k$.ESCALATION_CREATED]:"escalationCreated",[te.k$.ESCALATION_ASSIGNED]:"escalationAssigned",[te.k$.ESCALATION_ESCALATED]:"escalationEscalated",[te.k$.ESCALATION_RESOLVED]:"escalationResolved",[te.k$.ESCALATION_URGENT]:"escalationUrgent",[te.k$.RESPONSE_DUE]:"responseDue",[te.k$.ASSIGNMENT_ACKNOWLEDGED]:"assignmentAcknowledged",[te.k$.COMMENT_ADDED]:"commentAdded",[te.k$.STATUS_CHANGED]:"statusChanged",[te.k$.CUSTOM]:"escalationCreated"}[e];var r;return null===(r=null===(s=t.types)||void 0===s?void 0:s[a])||void 0===r||r}async determineChannels(e,t){const s=[];for(const i of e.channels){var a,r;if(!(null===(r=t.channels)||void 0===r||null===(a=r[i])||void 0===a?void 0:a.enabled))continue;await se.S.isInQuietHours(e.userId,i,e.type)&&e.priority!==te.RX.CRITICAL||s.push(i)}return s}async sendViaChannel(e,t,s,a){try{switch(e){case te.dm.WEB:return this.sendWebNotification(t);case te.dm.PUSH:return this.sendPushNotification(t);case te.dm.EMAIL:case te.dm.SMS:return{status:"pending"};default:return{status:"failed",error:"Unknown channel"}}}catch(r){return{status:"failed",error:r instanceof Error?r.message:"Unknown error"}}}sendWebNotification(e){try{const{toastManager:t}=s(62659);return t[e.priority===te.RX.CRITICAL?"error":"info"](e.message,{duration:e.priority===te.RX.CRITICAL?1e4:5e3}),{status:"sent"}}catch(t){return{status:"failed",error:t instanceof Error?t.message:"Failed to send web notification"}}}async sendPushNotification(e){try{return ae.notificationService.showNotification({title:e.title,body:e.body||e.message,icon:e.icon,data:e.data,requireInteraction:e.priority===te.RX.CRITICAL}),{status:"sent"}}catch(t){return{status:"failed",error:t instanceof Error?t.message:"Failed to send push notification"}}}async createNotificationRecord(e,t){const s={id:"",userId:e.userId,type:e.type,priority:e.priority,title:e.title,message:e.message,body:e.body,data:e.data,channels:t,deliveryStatus:{},read:!1,actionTaken:!1,archived:!1,createdAt:new Date,updatedAt:new Date};return(await(0,Y.ET)((0,Y.hJ)(X.db,"users",e.userId,"notifications"),{...s,createdAt:Y.EK.now(),updatedAt:Y.EK.now()})).id}async updateDeliveryStatus(e,t){}async recordNotificationSkipped(e,t){return"skipped-".concat(t)}};var ie;function ne(e){switch(e){case"critical":return te.RX.CRITICAL;case"high":return te.RX.HIGH;case"medium":return te.RX.NORMAL;default:return te.RX.LOW}}async function le(e){try{const t=ne(e.severity);await re.sendNotification({userId:e.createdBy,type:te.k$.ESCALATION_CREATED,priority:t,title:"Escalation Created: ".concat(e.escalationTitle),message:"New ".concat(e.severity," severity escalation at ").concat(e.currentLevel," level"),body:"New ".concat(e.severity," severity escalation at ").concat(e.currentLevel," level"),data:{escalationId:e.escalationId,actionUrl:"/intranet/escalations/".concat(e.escalationId)},channels:[te.dm.WEB,te.dm.EMAIL],createdAt:new Date})}catch(t){}}!function(e){e.CREATED="escalation.created",e.ASSIGNED="escalation.assigned",e.ESCALATED="escalation.escalated",e.RESOLVED="escalation.resolved"}(ie||(ie={}));const oe=e=>{let{isOpen:t=!1,onClose:s}=e;const{user:i}=(0,u.a)(),[n,l]=(0,r.useState)(t),[o,d]=(0,r.useState)(!1),[c,m]=(0,r.useState)({title:"",description:"",location:"",severity:G.MEDIUM}),x=e=>{const{name:t,value:s}=e.target;m((e=>({...e,[t]:s})))};return n?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg max-w-2xl w-full max-h-[90vh] overflow-auto",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Create New Incident"}),(0,a.jsx)("button",{onClick:()=>l(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:(0,a.jsx)(ee.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i)if(c.title.trim())if(c.description.trim()){d(!0);try{var t;let e=W.INDIVIDUAL,a=z.OPEN;c.severity===G.CRITICAL?(e=W.PROFESSIONAL,a=z.ESCALATED):c.severity===G.HIGH&&(e=W.FAMILY,a=z.ESCALATED);const r=(0,Y.hJ)(X.db,"escalations"),n=new Date,o=await(0,Y.ET)(r,{title:c.title.trim(),description:c.description.trim(),location:(null===(t=c.location)||void 0===t?void 0:t.trim())||"",severity:c.severity,currentLevel:e,status:a,createdBy:i.id,createdAt:(0,Y.Bt)(),escalatedAt:a===z.ESCALATED?(0,Y.Bt)():null,currentOwner:i.id,responders:[],auditTrail:[{id:"audit_".concat(Date.now()),escalationId:"",action:"created",userId:i.id,timestamp:n.toISOString(),level:e,changes:{status:a,severity:c.severity}}],metadata:{reportedBy:i.email,reportedAt:(new Date).toISOString()}});await le({escalationId:o.id,escalationTitle:c.title.trim(),severity:c.severity,currentLevel:e,createdBy:i.id,timestamp:new Date}),K.Am.success(c.severity===G.CRITICAL?"\ud83d\udea8 Critical incident created and escalated to professional level":c.severity===G.HIGH?"\u26a0\ufe0f High-priority incident created and escalated to family level":"\ud83d\udccb Incident created successfully",{duration:4e3}),m({title:"",description:"",location:"",severity:G.MEDIUM}),l(!1),s&&s()}catch(a){K.Am.error("Failed to create incident: ".concat(a.message))}finally{d(!1)}}else K.Am.error("Please enter an incident description");else K.Am.error("Please enter an incident title");else K.Am.error("You must be signed in to create an incident")},className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Incident Title ",(0,a.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,a.jsx)("input",{type:"text",name:"title",value:c.title,onChange:x,placeholder:"e.g., Medical emergency, Conflict resolution, System failure",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Description ",(0,a.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,a.jsx)("textarea",{name:"description",value:c.description,onChange:x,placeholder:"Provide detailed information about the incident...",rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent resize-none",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Location ",(0,a.jsx)("span",{className:"text-gray-500",children:"(optional)"})]}),(0,a.jsx)("input",{type:"text",name:"location",value:c.location,onChange:x,placeholder:"e.g., Home, Office, School",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Severity Level ",(0,a.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,a.jsxs)("select",{name:"severity",value:c.severity,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",children:[(0,a.jsx)("option",{value:G.LOW,children:"\ud83d\udfe2 Low - Minor issue, logging only"}),(0,a.jsx)("option",{value:G.MEDIUM,children:"\ud83d\udfe1 Medium - Moderate issue, family notification"}),(0,a.jsx)("option",{value:G.HIGH,children:"\ud83d\udfe0 High - Serious issue, escalates to family level"}),(0,a.jsx)("option",{value:G.CRITICAL,children:"\ud83d\udd34 Critical - Emergency, escalates to professional level"})]}),(0,a.jsxs)("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-900",children:[(0,a.jsx)("p",{className:"font-semibold mb-1",children:"Auto-Escalation Rules:"}),(0,a.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[(0,a.jsx)("li",{children:"\ud83d\udfe2 Low: Logged only (no escalation)"}),(0,a.jsx)("li",{children:"\ud83d\udfe1 Medium: Family notified (no auto-escalation)"}),(0,a.jsx)("li",{children:"\ud83d\udfe0 High: Automatically escalates to family level"}),(0,a.jsx)("li",{children:"\ud83d\udd34 Critical: Immediately escalates to professional level"})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,a.jsx)("button",{type:"button",onClick:()=>l(!1),disabled:o,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating..."]}):"Create Incident"})]})]})]})}):(0,a.jsxs)("button",{onClick:()=>l(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[(0,a.jsx)(Q.Z,{className:"w-4 h-4"}),"New Incident"]})};var de,ce,me;!function(e){e.TEAM_LEAD="team_lead",e.SENIOR_RESPONDER="senior_responder",e.RESPONDER="responder",e.JUNIOR_RESPONDER="junior_responder",e.SPECIALIST="specialist"}(de||(de={})),function(e){e.AUTOMATIC="automatic",e.ROUND_ROBIN="round_robin",e.LOAD_BALANCED="load_balanced",e.SKILL_BASED="skill_based",e.AVAILABILITY="availability",e.MANUAL="manual"}(ce||(ce={})),function(e){e.NOT_STARTED="not_started",e.IN_PROGRESS="in_progress",e.AT_RISK="at_risk",e.BREACHED="breached",e.RESOLVED="resolved",e.FAILED="failed"}(me||(me={}));const xe=new class{async getTeamWorkload(e){try{const t=(0,Y.IO)((0,Y.hJ)(X.db,this.WORKLOAD_COLLECTION),(0,Y.ar)("teamId","==",e),(0,Y.Xo)("timestamp","desc"),(0,Y.b9)(1)),s=await(0,Y.PL)(t);return s.empty?null:s.docs[0].data()}catch(t){return null}}async recordAssignment(e,t,s){try{const a={teamId:e,memberId:t,escalationId:s,createdAt:new Date,completed:!1};await(0,Y.ET)((0,Y.hJ)(X.db,"".concat(this.WORKLOAD_COLLECTION,"/assignments")),a),await this.updateWorkloadSnapshot(e)}catch(a){}}async completeAssignment(e,t){try{const s=(0,Y.IO)((0,Y.hJ)(X.db,"".concat(this.WORKLOAD_COLLECTION,"/assignments")),(0,Y.ar)("escalationId","==",e),(0,Y.ar)("teamId","==",t),(0,Y.ar)("completed","==",!1)),a=await(0,Y.PL)(s);for(const e of a.docs)await(0,Y.r7)(e.ref,{completed:!0,completedAt:new Date});await this.updateWorkloadSnapshot(t)}catch(s){}}async getMemberWorkload(e,t){try{const s=(0,Y.IO)((0,Y.hJ)(X.db,"".concat(this.WORKLOAD_COLLECTION,"/assignments")),(0,Y.ar)("teamId","==",e),(0,Y.ar)("memberId","==",t),(0,Y.ar)("completed","==",!1));return(await(0,Y.PL)(s)).size}catch(s){return 0}}async getLeastBusyMember(e,t){try{let s=t[0]||null,a=1/0;for(const r of t){const t=await this.getMemberWorkload(e,r);t<a&&(a=t,s=r)}return s}catch(s){return t[0]||null}}async isMemberOverloaded(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;try{return await this.getMemberWorkload(e,t)>=s}catch(a){return!1}}async updateWorkloadSnapshot(e){try{const t=(0,Y.IO)((0,Y.hJ)(X.db,"".concat(this.WORKLOAD_COLLECTION,"/assignments")),(0,Y.ar)("teamId","==",e),(0,Y.ar)("completed","==",!1)),s=(await(0,Y.PL)(t)).docs.map((e=>e.data())),a={};s.forEach((e=>{a[e.memberId]=(a[e.memberId]||0)+1}));const r={teamId:e,timestamp:new Date,totalActive:s.length,memberLoads:Object.entries(a).map((e=>{let[t,s]=e;return{memberId:t,currentAssignments:s}}))},i=(0,Y.IO)((0,Y.hJ)(X.db,this.WORKLOAD_COLLECTION),(0,Y.ar)("teamId","==",e),(0,Y.Xo)("timestamp","desc"),(0,Y.b9)(1)),n=await(0,Y.PL)(i);n.empty?await(0,Y.ET)((0,Y.hJ)(X.db,this.WORKLOAD_COLLECTION),r):await(0,Y.r7)(n.docs[0].ref,r)}catch(t){}}async getWorkloadBalance(e,t){try{const s=[];for(const l of t){const t=await this.getMemberWorkload(e,l);s.push(t)}if(0===s.length)return{balanced:!0,maxLoad:0,minLoad:0,variance:0};const a=Math.max(...s),r=Math.min(...s),i=s.reduce(((e,t)=>e+t))/s.length,n=s.reduce(((e,t)=>e+Math.pow(t-i,2)),0)/s.length;return{balanced:n<2,maxLoad:a,minLoad:r,variance:Math.round(100*n)/100,loads:t.map(((e,t)=>({memberId:e,load:s[t]})))}}catch(s){return{balanced:!1,maxLoad:0,minLoad:0,variance:0}}}async predictTeamCapacity(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;try{let a=0;for(const s of t)a+=await this.getMemberWorkload(e,s);const r=a+s,i=20;return{currentLoad:a,projectedLoad:r,atCapacity:r>=i,recommendation:r>=.9*i?"Team approaching capacity":"Team has available capacity"}}catch(a){return{currentLoad:0,projectedLoad:0,atCapacity:!1,recommendation:"Error calculating capacity"}}}constructor(){this.WORKLOAD_COLLECTION="team_workload_snapshots"}},ue=e=>{let{teamId:t,escalationId:s,escalationPriority:i="medium",assignmentStrategy:n=ce.LOAD_BALANCED,onAssignmentComplete:o}=e;const[x,u]=(0,r.useState)([]),[g,h]=(0,r.useState)([]),[p,b]=(0,r.useState)(null),[y,f]=(0,r.useState)(!0),[j,v]=(0,r.useState)(!1),[N,w]=(0,r.useState)(n),[D,S]=(0,r.useState)(0);(0,r.useEffect)((()=>{C()}),[t]);const C=async()=>{try{f(!0);const e=[{id:"member-1",name:"Alice Johnson",role:"Senior Support Engineer",status:"available",currentWorkload:2,maxCapacity:5,skillTags:["technical","escalations","vip"]},{id:"member-2",name:"Bob Smith",role:"Support Engineer",status:"busy",currentWorkload:4,maxCapacity:5,skillTags:["technical","billing"]},{id:"member-3",name:"Carol Martinez",role:"Support Specialist",status:"available",currentWorkload:1,maxCapacity:5,skillTags:["general","billing","refunds"]},{id:"member-4",name:"David Lee",role:"Support Engineer",status:"available",currentWorkload:3,maxCapacity:5,skillTags:["technical","api","integrations"]}];u(e);const t=k(e);h(t);const s=e.map((e=>e.currentWorkload)),a=s.reduce(((e,t)=>e+t),0)/s.length,r=s.reduce(((e,t)=>e+Math.pow(t-a,2)),0)/s.length,i=Math.sqrt(r);S(i),t.length>0&&b(t[0].memberId)}catch(e){K.ZP.error("Failed to load team data")}finally{f(!1)}},k=e=>e.filter((e=>"offline"!==e.status)).map((e=>{var t;const s=e.currentWorkload/e.maxCapacity*100;let a=s;return"critical"===i&&(null===(t=e.skillTags)||void 0===t?void 0:t.includes("technical"))&&(a-=20),s>80&&(a+=50),{memberId:e.id,memberName:e.name,workload:e.currentWorkload,capacity:e.maxCapacity,utilization:s,recommendedScore:Math.max(0,a)}})).sort(((e,t)=>e.recommendedScore-t.recommendedScore));return y?(0,a.jsx)("div",{className:"p-6 bg-white rounded-lg shadow",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading team data..."})]})})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(d.Z,{className:"w-6 h-6 text-blue-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Team Assignment"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:x.length}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"team members"})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 text-blue-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Workload Balance Score:"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-32 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-green-400 to-blue-500 transition-all",style:{width:"".concat(Math.min(20*D,100),"%")}})}),(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:D.toFixed(2)})]})]}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-2",children:"Lower score indicates better team balance"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Assignment Strategy"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[{value:ce.LOAD_BALANCED,label:"Load Balanced",desc:"Lowest workload"},{value:ce.ROUND_ROBIN,label:"Round Robin",desc:"Fair distribution"},{value:ce.SKILL_BASED,label:"Skill-Based",desc:"Best match"}].map((e=>(0,a.jsxs)("button",{onClick:()=>(e=>{w(e);let t=[...g];switch(e){case ce.LOAD_BALANCED:t.sort(((e,t)=>e.utilization-t.utilization));break;case ce.ROUND_ROBIN:t.sort(((e,t)=>e.workload-t.workload));break;case ce.SKILL_BASED:t.sort(((e,t)=>t.recommendedScore-e.recommendedScore))}h(t),t.length>0&&b(t[0].memberId)})(e.value),className:"p-3 rounded-lg border-2 transition-all text-left ".concat(N===e.value?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"),children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.label}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:e.desc})]},e.value)))})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Recommended Assignment Order"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-1 gap-3",children:g.map(((e,t)=>{const s=x.find((t=>t.id===e.memberId));if(!s)return null;const r=(e=>{const t=e.currentWorkload/e.maxCapacity*100;return"offline"===e.status?"Offline":t>=80?"Overloaded":t>=60||"busy"===e.status?"Busy":"Available"})(s),i=(e=>{switch(e){case"Offline":return"bg-gray-200";case"Overloaded":return"bg-red-200";case"Busy":return"bg-yellow-200";default:return"bg-green-200"}})(r);return(0,a.jsxs)("button",{onClick:()=>b(e.memberId),className:"p-4 rounded-lg border-2 transition-all text-left ".concat(p===e.memberId?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white font-semibold",children:s.name.split(" ").map((e=>e[0])).join("")})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:s.name}),(0,a.jsx)("span",{className:"text-xs font-semibold px-2 py-1 rounded-full ".concat(i," text-gray-700"),children:r})]}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:s.role})]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("div",{className:"text-xs font-semibold text-gray-900",children:["Rank #",t+1]})})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"text-xs font-medium text-gray-700",children:"Workload"}),(0,a.jsxs)("span",{className:"text-xs font-semibold text-gray-900",children:[e.workload,"/",e.capacity," (",Math.round(e.utilization),"%)"]})]}),(0,a.jsx)("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full transition-all ".concat(e.utilization>=80?"bg-red-500":e.utilization>=60?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(e.utilization,"%")}})})]}),s.skillTags&&s.skillTags.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 mb-2",children:[s.skillTags.slice(0,3).map((e=>(0,a.jsx)("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:e},e))),s.skillTags.length>3&&(0,a.jsxs)("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:["+",s.skillTags.length-3]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200",children:[(0,a.jsx)("span",{className:"text-xs text-gray-600",children:"Recommendation Score"}),(0,a.jsx)("span",{className:"text-sm font-bold text-blue-600",children:e.recommendedScore.toFixed(1)})]})]},e.memberId)}))})]}),p&&(()=>{const e=g.find((e=>e.memberId===p));return e&&e.utilization>=80?(0,a.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(l.Z,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-red-900",children:"Workload Warning"}),(0,a.jsxs)("p",{className:"text-sm text-red-700 mt-1",children:["This team member is approaching capacity (",e.utilization.toFixed(0),"%). Consider distributing work or assigning to a less busy member."]})]})]})}):null})(),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 flex gap-3",children:[(0,a.jsx)("button",{onClick:async()=>{if(p)try{v(!0);const e=x.find((e=>e.id===p));if(!e)return void K.ZP.error("Member not found");await xe.recordAssignment(t,p,s),K.ZP.success("Assigned to ".concat(e.name)),o&&o(p,e.name),await C()}catch(e){K.ZP.error("Failed to assign escalation")}finally{v(!1)}else K.ZP.error("Please select a team member")},disabled:!p||j,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:j?(0,a.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Assigning..."]}):"Assign Escalation"}),(0,a.jsx)("button",{onClick:()=>C(),disabled:y||j,className:"bg-gray-200 hover:bg-gray-300 disabled:bg-gray-400 text-gray-900 font-medium py-2 px-4 rounded-lg transition-colors",children:"Refresh"})]}),(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 text-sm text-gray-700 flex items-start gap-2",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),(0,a.jsx)("p",{children:"Assignments are tracked in real-time. Workload updates automatically as escalations are resolved. SLAs are enforced based on team capacity and priority."})]})]})};var ge=s(39810);const he=e=>{let{teamId:t="default-team",escalationId:s,onBreach:i}=e;const[n,o]=(0,r.useState)([]),[d,m]=(0,r.useState)([]),[x,u]=(0,r.useState)(0),[g,h]=(0,r.useState)(!0),[p,b]=(0,r.useState)("all");(0,r.useEffect)((()=>{f();const e=setInterval(f,3e4);return()=>clearInterval(e)}),[t]);const f=async()=>{try{h(!0);const e=[{id:"sla-1",escalationId:"esc-001",escalationTitle:"Database performance degradation",priority:"critical",status:me.IN_PROGRESS,responseDeadline:9e5,resolutionDeadline:36e5,responseTime:3e5,createdAt:new Date(Date.now()-6e5),responseAt:new Date(Date.now()-3e5)},{id:"sla-2",escalationId:"esc-002",escalationTitle:"API rate limit exceeded",priority:"high",status:me.IN_PROGRESS,responseDeadline:18e5,resolutionDeadline:144e5,responseTime:void 0,createdAt:new Date(Date.now()-15e5)},{id:"sla-3",escalationId:"esc-003",escalationTitle:"Payment processing failure",priority:"critical",status:me.BREACHED,responseDeadline:9e5,resolutionDeadline:36e5,responseTime:21e5,createdAt:new Date(Date.now()-24e5),responseAt:new Date(Date.now()-3e5)},{id:"sla-4",escalationId:"esc-004",escalationTitle:"User account locked",priority:"medium",status:me.RESOLVED,responseDeadline:36e5,resolutionDeadline:144e5,responseTime:72e4,resolutionTime:27e5,createdAt:new Date(Date.now()-3e6),responseAt:new Date(Date.now()-228e4),resolvedAt:new Date(Date.now()-3e5)}],t=s?e.filter((e=>e.escalationId===s)):e.filter((e=>e.status!==me.RESOLVED));o(t);const a=e.length,r=e.filter((e=>e.status===me.RESOLVED||e.status===me.IN_PROGRESS&&!j(e))).length;u(r/a*100);const n=t.map((e=>{const t=Date.now()-e.createdAt.getTime(),s=e.responseDeadline,a=e.resolutionDeadline,r=[];if(!e.responseAt){const a=Math.ceil((s-t)/1e3/60);a<0?r.push({escalationId:e.escalationId,escalationTitle:e.escalationTitle,priority:e.priority,minutesUntilBreach:0,slaType:"response",breached:!0}):a<10&&r.push({escalationId:e.escalationId,escalationTitle:e.escalationTitle,priority:e.priority,minutesUntilBreach:a,slaType:"response",breached:!1})}if(e.status===me.IN_PROGRESS){const s=Math.ceil((a-t)/1e3/60);s<0?r.push({escalationId:e.escalationId,escalationTitle:e.escalationTitle,priority:e.priority,minutesUntilBreach:0,slaType:"resolution",breached:!0}):s<30&&r.push({escalationId:e.escalationId,escalationTitle:e.escalationTitle,priority:e.priority,minutesUntilBreach:s,slaType:"resolution",breached:!1})}return r})).flat();m(n),n.forEach((e=>{e.breached&&i&&i(e.escalationId)}))}catch(e){K.ZP.error("Failed to load SLA data")}finally{h(!1)}},j=e=>Date.now()-e.createdAt.getTime()>(.8*e.resolutionDeadline||.8*e.responseDeadline),v=(e,t)=>{const s=e-(Date.now()-t.getTime());if(s<=0)return"Breached";const a=Math.floor(s/1e3/60),r=Math.floor(s/1e3%60);if(a>60){const e=Math.floor(a/60);return"".concat(e,"h ").concat(a%60,"m")}return"".concat(a,"m ").concat(r,"s")},N=e=>{switch(e){case me.BREACHED:return"bg-red-100 border-red-300";case me.RESOLVED:return"bg-green-100 border-green-300";case me.FAILED:return"bg-red-100 border-red-300";default:return"bg-blue-100 border-blue-300"}},w=e=>{switch(e){case me.BREACHED:return(0,a.jsx)(y.Z,{className:"w-5 h-5 text-red-600"});case me.RESOLVED:return(0,a.jsx)(L.Z,{className:"w-5 h-5 text-green-600"});case me.FAILED:return(0,a.jsx)(y.Z,{className:"w-5 h-5 text-red-600"});default:return(0,a.jsx)(c.Z,{className:"w-5 h-5 text-blue-600"})}},D=e=>{switch(e){case"critical":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";default:return"bg-blue-100 text-blue-800 border-blue-300"}},S=n.filter((e=>"all"===p||("at-risk"===p?d.some((t=>t.escalationId===e.escalationId&&!t.breached)):"breached"!==p||e.status===me.BREACHED)));return g?(0,a.jsx)("div",{className:"p-6 bg-white rounded-lg shadow",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading SLA data..."})]})})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.Z,{className:"w-6 h-6 text-blue-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"SLA Tracking"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[x.toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"compliance rate"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:n.length}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Active SLAs"})]}),(0,a.jsxs)("div",{className:"bg-red-50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:d.filter((e=>e.breached)).length}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Breached"})]}),(0,a.jsxs)("div",{className:"bg-orange-50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:d.filter((e=>!e.breached)).length}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"At Risk"})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:n.filter((e=>e.status===me.RESOLVED)).length}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Resolved"})]})]})]}),d.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Immediate Alerts"}),d.map((e=>(0,a.jsx)("div",{className:"p-4 rounded-lg border-l-4 ".concat(e.breached?"border-l-red-600 bg-red-50":"border-l-orange-600 bg-orange-50"),children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[e.breached?(0,a.jsx)(y.Z,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}):(0,a.jsx)(l.Z,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"text-xs font-semibold px-2 py-0.5 rounded border ".concat(D(e.priority)),children:e.priority.toUpperCase()}),(0,a.jsx)("span",{className:"text-xs font-semibold text-gray-600",children:"response"===e.slaType?"RESPONSE SLA":"RESOLUTION SLA"})]}),(0,a.jsx)("h4",{className:"font-medium ".concat(e.breached?"text-red-900":"text-orange-900"),children:e.escalationTitle}),(0,a.jsx)("p",{className:"text-sm mt-1 ".concat(e.breached?"text-red-700":"text-orange-700"),children:e.breached?"SLA BREACHED - Immediate action required":"".concat(e.minutesUntilBreach," minutes until breach")})]})]})},"".concat(e.escalationId,"-").concat(e.slaType))))]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,a.jsx)("div",{className:"flex gap-2 flex-wrap",children:["all","at-risk","breached"].map((e=>(0,a.jsxs)("button",{onClick:()=>b(e),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat(p===e?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[e.charAt(0).toUpperCase()+e.slice(1).replace("-"," ")," (",S.length,")"]},e)))})}),(0,a.jsx)("div",{className:"space-y-3",children:0===S.length?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[(0,a.jsx)(L.Z,{className:"w-12 h-12 text-green-600 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-gray-600",children:"No escalations matching this filter"})]}):S.map((e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 ".concat(N(e.status)),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[w(e.status),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900",children:e.escalationTitle}),(0,a.jsx)("span",{className:"text-xs font-semibold px-2 py-0.5 rounded border ".concat(D(e.priority)),children:e.priority.toUpperCase()})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:["ID: ",e.escalationId]})]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsx)("div",{className:"text-xs font-semibold text-gray-600 uppercase",children:e.status})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded p-2",children:[(0,a.jsx)("div",{className:"text-xs text-gray-600 font-medium mb-1",children:"Response SLA"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:e.responseTime?"".concat(Math.floor(e.responseTime/1e3/60),"m"):v(e.responseDeadline,e.createdAt)}),(0,a.jsxs)("span",{className:"text-xs text-gray-600",children:[Math.floor(e.responseDeadline/1e3/60),"m SLA"]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded p-2",children:[(0,a.jsx)("div",{className:"text-xs text-gray-600 font-medium mb-1",children:"Resolution SLA"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:e.resolutionTime?"".concat(Math.floor(e.resolutionTime/1e3/60),"m"):v(e.resolutionDeadline,e.createdAt)}),(0,a.jsxs)("span",{className:"text-xs text-gray-600",children:[Math.floor(e.resolutionDeadline/1e3/60),"m SLA"]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["Created: ",e.createdAt.toLocaleString()]}),e.responseAt&&(0,a.jsxs)("span",{children:["\u2192 Responded: ",e.responseAt.toLocaleString()]}),e.resolvedAt&&(0,a.jsxs)("span",{children:["\u2192 Resolved: ",e.resolvedAt.toLocaleString()]})]})]},e.id)))}),(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 text-sm text-gray-700 flex items-start gap-2",children:[(0,a.jsx)(ge.Z,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),(0,a.jsx)("p",{children:"SLA compliance is calculated based on response and resolution times. Escalations breaching SLAs trigger notifications and escalations to management. Monitor at-risk items closely to prevent breaches."})]})]})};var pe=s(51261),be=s(9984),ye=s(67017),fe=s(25615),je=s(88793),ve=s(27823),Ne=s(47299),we=s(10723),De=s(57035),Se=s(60984),Ce=s(20113);const ke=e=>{let{teamId:t="default-team",memberId:s,dateRange:i="month"}=e;const[n,l]=(0,r.useState)(null),[o,c]=(0,r.useState)([]),[x,u]=(0,r.useState)([]),[g,h]=(0,r.useState)(null),[p,b]=(0,r.useState)(!0),[y,f]=(0,r.useState)("team");(0,r.useEffect)((()=>{j()}),[t,i]);const j=async()=>{try{b(!0);const e={teamId:t,teamName:"Salatiso Family Enterprise",totalEscalations:12,averageResponseTime:5.9,averageResolutionTime:56.2,slaComplianceRate:97.2,customerSatisfactionScore:4.75,totalMembers:4,activeMembers:4},a=[{id:"salatiso",name:"Salatiso Mdeni",role:"Founder & Chief Visionary",totalAssignments:125,completedAssignments:125,averageResponseTime:4.2,averageResolutionTime:48.5,slaComplianceRate:99.5,customerSatisfaction:4.9,specialization:["Strategic Vision","Ubuntu Philosophy","Innovation Leadership"]},{id:"visa",name:"Visa Mdeni",role:"Marketing & Global Expansion Lead",totalAssignments:98,completedAssignments:97,averageResponseTime:6.5,averageResolutionTime:62.3,slaComplianceRate:95,customerSatisfaction:4.7,specialization:["International Business","Marketing Strategy","Brand Management"]},{id:"notemba",name:"Nozukile Cynthia Mdeni (Notemba)",role:"Family Matriarch & Trust Beneficiary",totalAssignments:87,completedAssignments:87,averageResponseTime:5.8,averageResolutionTime:55.2,slaComplianceRate:98,customerSatisfaction:4.8,specialization:["Family Wisdom","Ubuntu Values","Trust Administration"]},{id:"sazi",name:"Sazi Mdeni",role:"Digital Innovation Lead",totalAssignments:92,completedAssignments:90,averageResponseTime:7.1,averageResolutionTime:58.7,slaComplianceRate:96.4,customerSatisfaction:4.6,specialization:["Digital Technology","Product Strategy","Innovation"]}],r=[];for(let t="week"===i?7:"month"===i?30:90;t>=0;t--){const e=new Date;e.setDate(e.getDate()-t);const s=e.getDay(),a=0===s||6===s?.6:1;r.push({date:e.toLocaleDateString("en-US",{month:"short",day:"numeric"}),escalations:Math.floor(8*a+4*Math.random()),avgResponseTime:5.5+2*Math.random(),avgResolutionTime:55+8*Math.random(),compliance:96+3.2*Math.random()})}const n=r;if(l(e),c(s?a.filter((e=>e.id===s)):a),u(n),!s&&a.length>0)h(a[0]);else if(s){const e=a.find((e=>e.id===s));e&&h(e)}}catch(e){K.ZP.error("Failed to load metrics")}finally{b(!1)}},N=e=>e>=95?"text-green-600":e>=90?"text-blue-600":e>=85?"text-yellow-600":"text-red-600",w=e=>{const t=[];for(let s=0;s<5;s++)t.push((0,a.jsx)("span",{className:s<Math.round(e)?"text-yellow-400":"text-gray-300",children:"\u2605"},s));return t};return p?(0,a.jsx)("div",{className:"p-6 bg-white rounded-lg shadow",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading metrics data..."})]})})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(m.Z,{className:"w-6 h-6 text-blue-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Performance Metrics"})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("select",{value:i,className:"px-3 py-1 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",disabled:!0,children:[(0,a.jsx)("option",{value:"week",children:"Last 7 Days"}),(0,a.jsx)("option",{value:"month",children:"Last 30 Days"}),(0,a.jsx)("option",{value:"quarter",children:"Last 90 Days"})]})})]}),(0,a.jsx)("div",{className:"flex gap-2 border-b border-gray-200",children:["team","members","trends"].map((e=>(0,a.jsx)("button",{onClick:()=>f(e),className:"px-4 py-2 font-medium text-sm border-b-2 transition-colors ".concat(y===e?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:e.charAt(0).toUpperCase()+e.slice(1)},e)))})]}),"team"===y&&n&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Total Escalations"}),(0,a.jsx)(Ce.Z,{className:"w-4 h-4 text-blue-600"})]}),(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:n.totalEscalations}),(0,a.jsxs)("p",{className:"text-xs text-gray-600 mt-2",children:["in ","week"===i?"7 days":"month"===i?"30 days":"90 days"]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"SLA Compliance"}),(0,a.jsx)(v.Z,{className:"w-4 h-4 text-green-600"})]}),(0,a.jsxs)("div",{className:"text-3xl font-bold ".concat(N(n.slaComplianceRate)),children:[n.slaComplianceRate.toFixed(1),"%"]}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-2",children:"Team-wide compliance rate"})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Avg Response Time"}),(0,a.jsx)(m.Z,{className:"w-4 h-4 text-purple-600"})]}),(0,a.jsxs)("div",{className:"text-3xl font-bold text-purple-600",children:[n.averageResponseTime.toFixed(1),"m"]}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-2",children:"across all escalations"})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4 border border-orange-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Customer Satisfaction"}),(0,a.jsx)(d.Z,{className:"w-4 h-4 text-orange-600"})]}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-orange-600",children:[n.customerSatisfactionScore.toFixed(1),"/5.0"]}),(0,a.jsx)("div",{className:"flex gap-0.5 mt-2",children:w(n.customerSatisfactionScore)})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Members Overview"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map((e=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>h(e),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:e.role})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-blue-600",children:e.completedAssignments}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"completed"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded p-2",children:[(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Response Time"}),(0,a.jsxs)("div",{className:"font-semibold text-gray-900",children:[e.averageResponseTime.toFixed(1),"m"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded p-2",children:[(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Resolution Time"}),(0,a.jsxs)("div",{className:"font-semibold text-gray-900",children:[e.averageResolutionTime.toFixed(1),"m"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"SLA Compliance"}),(0,a.jsxs)("div",{className:"font-semibold ".concat(N(e.slaComplianceRate)),children:[e.slaComplianceRate.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-600 text-right",children:"Satisfaction"}),(0,a.jsx)("div",{className:"flex gap-0.5 justify-end",children:w(e.customerSatisfaction)})]})]}),e.specialization&&e.specialization.length>0&&(0,a.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200 flex flex-wrap gap-1",children:e.specialization.map((e=>(0,a.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:e},e)))})]},e.id)))})]})]}),"members"===y&&g&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Select Member"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:o.map((e=>(0,a.jsx)("button",{onClick:()=>h(e),className:"px-4 py-2 rounded-lg font-medium text-sm transition-colors ".concat(g.id===e.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e.name},e.id)))})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:g.name}),(0,a.jsx)("p",{className:"text-gray-600",children:g.role})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"flex gap-0.5 justify-end mb-2",children:w(g.customerSatisfaction)}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[g.customerSatisfaction.toFixed(1)," stars"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:g.totalAssignments}),(0,a.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:"Total Assignments"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:g.completedAssignments}),(0,a.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:"Completed"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[g.averageResponseTime.toFixed(1),"m"]}),(0,a.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:"Avg Response"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold ".concat(N(g.slaComplianceRate)),children:[g.slaComplianceRate.toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:"SLA Compliance"})]})]}),g.specialization&&g.specialization.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Specializations"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:g.specialization.map((e=>(0,a.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:e},e)))})]})]})]}),"trends"===y&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Escalations Over Time"}),(0,a.jsx)(pe.h,{width:"100%",height:300,children:(0,a.jsxs)(be.v,{data:x,children:[(0,a.jsx)(ye.q,{strokeDasharray:"3 3"}),(0,a.jsx)(fe.K,{dataKey:"date"}),(0,a.jsx)(je.B,{}),(0,a.jsx)(ve.u,{}),(0,a.jsx)(Ne.$,{dataKey:"escalations",fill:"#3b82f6"})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Response & Resolution Times"}),(0,a.jsx)(pe.h,{width:"100%",height:300,children:(0,a.jsxs)(we.w,{data:x,children:[(0,a.jsx)(ye.q,{strokeDasharray:"3 3"}),(0,a.jsx)(fe.K,{dataKey:"date"}),(0,a.jsx)(je.B,{}),(0,a.jsx)(ve.u,{}),(0,a.jsx)(De.D,{}),(0,a.jsx)(Se.x,{type:"monotone",dataKey:"avgResponseTime",stroke:"#ef4444",name:"Avg Response (min)"}),(0,a.jsx)(Se.x,{type:"monotone",dataKey:"avgResolutionTime",stroke:"#f59e0b",name:"Avg Resolution (min)"})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"SLA Compliance Trend"}),(0,a.jsx)(pe.h,{width:"100%",height:300,children:(0,a.jsxs)(we.w,{data:x,children:[(0,a.jsx)(ye.q,{strokeDasharray:"3 3"}),(0,a.jsx)(fe.K,{dataKey:"date"}),(0,a.jsx)(je.B,{domain:[80,100]}),(0,a.jsx)(ve.u,{}),(0,a.jsx)(Se.x,{type:"monotone",dataKey:"compliance",stroke:"#10b981",strokeWidth:2,name:"Compliance %"})]})})]})]}),(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 text-sm text-gray-700 flex items-start gap-2",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),(0,a.jsx)("p",{children:"Performance metrics are updated in real-time as escalations are completed. Use this data to identify top performers, spot trends, and make capacity planning decisions."})]})]})};var Ae=s(2553),Te=s(82606),Ie=s(12779);var Ee=()=>{const[e,t]=(0,r.useState)(!1),[s,i]=(0,r.useState)("idle"),[n,o]=(0,r.useState)(""),[d,c]=(0,r.useState)({format:"pdf",dateRange:{start:new Date((new Date).setDate((new Date).getDate()-30)),end:new Date},includeFields:{id:!0,title:!0,description:!0,priority:!0,status:!0,assignedTo:!0,createdAt:!0,updatedAt:!1,timeline:!0},reportTitle:"Escalation Report",includeHeader:!0,includeSummary:!0,includeTotals:!0}),m=[{id:"PROJ-001",title:"Family Enterprise Foundation",description:"Established Salatiso ecosystem governance structure",priority:"critical",status:"resolved",assignedTo:"Salatiso Mdeni",createdAt:new Date("2020-01-01"),updatedAt:new Date("2020-06-30"),timeline:[{timestamp:new Date("2020-01-01"),action:"Created",by:"Salatiso"},{timestamp:new Date("2020-03-01"),action:"Approved by Family",by:"Notemba"},{timestamp:new Date("2020-06-30"),action:"Implemented",by:"Salatiso"}],slaTarget:new Date("2020-12-31")},{id:"PROJ-002",title:"Global Marketing Expansion",description:"Visa subsidiary market entry across SADC region",priority:"high",status:"assigned",assignedTo:"Visa Mdeni",createdAt:new Date("2021-03-01"),updatedAt:new Date("2025-10-20"),timeline:[{timestamp:new Date("2021-03-01"),action:"Initiative Launched",by:"Visa"},{timestamp:new Date("2021-06-01"),action:"First Market Entry",by:"Marketing Team"},{timestamp:new Date("2025-10-20"),action:"Ongoing Expansion",by:"Visa"}]},{id:"PROJ-003",title:"Digital Innovation Platform",description:"Development of Bridge ecosystem for mobile-first access",priority:"high",status:"assigned",assignedTo:"Sazi Mdeni",createdAt:new Date("2022-06-01"),updatedAt:new Date("2025-10-20"),timeline:[{timestamp:new Date("2022-06-01"),action:"Platform Designed",by:"Sazi"},{timestamp:new Date("2023-01-15"),action:"Phase 1 Released",by:"Engineering"},{timestamp:new Date("2025-10-20"),action:"Phase 6 Deployment Complete",by:"Sazi"}]}].filter((e=>e.createdAt>=d.dateRange.start&&e.createdAt<=d.dateRange.end)),x=e=>{switch(e){case"critical":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"low":return"bg-green-100 text-green-800 border-green-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}};return(0,a.jsxs)("div",{className:"w-full bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,a.jsx)(Ae.Z,{className:"w-6 h-6 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Export to PDF"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Generate reports from your escalation data"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-lg font-semibold text-gray-700",children:m.length}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Records Available"})]})]}),"idle"!==s&&(0,a.jsxs)("div",{className:"p-4 rounded-lg flex items-start space-x-3 ".concat("success"===s?"bg-green-50 border border-green-200":"error"===s?"bg-red-50 border border-red-200":"bg-blue-50 border border-blue-200"),children:["processing"===s&&(0,a.jsx)(Te.Z,{className:"w-5 h-5 text-blue-600 animate-spin flex-shrink-0 mt-0.5"}),"success"===s&&(0,a.jsx)(L.Z,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),"error"===s&&(0,a.jsx)(l.Z,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"font-semibold ".concat("success"===s?"text-green-800":"error"===s?"text-red-800":"text-blue-800"),children:n})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Export Format"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-3",children:["pdf","csv","json"].map((e=>(0,a.jsx)("button",{onClick:()=>c({...d,format:e}),className:"p-3 rounded-lg border-2 font-medium transition-all ".concat(d.format===e?"bg-blue-500 border-blue-500 text-white":"bg-white border-gray-300 text-gray-700 hover:border-gray-400"),children:e.toUpperCase()},e)))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Date Range"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-2",children:"From"}),(0,a.jsx)("input",{type:"date",value:(0,U.WU)(d.dateRange.start,"yyyy-MM-dd"),onChange:e=>c({...d,dateRange:{...d.dateRange,start:new Date(e.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-2",children:"To"}),(0,a.jsx)("input",{type:"date",value:(0,U.WU)(d.dateRange.end,"yyyy-MM-dd"),onChange:e=>c({...d,dateRange:{...d.dateRange,end:new Date(e.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Report Title"}),(0,a.jsx)("input",{type:"text",value:d.reportTitle,onChange:e=>c({...d,reportTitle:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Include in Report"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(d.includeFields).map((e=>{let[t,s]=e;return(0,a.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:s,onChange:e=>c({...d,includeFields:{...d.includeFields,[t]:e.target.checked}}),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700 capitalize",children:t.replace(/([A-Z])/g," $1").trim()})]},t)}))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Report Components"}),(0,a.jsx)("div",{className:"space-y-2",children:[{key:"includeHeader",label:"Include Header"},{key:"includeSummary",label:"Include Summary"},{key:"includeTotals",label:"Include Statistics"}].map((e=>(0,a.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:d[e.key],onChange:t=>c({...d,[e.key]:t.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:e.label})]},e.key)))})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,a.jsx)("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:(0,a.jsxs)("h3",{className:"font-semibold text-gray-800",children:["Data Preview (",m.length," records)"]})}),(0,a.jsx)("div",{className:"overflow-x-auto max-h-64 overflow-y-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-gray-100 sticky top-0",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-2 text-left font-semibold text-gray-700",children:"ID"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left font-semibold text-gray-700",children:"Title"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left font-semibold text-gray-700",children:"Priority"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left font-semibold text-gray-700",children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left font-semibold text-gray-700",children:"Assigned To"})]})}),(0,a.jsx)("tbody",{children:m.map((e=>(0,a.jsxs)("tr",{className:"border-t border-gray-200 hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-4 py-2 font-mono text-xs text-blue-600",children:e.id}),(0,a.jsx)("td",{className:"px-4 py-2 text-gray-800",children:e.title}),(0,a.jsx)("td",{className:"px-4 py-2",children:(0,a.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium border ".concat(x(e.priority)),children:e.priority.charAt(0).toUpperCase()+e.priority.slice(1)})}),(0,a.jsx)("td",{className:"px-4 py-2 text-gray-800 capitalize",children:e.status}),(0,a.jsx)("td",{className:"px-4 py-2 text-gray-800",children:e.assignedTo})]},e.id)))})]})})]}),(0,a.jsx)("button",{onClick:async()=>{t(!0),i("processing"),o("Generating export...");try{let e,s,a;switch(await new Promise((e=>setTimeout(e,1500))),d.format){case"csv":e=[["ID","Title","Description","Priority","Status","Assigned To","Created","Updated"],...m.map((e=>[e.id,'"'.concat(e.title,'"'),'"'.concat(e.description,'"'),e.priority,e.status,e.assignedTo,(0,U.WU)(e.createdAt,"yyyy-MM-dd HH:mm:ss"),(0,U.WU)(e.updatedAt,"yyyy-MM-dd HH:mm:ss")]))].map((e=>e.join(","))).join("\n"),s="escalation-report-".concat((0,U.WU)(new Date,"yyyy-MM-dd-HHmmss"),".csv"),a="text/csv";break;case"json":e=JSON.stringify({title:d.reportTitle,exportedAt:(0,U.WU)(new Date,"yyyy-MM-dd HH:mm:ss"),dateRange:{from:(0,U.WU)(d.dateRange.start,"yyyy-MM-dd"),to:(0,U.WU)(d.dateRange.end,"yyyy-MM-dd")},totalRecords:m.length,data:m.map((e=>{var t;return{id:e.id,title:e.title,description:e.description,priority:e.priority,status:e.status,assignedTo:e.assignedTo,createdAt:(0,U.WU)(e.createdAt,"yyyy-MM-dd HH:mm:ss"),updatedAt:(0,U.WU)(e.updatedAt,"yyyy-MM-dd HH:mm:ss"),timeline:null===(t=e.timeline)||void 0===t?void 0:t.map((e=>({timestamp:(0,U.WU)(e.timestamp,"yyyy-MM-dd HH:mm:ss"),action:e.action,by:e.by})))}}))},null,2),s="escalation-report-".concat((0,U.WU)(new Date,"yyyy-MM-dd-HHmmss"),".json"),a="application/json";break;default:e=(()=>{let e="";if(d.includeHeader&&(e+="".concat("=".repeat(80),"\n"),e+="".concat(d.reportTitle.toUpperCase(),"\n"),e+="Generated: ".concat((0,U.WU)(new Date,"yyyy-MM-dd HH:mm:ss"),"\n"),e+="".concat("=".repeat(80),"\n\n")),d.includeSummary&&(e+="REPORT SUMMARY\n",e+="".concat("-".repeat(80),"\n"),e+="Date Range: ".concat((0,U.WU)(d.dateRange.start,"yyyy-MM-dd")," to ").concat((0,U.WU)(d.dateRange.end,"yyyy-MM-dd"),"\n"),e+="Total Records: ".concat(m.length,"\n"),e+="\n"),d.includeTotals){const t={critical:m.filter((e=>"critical"===e.priority)).length,high:m.filter((e=>"high"===e.priority)).length,medium:m.filter((e=>"medium"===e.priority)).length,low:m.filter((e=>"low"===e.priority)).length},s={open:m.filter((e=>"open"===e.status)).length,assigned:m.filter((e=>"assigned"===e.status)).length,escalated:m.filter((e=>"escalated"===e.status)).length,resolved:m.filter((e=>"resolved"===e.status)).length};e+="STATISTICS\n",e+="".concat("-".repeat(80),"\n"),e+="By Priority:\n",e+="  Critical: ".concat(t.critical,"\n"),e+="  High: ".concat(t.high,"\n"),e+="  Medium: ".concat(t.medium,"\n"),e+="  Low: ".concat(t.low,"\n"),e+="\n",e+="By Status:\n",e+="  Open: ".concat(s.open,"\n"),e+="  Assigned: ".concat(s.assigned,"\n"),e+="  Escalated: ".concat(s.escalated,"\n"),e+="  Resolved: ".concat(s.resolved,"\n"),e+="\n"}return e+="DETAILED RECORDS\n",e+="".concat("=".repeat(80),"\n\n"),m.forEach(((t,s)=>{e+="Record ".concat(s+1,": ").concat(t.id,"\n"),d.includeFields.title&&(e+="  Title: ".concat(t.title,"\n")),d.includeFields.description&&(e+="  Description: ".concat(t.description,"\n")),d.includeFields.priority&&(e+="  Priority: ".concat(t.priority.toUpperCase(),"\n")),d.includeFields.status&&(e+="  Status: ".concat(t.status.toUpperCase(),"\n")),d.includeFields.assignedTo&&(e+="  Assigned To: ".concat(t.assignedTo,"\n")),d.includeFields.createdAt&&(e+="  Created: ".concat((0,U.WU)(t.createdAt,"yyyy-MM-dd HH:mm:ss"),"\n")),d.includeFields.updatedAt&&(e+="  Updated: ".concat((0,U.WU)(t.updatedAt,"yyyy-MM-dd HH:mm:ss"),"\n")),d.includeFields.timeline&&t.timeline&&(e+="  Timeline:\n",t.timeline.forEach((t=>{e+="    - ".concat((0,U.WU)(t.timestamp,"HH:mm:ss"),": ").concat(t.action," (by ").concat(t.by,")\n")}))),e+="\n"})),e})(),s="escalation-report-".concat((0,U.WU)(new Date,"yyyy-MM-dd-HHmmss"),".txt"),a="text/plain"}const r=new Blob([e],{type:a}),n=window.URL.createObjectURL(r),l=document.createElement("a");l.href=n,l.download=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(n),i("success"),o("Successfully exported ".concat(m.length," records as ").concat(d.format.toUpperCase())),setTimeout((()=>{t(!1),i("idle")}),3e3)}catch(e){i("error"),o("Export failed. Please try again."),setTimeout((()=>{t(!1),i("idle")}),3e3)}},disabled:e||0===m.length,className:"w-full py-3 px-4 rounded-lg font-semibold flex items-center justify-center space-x-2 transition-all ".concat(e||0===m.length?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white shadow-lg hover:shadow-xl"),children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Te.Z,{className:"w-5 h-5 animate-spin"}),(0,a.jsx)("span",{children:"Exporting..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ie.Z,{className:"w-5 h-5"}),(0,a.jsxs)("span",{children:["Export ",m.length," Records"]})]})})]})},Me=s(36127),Re=s(47935),Le=s(69819),Pe=s(37864),Oe=s(45544);var Ze=()=>{const[e,t]=(0,r.useState)({searchText:"",priority:[],status:[],assignedTo:[],dateRange:{start:new Date((new Date).setDate((new Date).getDate()-30)),end:new Date}}),[s,i]=(0,r.useState)([{id:"preset-1",name:"Critical Issues",filters:{searchText:"",priority:["critical","high"],status:["open","escalated"],assignedTo:[],dateRange:{start:new Date((new Date).setDate((new Date).getDate()-7)),end:new Date}},createdAt:new Date("2025-10-20")},{id:"preset-2",name:"Resolved This Month",filters:{searchText:"",priority:[],status:["resolved"],assignedTo:[],dateRange:{start:new Date((new Date).getFullYear(),(new Date).getMonth(),1),end:new Date}},createdAt:new Date("2025-10-18")}]),[n,l]=(0,r.useState)([{query:"database error",timestamp:new Date("2025-10-22T14:30:00")},{query:"authentication",timestamp:new Date("2025-10-22T13:15:00")},{query:"sync failure",timestamp:new Date("2025-10-22T11:45:00")}]),[o,d]=(0,r.useState)(""),[c,m]=(0,r.useState)(!1),[x,u]=(0,r.useState)("search"),g=[{id:"ESC-001",title:"Critical System Outage",description:"Database connection failure in production environment",priority:"critical",status:"escalated",assignedTo:"Senior Engineer",createdAt:new Date("2025-10-15")},{id:"ESC-002",title:"Data Sync Issue",description:"Real-time sync failing for mobile clients",priority:"high",status:"assigned",assignedTo:"Mobile Team",createdAt:new Date("2025-10-16")},{id:"ESC-003",title:"User Authentication Failure",description:"OAuth2 provider integration broken",priority:"high",status:"resolved",assignedTo:"Auth Team",createdAt:new Date("2025-10-14")},{id:"ESC-004",title:"API Rate Limiting",description:"External API requests being throttled",priority:"medium",status:"assigned",assignedTo:"Backend Team",createdAt:new Date("2025-10-12")},{id:"ESC-005",title:"UI Rendering Issue",description:"Dashboard components not loading correctly",priority:"medium",status:"open",assignedTo:"Frontend Team",createdAt:new Date("2025-10-11")},{id:"ESC-006",title:"Email Notification Delay",description:"Email service experiencing delays",priority:"low",status:"resolved",assignedTo:"DevOps",createdAt:new Date("2025-10-10")}],h=(0,r.useMemo)((()=>g.filter((t=>{if(e.searchText){const s=e.searchText.toLowerCase();if(!t.title.toLowerCase().includes(s)&&!t.description.toLowerCase().includes(s)&&!t.id.toLowerCase().includes(s))return!1}return!(e.priority.length>0&&!e.priority.includes(t.priority))&&(!(e.status.length>0&&!e.status.includes(t.status))&&(!(e.assignedTo.length>0&&!e.assignedTo.includes(t.assignedTo))&&!(t.createdAt<e.dateRange.start||t.createdAt>e.dateRange.end)))}))),[e]),p=e=>{t((t=>({...t,searchText:e}))),e.trim()&&l((t=>[{query:e,timestamp:new Date},...t.slice(0,9)]))},b=[...new Set(g.map((e=>e.assignedTo)))],y=[e.searchText?1:0,e.priority.length,e.status.length,e.assignedTo.length].reduce(((e,t)=>e+t),0),f=e=>{switch(e){case"critical":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"low":return"bg-green-100 text-green-800 border-green-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},j=e=>{switch(e){case"open":return"bg-blue-100 text-blue-800";case"assigned":return"bg-purple-100 text-purple-800";case"escalated":return"bg-red-100 text-red-800";case"resolved":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return(0,a.jsxs)("div",{className:"w-full bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg",children:(0,a.jsx)(Me.Z,{className:"w-6 h-6 text-purple-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Advanced Search"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Find escalations with powerful filtering"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-lg font-semibold text-gray-700",children:h.length}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Results Found"})]})]}),(0,a.jsx)("div",{className:"flex space-x-2 mb-6",children:["search","presets","history"].map((e=>(0,a.jsxs)("button",{onClick:()=>u(e),className:"px-4 py-2 rounded-lg font-medium transition-all ".concat(x===e?"bg-purple-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:border-purple-300"),children:[e.charAt(0).toUpperCase()+e.slice(1),"presets"===e&&" (".concat(s.length,")"),"history"===e&&" (".concat(n.length,")")]},e)))}),"search"===x&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(Me.Z,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by title, description, or ID...",value:e.searchText,onChange:e=>p(e.target.value),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-200"})]}),y>0&&(0,a.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Re.Z,{className:"w-4 h-4 text-blue-600"}),(0,a.jsxs)("span",{className:"text-sm text-blue-800 font-medium",children:[y," active filter",1!==y?"s":""]})]}),(0,a.jsx)("button",{onClick:()=>{t({searchText:"",priority:[],status:[],assignedTo:[],dateRange:{start:new Date((new Date).setDate((new Date).getDate()-30)),end:new Date}})},className:"text-xs text-blue-600 hover:text-blue-800 font-semibold",children:"Clear All"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-800 mb-3",children:"Priority"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["critical","high","medium","low"].map((s=>(0,a.jsx)("button",{onClick:()=>(e=>{t((t=>({...t,priority:t.priority.includes(e)?t.priority.filter((t=>t!==e)):[...t.priority,e]})))})(s),className:"p-2 rounded-lg border-2 text-sm font-medium transition-all ".concat(e.priority.includes(s)?"".concat(f(s)," border-opacity-100"):"bg-gray-50 border-gray-300 text-gray-700 hover:border-purple-300"),children:s.charAt(0).toUpperCase()+s.slice(1)},s)))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-800 mb-3",children:"Status"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["open","assigned","escalated","resolved"].map((s=>(0,a.jsx)("button",{onClick:()=>(e=>{t((t=>({...t,status:t.status.includes(e)?t.status.filter((t=>t!==e)):[...t.status,e]})))})(s),className:"p-2 rounded-lg border-2 text-sm font-medium transition-all ".concat(e.status.includes(s)?"".concat(j(s)," border-opacity-100"):"bg-gray-50 border-gray-300 text-gray-700 hover:border-purple-300"),children:s.charAt(0).toUpperCase()+s.slice(1)},s)))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-800 mb-3",children:"Assigned To"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:b.map((s=>(0,a.jsx)("button",{onClick:()=>(e=>{t((t=>({...t,assignedTo:t.assignedTo.includes(e)?t.assignedTo.filter((t=>t!==e)):[...t.assignedTo,e]})))})(s),className:"p-2 rounded-lg border-2 text-sm font-medium transition-all text-left truncate ".concat(e.assignedTo.includes(s)?"bg-purple-100 text-purple-800 border-purple-300":"bg-gray-50 border-gray-300 text-gray-700 hover:border-purple-300"),children:s},s)))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-800 mb-3",children:"Date Range"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-2",children:"From"}),(0,a.jsx)("input",{type:"date",value:(0,U.WU)(e.dateRange.start,"yyyy-MM-dd"),onChange:e=>t((t=>({...t,dateRange:{...t.dateRange,start:new Date(e.target.value)}}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-2",children:"To"}),(0,a.jsx)("input",{type:"date",value:(0,U.WU)(e.dateRange.end,"yyyy-MM-dd"),onChange:e=>t((t=>({...t,dateRange:{...t.dateRange,end:new Date(e.target.value)}}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,a.jsx)("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:(0,a.jsxs)("h3",{className:"font-semibold text-gray-800",children:["Search Results (",h.length,")"]})}),(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:0===h.length?(0,a.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,a.jsx)(Me.Z,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{children:"No records match your search criteria"})]}):(0,a.jsx)("div",{className:"divide-y",children:h.map((e=>(0,a.jsxs)("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-semibold text-gray-800",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,a.jsx)("span",{className:"ml-2 px-2 py-1 rounded text-xs font-medium border ".concat(f(e.priority)),children:e.priority.charAt(0).toUpperCase()+e.priority.slice(1)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,a.jsx)("span",{children:e.id}),(0,a.jsx)("span",{className:"px-2 py-1 rounded ".concat(j(e.status)),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),(0,a.jsx)("span",{children:e.assignedTo})]})]},e.id)))})})]}),!c&&(0,a.jsxs)("button",{onClick:()=>m(!0),className:"w-full py-2 px-4 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-lg font-medium transition-all flex items-center justify-center space-x-2",children:[(0,a.jsx)(Le.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Save Current Search as Preset"})]}),c&&(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[(0,a.jsx)("input",{type:"text",placeholder:"Enter preset name...",value:o,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>{o.trim()&&(i((t=>[...t,{id:"preset-".concat(Date.now()),name:o,filters:e,createdAt:new Date}])),d(""),m(!1))},className:"flex-1 py-2 px-4 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium",children:"Save Preset"}),(0,a.jsx)("button",{onClick:()=>m(!1),className:"flex-1 py-2 px-4 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium",children:"Cancel"})]})]})]}),"presets"===x&&(0,a.jsx)("div",{className:"space-y-3",children:0===s.length?(0,a.jsxs)("div",{className:"p-8 text-center text-gray-500 bg-white rounded-lg border border-gray-200",children:[(0,a.jsx)(Le.Z,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{children:"No saved presets yet"})]}):s.map((e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 flex items-center justify-between hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-semibold text-gray-800",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:["Created ",(0,U.WU)(e.createdAt,"MMM dd, yyyy")]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>(e=>{t(e.filters)})(e),className:"px-3 py-1 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded text-sm font-medium",children:"Load"}),(0,a.jsx)("button",{onClick:()=>{return t=e.id,void i((e=>e.filter((e=>e.id!==t))));var t},className:"px-3 py-1 bg-red-100 hover:bg-red-200 text-red-700 rounded text-sm font-medium",children:(0,a.jsx)(Pe.Z,{className:"w-4 h-4"})})]})]},e.id)))}),"history"===x&&(0,a.jsx)("div",{className:"space-y-2",children:0===n.length?(0,a.jsxs)("div",{className:"p-8 text-center text-gray-500 bg-white rounded-lg border border-gray-200",children:[(0,a.jsx)(Oe.Z,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{children:"No search history"})]}):n.map(((e,t)=>(0,a.jsxs)("button",{onClick:()=>p(e.query),className:"w-full text-left p-3 bg-white rounded-lg border border-gray-200 hover:border-purple-300 hover:bg-purple-50 transition-all flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-800",children:e.query}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:(0,U.WU)(e.timestamp,"MMM dd, HH:mm")})]}),(0,a.jsx)(Oe.Z,{className:"w-4 h-4 text-gray-400"})]},t)))})]})},_e=s(23603);var Ue=()=>{const[e,t]=(0,r.useState)(new Set),[s,i]=(0,r.useState)(!1),[n,l]=(0,r.useState)(null),[o,d]=(0,r.useState)(""),[c,m]=(0,r.useState)(""),[x,u]=(0,r.useState)(!1),[g,h]=(0,r.useState)({total:0,completed:0,failed:0,isProcessing:!1}),[p,b]=(0,r.useState)(null),f=[{id:"ESC-001",title:"Critical System Outage",priority:"critical",status:"escalated",assignedTo:"Senior Engineer",createdAt:new Date("2025-10-15")},{id:"ESC-002",title:"Data Sync Issue",priority:"high",status:"assigned",assignedTo:"Mobile Team",createdAt:new Date("2025-10-16")},{id:"ESC-003",title:"User Authentication Failure",priority:"high",status:"resolved",assignedTo:"Auth Team",createdAt:new Date("2025-10-14")},{id:"ESC-004",title:"API Rate Limiting",priority:"medium",status:"assigned",assignedTo:"Backend Team",createdAt:new Date("2025-10-12")},{id:"ESC-005",title:"UI Rendering Issue",priority:"medium",status:"open",assignedTo:"Frontend Team",createdAt:new Date("2025-10-11")},{id:"ESC-006",title:"Email Notification Delay",priority:"low",status:"resolved",assignedTo:"DevOps",createdAt:new Date("2025-10-10")}],j=[...new Set(f.map((e=>e.assignedTo)))],v=e.size,N=e=>{0!==v&&(l(e),u(!0))},w=async()=>{u(!1),h({total:v,completed:0,failed:0,isProcessing:!0});let e=0,s=0;for(let t=0;t<v;t++)await new Promise((e=>setTimeout(e,300))),Math.random()>.95?s++:e++,h((t=>({...t,completed:e,failed:s})));h((e=>({...e,isProcessing:!1})));const a="assign"===n?"assigned to ".concat(o):"status"===n?"status changed to ".concat(c):"deleted";b({success:0===s,message:0===s?"\u2713 Successfully ".concat(a," ").concat(e," record").concat(1!==e?"s":"","."):"\u2713 Completed with issues: ".concat(e," succeeded, ").concat(s," failed.")}),setTimeout((()=>{l(null),t(new Set),i(!1),d(""),m(""),b(null),h({total:0,completed:0,failed:0,isProcessing:!1})}),3e3)},D=e=>{switch(e){case"critical":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"low":return"bg-green-100 text-green-800 border-green-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},S=e=>{switch(e){case"open":return"bg-blue-100 text-blue-800";case"assigned":return"bg-purple-100 text-purple-800";case"escalated":return"bg-red-100 text-red-800";case"resolved":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},C=v>0&&("assign"===n&&o||"status"===n&&c||"delete"===n);return(0,a.jsxs)("div",{className:"w-full bg-gradient-to-br from-teal-50 to-cyan-50 rounded-lg p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-3 bg-teal-100 rounded-lg",children:(0,a.jsx)(Z.Z,{className:"w-6 h-6 text-teal-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Bulk Operations"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Manage multiple escalations at once"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-lg font-semibold text-teal-700",children:v}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Selected"})]})]}),p&&(0,a.jsxs)("div",{className:"p-4 rounded-lg flex items-start space-x-3 ".concat(p.success?"bg-green-50 border border-green-200":"bg-yellow-50 border border-yellow-200"),children:[(0,a.jsx)(L.Z,{className:"w-5 h-5 flex-shrink-0 mt-0.5 ".concat(p.success?"text-green-600":"text-yellow-600")}),(0,a.jsx)("p",{className:p.success?"text-green-800":"text-yellow-800",children:p.message})]}),g.isProcessing&&(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(Te.Z,{className:"w-5 h-5 text-teal-600 animate-spin"}),(0,a.jsx)("span",{className:"font-semibold text-gray-800",children:"Processing..."})]}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[g.completed+g.failed," / ",g.total]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-teal-500 to-cyan-500 h-full transition-all duration-300",style:{width:"".concat((g.completed+g.failed)/g.total*100,"%")}})}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[(0,a.jsxs)("div",{className:"text-center p-2 bg-green-50 rounded",children:[(0,a.jsx)("p",{className:"font-semibold text-green-700",children:g.completed}),(0,a.jsx)("p",{className:"text-xs text-green-600",children:"Completed"})]}),(0,a.jsxs)("div",{className:"text-center p-2 bg-yellow-50 rounded",children:[(0,a.jsx)("p",{className:"font-semibold text-yellow-700",children:g.failed}),(0,a.jsx)("p",{className:"text-xs text-yellow-600",children:"Failed"})]}),(0,a.jsxs)("div",{className:"text-center p-2 bg-gray-50 rounded",children:[(0,a.jsx)("p",{className:"font-semibold text-gray-700",children:g.total-g.completed-g.failed}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Remaining"})]})]})]}),!g.isProcessing&&null===n&&(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,a.jsxs)("button",{onClick:()=>N("assign"),disabled:0===v,className:"p-3 rounded-lg font-medium flex items-center justify-center space-x-2 transition-all ".concat(0===v?"bg-gray-200 text-gray-600 cursor-not-allowed":"bg-blue-100 hover:bg-blue-200 text-blue-700"),children:[(0,a.jsx)(_e.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["Assign (",v,")"]})]}),(0,a.jsxs)("button",{onClick:()=>N("status"),disabled:0===v,className:"p-3 rounded-lg font-medium flex items-center justify-center space-x-2 transition-all ".concat(0===v?"bg-gray-200 text-gray-600 cursor-not-allowed":"bg-purple-100 hover:bg-purple-200 text-purple-700"),children:[(0,a.jsx)(Z.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Change Status"})]}),(0,a.jsxs)("button",{onClick:()=>N("delete"),disabled:0===v,className:"p-3 rounded-lg font-medium flex items-center justify-center space-x-2 transition-all ".concat(0===v?"bg-gray-200 text-gray-600 cursor-not-allowed":"bg-red-100 hover:bg-red-200 text-red-700"),children:[(0,a.jsx)(Pe.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Delete"})]})]}),n&&!g.isProcessing&&(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 space-y-4",children:["assign"===n&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Assign to:"}),(0,a.jsxs)("select",{value:o,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[(0,a.jsx)("option",{value:"",children:"Select assignee..."}),j.map((e=>(0,a.jsx)("option",{value:e,children:e},e)))]})]}),"status"===n&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Change status to:"}),(0,a.jsxs)("select",{value:c,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[(0,a.jsx)("option",{value:"",children:"Select status..."}),(0,a.jsx)("option",{value:"open",children:"Open"}),(0,a.jsx)("option",{value:"assigned",children:"Assigned"}),(0,a.jsx)("option",{value:"escalated",children:"Escalated"}),(0,a.jsx)("option",{value:"resolved",children:"Resolved"})]})]}),"delete"===n&&(0,a.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-3",children:[(0,a.jsx)(y.Z,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-red-800",children:"Confirm deletion"}),(0,a.jsxs)("p",{className:"text-sm text-red-700",children:["This action cannot be undone. ",v," record",1!==v?"s":""," will be permanently deleted."]})]})]}),(0,a.jsxs)("div",{className:"flex space-x-3 pt-2",children:[(0,a.jsxs)("button",{onClick:w,disabled:!C,className:"flex-1 py-2 px-4 rounded-lg font-medium ".concat(C?"bg-teal-600 hover:bg-teal-700 text-white":"bg-gray-300 text-gray-600 cursor-not-allowed"),children:["Execute ","assign"===n?"Assignment":"status"===n?"Update":"Deletion"]}),(0,a.jsx)("button",{onClick:()=>{l(null),d(""),m("")},className:"flex-1 py-2 px-4 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium",children:"Cancel"})]})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,a.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:s,onChange:()=>{s?(t(new Set),i(!1)):(t(new Set(f.map((e=>e.id)))),i(!0))},className:"w-5 h-5 rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),(0,a.jsxs)("span",{className:"font-semibold text-gray-800",children:[s?"Deselect All":"Select All"," (",f.length," records)"]})]})}),(0,a.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:f.map((s=>(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("input",{type:"checkbox",checked:e.has(s.id),onChange:()=>(s=>{const a=new Set(e);a.has(s)?a.delete(s):a.add(s),t(a),i(a.size===f.length)})(s.id),className:"w-5 h-5 rounded border-gray-300 text-teal-600 focus:ring-teal-500 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("p",{className:"font-semibold text-gray-800",children:s.title}),(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium border ".concat(D(s.priority)),children:s.priority.charAt(0).toUpperCase()+s.priority.slice(1)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[(0,a.jsx)("span",{children:s.id}),(0,a.jsx)("span",{className:"px-2 py-1 rounded ".concat(S(s.status)),children:s.status.charAt(0).toUpperCase()+s.status.slice(1)}),(0,a.jsx)("span",{children:s.assignedTo})]})]})]})},s.id)))}),x&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 rounded-lg",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full mx-4 shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)(y.Z,{className:"w-6 h-6 text-yellow-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Confirm Action"})]}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"assign"===n?"Assign ".concat(v," record").concat(1!==v?"s":""," to ").concat(o,"?"):"status"===n?"Change status of ".concat(v," record").concat(1!==v?"s":""," to ").concat(c,"?"):"Delete ".concat(v," record").concat(1!==v?"s":"","? This cannot be undone.")}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{onClick:()=>u(!1),className:"flex-1 py-2 px-4 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium",children:"Cancel"}),(0,a.jsx)("button",{onClick:w,className:"flex-1 py-2 px-4 bg-teal-600 hover:bg-teal-700 text-white rounded-lg font-medium",children:"Confirm"})]})]})})]})},Fe=s(23346),He=s(45062),We=s(55264);var Be=()=>{const[e,t]=(0,r.useState)("summary"),[s,i]=(0,r.useState)(new Set(["id","title","priority","status","assignedTo","createdAt"])),[n,l]=(0,r.useState)({start:new Date((new Date).setDate((new Date).getDate()-30)),end:new Date}),[d,m]=(0,r.useState)(""),[x,u]=(0,r.useState)(null),[g,h]=(0,r.useState)(!1),[p,b]=(0,r.useState)(null),[y,f]=(0,r.useState)([{id:"template-1",name:"Weekly Summary",type:"summary",fields:["id","title","priority","status","assignedTo"],dateRange:{start:new Date((new Date).setDate((new Date).getDate()-7)),end:new Date},schedule:"weekly",createdAt:new Date("2025-10-15"),lastGenerated:new Date("2025-10-22")},{id:"template-2",name:"Monthly Detailed Report",type:"detailed",fields:["id","title","description","priority","status","assignedTo","createdAt","updatedAt","timeline"],dateRange:{start:new Date((new Date).getFullYear(),(new Date).getMonth(),1),end:new Date},schedule:"monthly",createdAt:new Date("2025-10-10"),lastGenerated:new Date("2025-10-22")}]),[j,v]=(0,r.useState)([{id:"report-1",templateName:"Weekly Summary",generatedAt:new Date("2025-10-22T10:30:00"),recordCount:12,fileSize:"145 KB"},{id:"report-2",templateName:"Monthly Detailed Report",generatedAt:new Date("2025-10-22T09:00:00"),recordCount:45,fileSize:"520 KB"}]),[N,w]=(0,r.useState)("builder"),D=[{id:"id",label:"Escalation ID"},{id:"title",label:"Title"},{id:"description",label:"Description"},{id:"priority",label:"Priority"},{id:"status",label:"Status"},{id:"assignedTo",label:"Assigned To"},{id:"createdAt",label:"Created Date"},{id:"updatedAt",label:"Updated Date"},{id:"timeline",label:"Timeline"},{id:"slaStatus",label:"SLA Status"},{id:"resolutionTime",label:"Resolution Time"}],S={timeline:"Show escalation timeline with all events and status changes",summary:"High-level overview with key metrics and statistics",detailed:"Complete records with all available fields",custom:"Select specific fields for your custom report"};return(0,a.jsxs)("div",{className:"w-full bg-gradient-to-br from-amber-50 to-orange-50 rounded-lg p-6 space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-3 bg-amber-100 rounded-lg",children:(0,a.jsx)(o.Z,{className:"w-6 h-6 text-amber-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Custom Report Builder"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Create and schedule custom escalation reports"})]})]})}),p&&(0,a.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg flex items-start space-x-3",children:[(0,a.jsx)(L.Z,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-green-800",children:"Report Generated Successfully"}),(0,a.jsxs)("p",{className:"text-sm text-green-700",children:[p.recordCount," records (",p.fileSize,") \u2022 ",(0,U.WU)(p.generatedAt,"MMM dd, HH:mm")]})]})]}),(0,a.jsx)("div",{className:"flex space-x-2",children:["builder","templates","history"].map((e=>(0,a.jsxs)("button",{onClick:()=>w(e),className:"px-4 py-2 rounded-lg font-medium transition-all ".concat(N===e?"bg-amber-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:border-amber-300"),children:[e.charAt(0).toUpperCase()+e.slice(1),"templates"===e&&" (".concat(y.length,")"),"history"===e&&" (".concat(j.length,")")]},e)))}),"builder"===N&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Report Name"}),(0,a.jsx)("input",{type:"text",placeholder:"Enter report name...",value:d,onChange:e=>m(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 space-y-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-800",children:"Report Type"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:["timeline","summary","detailed","custom"].map((s=>(0,a.jsxs)("button",{onClick:()=>{return t(e=s),void("timeline"===e?i(new Set(["id","title","priority","status","timeline"])):"summary"===e?i(new Set(["id","title","priority","status","assignedTo"])):"detailed"===e?i(new Set(["id","title","description","priority","status","assignedTo","createdAt","updatedAt"])):"custom"===e&&i(new Set(["id","title","priority","status"])));var e},className:"p-3 rounded-lg border-2 text-left transition-all ".concat(e===s?"bg-amber-100 border-amber-500":"bg-white border-gray-300 hover:border-amber-300"),children:[(0,a.jsx)("p",{className:"font-medium text-gray-800 capitalize",children:s}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:S[s]})]},s)))})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-800",children:"Select Fields"}),(0,a.jsx)("button",{onClick:()=>{s.size===D.length?i(new Set):i(new Set(D.map((e=>e.id))))},className:"text-xs text-amber-600 hover:text-amber-700 font-semibold",children:s.size===D.length?"Deselect All":"Select All"})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:D.map((e=>(0,a.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer p-2 hover:bg-gray-50 rounded",children:[(0,a.jsx)("input",{type:"checkbox",checked:s.has(e.id),onChange:()=>(e=>{const t=new Set(s);t.has(e)?t.delete(e):t.add(e),i(t)})(e.id),className:"w-4 h-4 rounded border-gray-300 text-amber-600 focus:ring-amber-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:e.label})]},e.id)))}),(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:[s.size," field",1!==s.size?"s":""," selected"]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 space-y-4",children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center space-x-2",children:[(0,a.jsx)(Fe.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Date Range"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-2",children:"From"}),(0,a.jsx)("input",{type:"date",value:(0,U.WU)(n.start,"yyyy-MM-dd"),onChange:e=>l((t=>({...t,start:new Date(e.target.value)}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-2",children:"To"}),(0,a.jsx)("input",{type:"date",value:(0,U.WU)(n.end,"yyyy-MM-dd"),onChange:e=>l((t=>({...t,end:new Date(e.target.value)}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 space-y-4",children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center space-x-2",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Schedule (Optional)"})]}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[null,"daily","weekly","monthly"].map((e=>(0,a.jsx)("button",{onClick:()=>u(e),className:"p-2 rounded-lg text-sm font-medium transition-all ".concat(x===e?"bg-amber-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e?e.charAt(0).toUpperCase()+e.slice(1):"None"},e||"none")))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsx)("button",{onClick:async()=>{if(d.trim()){h(!0);try{await new Promise((e=>setTimeout(e,2e3)));const e={id:"report-".concat(Date.now()),templateName:d,generatedAt:new Date,recordCount:Math.floor(50*Math.random())+10,fileSize:"".concat(Math.floor(400*Math.random())+100," KB")};b(e),v((t=>[e,...t])),setTimeout((()=>{b(null),m("")}),3e3)}finally{h(!1)}}},disabled:g||!d.trim()||0===s.size,className:"py-3 px-4 rounded-lg font-semibold flex items-center justify-center space-x-2 transition-all ".concat(g||!d.trim()||0===s.size?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white"),children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 animate-spin"}),(0,a.jsx)("span",{children:"Generating..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(He.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Generate Report"})]})}),(0,a.jsxs)("button",{onClick:()=>{if(!d.trim())return;const t={id:"template-".concat(Date.now()),name:d,type:e,fields:Array.from(s),dateRange:n,schedule:x||void 0,createdAt:new Date};f((e=>[t,...e])),m(""),u(null)},disabled:!d.trim()||0===s.size,className:"py-3 px-4 rounded-lg font-semibold flex items-center justify-center space-x-2 transition-all ".concat(d.trim()&&0!==s.size?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-300 text-gray-600 cursor-not-allowed"),children:[(0,a.jsx)(Q.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Save as Template"})]})]})]}),"templates"===N&&(0,a.jsx)("div",{className:"space-y-3",children:0===y.length?(0,a.jsxs)("div",{className:"p-8 text-center text-gray-500 bg-white rounded-lg border border-gray-200",children:[(0,a.jsx)(We.Z,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{children:"No saved templates yet"})]}):y.map((e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-semibold text-gray-800",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-gray-600 capitalize",children:["Type: ",e.type," \u2022 Fields: ",e.fields.length," \u2022 ",e.schedule?"Scheduled: ".concat(e.schedule):"No schedule"]})]}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.lastGenerated?"Last: ".concat((0,U.WU)(e.lastGenerated,"MMM dd")):"Never"})]}),(0,a.jsxs)("div",{className:"flex space-x-2 pt-2",children:[(0,a.jsx)("button",{onClick:()=>(e=>{t(e.type),i(new Set(e.fields)),l(e.dateRange),u(e.schedule||null)})(e),className:"flex-1 px-3 py-1 bg-amber-100 hover:bg-amber-200 text-amber-700 rounded text-sm font-medium",children:"Load"}),(0,a.jsx)("button",{onClick:()=>{return t=e.id,void f((e=>e.filter((e=>e.id!==t))));var t},className:"px-3 py-1 bg-red-100 hover:bg-red-200 text-red-700 rounded",children:(0,a.jsx)(Pe.Z,{className:"w-4 h-4"})})]})]},e.id)))}),"history"===N&&(0,a.jsx)("div",{className:"space-y-2",children:0===j.length?(0,a.jsxs)("div",{className:"p-8 text-center text-gray-500 bg-white rounded-lg border border-gray-200",children:[(0,a.jsx)(c.Z,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{children:"No report history yet"})]}):j.map((e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-semibold text-gray-800",children:e.templateName}),(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:[e.recordCount," records \u2022 ",e.fileSize]})]}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:(0,U.WU)(e.generatedAt,"MMM dd, HH:mm")})]}),(0,a.jsx)("button",{className:"w-full px-3 py-1 bg-amber-100 hover:bg-amber-200 text-amber-700 rounded text-sm font-medium",children:"Download"})]},e.id)))})]})},ze=s(44976);const Ge=e=>{let{data:t}=e;const s=200,r=400,i=40,n=Math.max(...t.map((e=>Math.max(e.revenue,e.forecast||0)))),l=Math.min(...t.map((e=>e.revenue))),o=n-l,d=t.map(((e,a)=>({x:a/(t.length-1)*320+i,y:s-(e.revenue-l)/o*120-i,...e}))),c=d.map(((e,t)=>"".concat(0===t?"M":"L"," ").concat(e.x," ").concat(e.y))).join(" ");return(0,a.jsxs)("svg",{width:r,height:s,className:"w-full",children:[[0,1,2,3,4].map((e=>(0,a.jsx)("line",{x1:i,y1:i+120*e/4,x2:360,y2:i+120*e/4,stroke:"#e5e7eb",strokeDasharray:"4",strokeWidth:"1"},"grid-".concat(e)))),(0,a.jsx)("path",{d:c,stroke:"#2563eb",strokeWidth:"2",fill:"none"}),d.map(((e,t)=>e.forecast&&t>0&&d[t-1].forecast?(0,a.jsx)("line",{x1:d[t-1].x,y1:s-(d[t-1].forecast-l)/o*120-i,x2:e.x,y2:s-(e.forecast-l)/o*120-i,stroke:"#10b981",strokeWidth:"2",strokeDasharray:"4"},"forecast-".concat(t)):null)),d.map(((e,t)=>(0,a.jsx)("circle",{cx:e.x,cy:e.y,r:"3",fill:"#2563eb"},"point-".concat(t)))),(0,a.jsx)("line",{x1:i,y1:160,x2:360,y2:160,stroke:"#000",strokeWidth:"1"}),(0,a.jsx)("line",{x1:i,y1:i,x2:i,y2:160,stroke:"#000",strokeWidth:"1"})]})},Ve=e=>{let{timeRange:t="30d",onTimeRangeChange:s}=e;const i={"7d":7,"30d":30,"90d":90,ytd:365,all:365},n=(0,r.useMemo)((()=>(e=>{const t=[];let s=45e3;for(let a=0;a<e;a++){const r=new Date;r.setDate(r.getDate()-(e-a));const i=1e4*(Math.random()-.45),n=a/e*8e3;s=Math.max(3e4,45e3+n+i);const l={date:r.toLocaleDateString("en-US",{month:"short",day:"numeric"}),revenue:Math.round(s)};a>=e-7&&(l.forecast=Math.round(s*(1+.1*Math.random())),l.trend=a>0?Math.round((s-t[a-1].revenue)/1e3):0),t.push(l)}return t})(i[t])),[t]),l=(0,r.useMemo)((()=>{var e;const t=n.map((e=>e.revenue)),s=t[t.length-1],a=t[Math.max(0,t.length-8)],r=(s-a)/a*100,i=t.reduce(((e,t)=>e+t),0)/t.length;return{currentRevenue:s.toLocaleString(),growth:r.toFixed(1),avgRevenue:Math.round(i).toLocaleString(),forecast:(null===(e=n[n.length-1].forecast)||void 0===e?void 0:e.toLocaleString())||"N/A"}}),[n]);return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(m.Z,{className:"w-6 h-6 text-blue-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Trend"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(Re.Z,{className:"w-4 h-4 text-gray-500"}),(0,a.jsxs)("select",{value:t,onChange:e=>null===s||void 0===s?void 0:s(e.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:[(0,a.jsx)("option",{value:"7d",children:"Last 7 days"}),(0,a.jsx)("option",{value:"30d",children:"Last 30 days"}),(0,a.jsx)("option",{value:"90d",children:"Last 90 days"}),(0,a.jsx)("option",{value:"ytd",children:"Year to date"}),(0,a.jsx)("option",{value:"all",children:"All time"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Current Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:["$",l.currentRevenue]})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Growth"}),(0,a.jsxs)("p",{className:"text-2xl font-bold mt-1 ".concat(parseFloat(l.growth)>=0?"text-green-600":"text-red-600"),children:[l.growth,"%"]})]}),(0,a.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Avg Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-purple-600 mt-1",children:["$",l.avgRevenue]})]}),(0,a.jsxs)("div",{className:"bg-emerald-50 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Forecast"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-emerald-600 mt-1",children:["$",l.forecast]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)(Ge,{data:n}),(0,a.jsxs)("div",{className:"flex justify-center gap-6 mt-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-blue-600 rounded-full"}),(0,a.jsx)("span",{className:"text-gray-600",children:"Actual Revenue"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-0.5 bg-green-600"}),(0,a.jsx)("span",{className:"text-gray-600",children:"Forecast"})]})]})]})]})},Je=()=>{const e=(0,r.useMemo)((()=>(()=>{const e=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],t=Array.from({length:24},((e,t)=>t)),s=[];for(const a of e)for(const e of t){const t=e>=9&&e<=17?3:.5,r=["Sat","Sun"].includes(a)?.6:1,i=9===e||15===e?1.5:12===e?.3:1,n=Math.round(t*r*i*(8+12*Math.random()));let l="low";n>40?l="critical":n>30?l="high":n>15&&(l="medium"),s.push({day:a,hour:e,count:n,severity:l})}return s})()),[]),t=(0,r.useMemo)((()=>{const t=e.map((e=>e.count)).reduce(((e,t)=>e+t),0),s=e.filter((e=>"critical"===e.severity)).length,a=Math.round(t/24),r=e.reduce(((e,t)=>t.count>e.count?t:e));return{totalEscalations:t,criticalCount:s,avgPerHour:a,peakHour:"".concat(r.hour,":00 (").concat(r.count," escalations)")}}),[e]),s=Array.from({length:24},((e,t)=>t));return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(o.Z,{className:"w-6 h-6 text-orange-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Escalation Heatmap"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-red-50 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Total Escalations"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-600 mt-1",children:t.totalEscalations})]}),(0,a.jsxs)("div",{className:"bg-orange-50 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Critical Hours"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-orange-600 mt-1",children:t.criticalCount})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Avg per Hour"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:t.avgPerHour})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Peak Time"}),(0,a.jsx)("p",{className:"text-sm font-bold text-gray-900 mt-1",children:t.peakHour})]})]}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 overflow-x-auto",children:(0,a.jsxs)("div",{className:"inline-block min-w-full",children:[(0,a.jsxs)("div",{className:"flex gap-1 mb-2",children:[(0,a.jsx)("div",{className:"w-12 h-6"}),s.map((e=>(0,a.jsx)("div",{className:"w-12 h-6 text-center text-xs font-semibold text-gray-600",children:e},"header-".concat(e))))]}),["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((t=>(0,a.jsxs)("div",{className:"flex gap-1 mb-1",children:[(0,a.jsx)("div",{className:"w-12 h-8 flex items-center text-xs font-semibold text-gray-700",children:t}),s.map((s=>{const r=e.find((e=>e.day===t&&e.hour===s));return r?(0,a.jsx)("div",{className:"w-12 h-8 rounded flex items-center justify-center text-xs font-semibold cursor-pointer hover:opacity-75 transition-opacity",style:{backgroundColor:(i=r.count,n=r.severity,0===i?"#f3f4f6":"critical"===n?"#dc2626":"high"===n?"#f97316":"medium"===n?"#eab308":"#86efac")},title:"".concat(t," ").concat(s,":00 - ").concat(r.count," escalations (").concat(r.severity,")"),children:r.count>0?r.count:""},"heatmap-".concat(t,"-").concat(s)):null;var i,n}))]},t)))]})}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-8 mt-6 pt-6 border-t",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-gray-300 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"None"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-green-400 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Low"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-yellow-400 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Medium"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-orange-500 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"High"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-red-600 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Critical"})]})]}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg flex gap-3",children:[(0,a.jsx)(y.Z,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-blue-900",children:"Peak Escalation Times"}),(0,a.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"Most escalations occur during business hours (9-17), with significant peaks at 9-10 AM and 3-4 PM. Consider staffing adjustments during these times."})]})]})]})};var qe=s(1781);const Ke=(e,t)=>"time"===t?e<=8?"text-green-600":e<=12?"text-yellow-600":"text-red-600":"rate"===t?e>=90?"text-green-600":e>=80?"text-yellow-600":"text-red-600":"satisfaction"===t?e>=4.7?"text-green-600":e>=4.3?"text-yellow-600":"text-red-600":"text-gray-600",Ye=(e,t)=>"time"===t?e<=8?"bg-green-50":e<=12?"bg-yellow-50":"bg-red-50":"rate"===t?e>=90?"bg-green-50":e>=80?"bg-yellow-50":"bg-red-50":"satisfaction"===t?e>=4.7?"bg-green-50":e>=4.3?"bg-yellow-50":"bg-red-50":"bg-gray-50",Xe=e=>{let{rating:t}=e;return(0,a.jsx)("div",{className:"flex gap-1",children:Array.from({length:5}).map(((e,s)=>(0,a.jsx)("span",{className:"text-lg ".concat(s<Math.round(t)?"text-yellow-400":"text-gray-300"),children:"\u2605"},s)))})},$e=()=>{const e=(0,r.useMemo)((()=>[{id:"1",name:"Sarah Johnson",role:"Lead Coordinator",responseTime:8,resolutionRate:94,satisfaction:4.8,escalations:3,trend:"up"},{id:"2",name:"Mike Chen",role:"Escalation Manager",responseTime:12,resolutionRate:87,satisfaction:4.5,escalations:8,trend:"stable"},{id:"3",name:"Emma Rodriguez",role:"Operations Specialist",responseTime:6,resolutionRate:91,satisfaction:4.7,escalations:2,trend:"up"},{id:"4",name:"James Park",role:"Support Technician",responseTime:15,resolutionRate:82,satisfaction:4.2,escalations:12,trend:"down"},{id:"5",name:"Lisa Ahmed",role:"Quality Analyst",responseTime:10,resolutionRate:96,satisfaction:4.9,escalations:1,trend:"up"}]),[]),t=(0,r.useMemo)((()=>({avgResponseTime:Math.round(e.reduce(((e,t)=>e+t.responseTime),0)/e.length),avgResolutionRate:Math.round(e.reduce(((e,t)=>e+t.resolutionRate),0)/e.length),avgSatisfaction:(e.reduce(((e,t)=>e+t.satisfaction),0)/e.length).toFixed(1),topPerformer:e.reduce(((e,t)=>t.resolutionRate>e.resolutionRate?t:e)).name})),[e]);return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(d.Z,{className:"w-6 h-6 text-purple-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Team Performance"})]}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:[e.length," Members"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Avg Response"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-purple-600 mt-1",children:[t.avgResponseTime,"m"]})]}),(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Resolution Rate"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:[t.avgResolutionRate,"%"]})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Satisfaction"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:[t.avgSatisfaction,"\u2b50"]})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Top Performer"}),(0,a.jsx)("p",{className:"text-sm font-bold text-green-600 mt-1",children:t.topPerformer})]})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b-2 border-gray-200",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Member"}),(0,a.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-700",children:"Response Time"}),(0,a.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-700",children:"Resolution"}),(0,a.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-700",children:"Satisfaction"}),(0,a.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-700",children:"Escalations"}),(0,a.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-700",children:"Trend"})]})}),(0,a.jsx)("tbody",{children:e.map(((e,t)=>(0,a.jsxs)("tr",{className:"border-b ".concat(t%2===0?"bg-gray-50":""),children:[(0,a.jsx)("td",{className:"py-4 px-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:e.role})]})}),(0,a.jsx)("td",{className:"py-4 px-4 text-center",children:(0,a.jsxs)("div",{className:"inline-block px-3 py-1 rounded font-semibold ".concat(Ye(e.responseTime,"time")," ").concat(Ke(e.responseTime,"time")),children:[e.responseTime,"m"]})}),(0,a.jsx)("td",{className:"py-4 px-4 text-center",children:(0,a.jsxs)("div",{className:"inline-block px-3 py-1 rounded font-semibold ".concat(Ye(e.resolutionRate,"rate")," ").concat(Ke(e.resolutionRate,"rate")),children:[e.resolutionRate,"%"]})}),(0,a.jsx)("td",{className:"py-4 px-4 text-center",children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(Xe,{rating:e.satisfaction})})}),(0,a.jsx)("td",{className:"py-4 px-4 text-center",children:(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:e.escalations})}),(0,a.jsx)("td",{className:"py-4 px-4 text-center",children:(0,a.jsxs)("div",{className:"flex justify-center",children:["up"===e.trend&&(0,a.jsx)(m.Z,{className:"w-5 h-5 text-green-600"}),"down"===e.trend&&(0,a.jsx)(m.Z,{className:"w-5 h-5 text-red-600 transform rotate-180"}),"stable"===e.trend&&(0,a.jsx)("div",{className:"w-5 h-5 text-gray-400",children:"\u2500"})]})})]},e.id)))})]})}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-purple-50 rounded-lg flex gap-3",children:[(0,a.jsx)(qe.Z,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-purple-900",children:"Performance Insights"}),(0,a.jsxs)("p",{className:"text-sm text-purple-700 mt-1",children:[t.topPerformer," is leading the team with the highest resolution rate. Consider reviewing best practices with other team members."]})]})]})]})};var Qe=s(67089),et=s(46611);const tt=e=>"positive"===e?"text-green-600":"negative"===e?"text-red-600":"text-gray-600",st=e=>{let{confidence:t}=e;const s=Math.round(100*t);return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all ".concat(t>=.85?"bg-green-500":t>=.75?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(s,"%")}})}),(0,a.jsxs)("span",{className:"text-sm font-semibold text-gray-700",children:[s,"%"]})]})},at=()=>{const e=(0,r.useMemo)((()=>[{metric:"Escalations (Next 7 Days)",current:"245",forecast:"312",confidence:.87,impact:"negative",recommendation:"Increase support staff by 15% for next week. Peak expected Thursday."},{metric:"Revenue Growth (30-Day)",current:"$2.4M",forecast:"$2.8M",confidence:.92,impact:"positive",recommendation:"Maintain current strategy. Strong growth trajectory expected."},{metric:"Resolution Time Trend",current:"14 min",forecast:"11 min",confidence:.78,impact:"positive",recommendation:"Current optimizations are working. Continue monitoring."},{metric:"Churn Risk Prediction",current:"3.2%",forecast:"4.1%",confidence:.81,impact:"negative",recommendation:"Review customer satisfaction metrics. Proactive outreach recommended."},{metric:"Peak Load Hour",current:"3 PM",forecast:"2 PM",confidence:.85,impact:"neutral",recommendation:"Shift peak staffing by one hour earlier for optimization."},{metric:"System Performance Score",current:"94.2%",forecast:"96.1%",confidence:.88,impact:"positive",recommendation:"Scheduled maintenance completed successfully. Performance improving."}]),[]),t=(0,r.useMemo)((()=>({avgConfidence:Math.round(e.reduce(((e,t)=>e+t.confidence),0)/e.length*100),positiveCount:e.filter((e=>"positive"===e.impact)).length,negativeCount:e.filter((e=>"negative"===e.impact)).length,highConfidence:e.filter((e=>e.confidence>=.85)).length})),[e]);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(Qe.Z,{className:"w-6 h-6 text-indigo-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Predictive Analytics"})]}),(0,a.jsx)("span",{className:"text-xs font-medium bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full",children:"ML Model v2.1"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-indigo-50 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Model Confidence"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-indigo-600 mt-1",children:[t.avgConfidence,"%"]})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Positive Trends"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600 mt-1",children:t.positiveCount})]}),(0,a.jsxs)("div",{className:"bg-red-50 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Risk Areas"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-600 mt-1",children:t.negativeCount})]}),(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"High Confidence"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:[t.highConfidence,"/6"]})]})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:e.map(((e,t)=>{return(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 ".concat("positive"===e.impact?"border-l-green-500":"negative"===e.impact?"border-l-red-500":"border-l-gray-500"),children:(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-4",children:[(0,a.jsx)("div",{className:"col-span-1 flex items-start",children:(0,a.jsx)("div",{className:"p-2 rounded-lg ".concat((s=e.impact,"positive"===s?"bg-green-50 border-green-200":"negative"===s?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200").split(" ")[0]),children:(0,a.jsx)(et.Z,{className:"w-5 h-5 ".concat(tt(e.impact))})})}),(0,a.jsxs)("div",{className:"col-span-5",children:[(0,a.jsx)("p",{className:"font-semibold text-gray-900 mb-3",children:e.metric}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Current"}),(0,a.jsx)("span",{className:"font-semibold text-gray-900",children:e.current})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Forecast"}),(0,a.jsx)("span",{className:"font-semibold ".concat("positive"===e.impact?"text-green-600":"negative"===e.impact?"text-red-600":"text-gray-900"),children:e.forecast})]})]})]}),(0,a.jsxs)("div",{className:"col-span-6",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Model Confidence"}),(0,a.jsx)(st,{confidence:e.confidence}),(0,a.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-gray-700 mb-1",children:"Recommendation"}),(0,a.jsx)("p",{className:"text-xs text-gray-600 leading-relaxed",children:e.recommendation})]})]})]})},t);var s}))}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(l.Z,{className:"w-5 h-5 text-indigo-600 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-gray-900",children:"AI-Powered Insights"}),(0,a.jsxs)("ul",{className:"list-disc list-inside text-sm text-gray-700 mt-2 space-y-1",children:[(0,a.jsx)("li",{children:"Two risk areas identified: escalation surge and potential churn increase"}),(0,a.jsx)("li",{children:"Revenue forecast shows strong growth momentum (87% confidence)"}),(0,a.jsx)("li",{children:"System performance optimization showing measurable improvements"}),(0,a.jsx)("li",{children:"Recommend proactive staffing adjustment for predicted peak load shift"}),(0,a.jsx)("li",{children:"Monitor churn risk indicators closely over next 5 days"})]})]})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-4 text-sm",children:(0,a.jsxs)("p",{className:"text-gray-700",children:[(0,a.jsx)("span",{className:"font-semibold text-indigo-900",children:"ML Model Details:"})," Ensemble model (Random Forest + Gradient Boosting) trained on 12 months of historical data. Last updated: Today at 2:34 PM. Retrains daily with new data. Average accuracy: 89.2%"]})})]})},rt=e=>{let{onRefresh:t,onDownload:s}=e;const[i,n]=(0,r.useState)("30d"),[l,d]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:"space-y-6 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(o.Z,{className:"w-8 h-8 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Analytics & BI"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Advanced metrics, predictions, and team performance"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("button",{onClick:async()=>{d(!0),null===t||void 0===t||t(),await new Promise((e=>setTimeout(e,1e3))),d(!1)},disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",title:"Refresh data",children:[(0,a.jsx)(ze.Z,{className:"w-4 h-4 ".concat(l?"animate-spin":"")}),"Refresh"]}),(0,a.jsxs)("button",{onClick:()=>{null===s||void 0===s||s();const e={timestamp:(new Date).toISOString(),timeRange:i,report:"Analytics Dashboard Export"},t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,2))),t.setAttribute("download","analytics-report-".concat(Date.now(),".json")),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Download report",children:[(0,a.jsx)(Ie.Z,{className:"w-4 h-4"}),"Export"]}),(0,a.jsx)("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",title:"Settings",children:(0,a.jsx)(We.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-6 border border-blue-200",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Active Metrics"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:"24"}),(0,a.jsx)("p",{className:"text-xs text-blue-700 mt-2",children:"Real-time tracking"})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-6 border border-purple-200",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-purple-900",children:"Predictions"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:"6"}),(0,a.jsx)("p",{className:"text-xs text-purple-700 mt-2",children:"ML-powered forecasts"})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-6 border border-green-200",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-green-900",children:"Model Accuracy"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-green-600 mt-2",children:"89.2%"}),(0,a.jsx)("p",{className:"text-xs text-green-700 mt-2",children:"Ensemble ML model"})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-6 border border-orange-200",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-orange-900",children:"Data Points"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-orange-600 mt-2",children:"15.2K"}),(0,a.jsx)("p",{className:"text-xs text-orange-700 mt-2",children:"Last 30 days"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(Ve,{timeRange:i,onTimeRangeChange:e=>n(e)})}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(Je,{})})]}),(0,a.jsx)("div",{children:(0,a.jsx)($e,{})}),(0,a.jsx)("div",{children:(0,a.jsx)(at,{})}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Analytics Dashboard Help"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6 text-sm text-gray-700",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 mb-2",children:"\ud83d\udca1 Tips"}),(0,a.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-gray-600",children:[(0,a.jsx)("li",{children:"Use time range selector to compare periods"}),(0,a.jsx)("li",{children:"Hover over charts for detailed tooltips"}),(0,a.jsx)("li",{children:"Export reports for stakeholder presentations"}),(0,a.jsx)("li",{children:"ML predictions update daily with new data"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 mb-2",children:"\ud83d\udcca Features"}),(0,a.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-gray-600",children:[(0,a.jsx)("li",{children:"Real-time revenue tracking and forecasting"}),(0,a.jsx)("li",{children:"Escalation pattern heatmap (24h \xd7 7d)"}),(0,a.jsx)("li",{children:"Team performance KPIs and trends"}),(0,a.jsx)("li",{children:"ML-powered predictive models"})]})]})]})]})]})};var it=s(7656),nt=s(52217),lt=s(70123),ot=s(7571);const dt=e=>{let{message:t,isOwn:s}=e;const r=0===t.readBy.length?"Sent":"Read by ".concat(t.readBy.length);return(0,a.jsxs)("div",{className:"flex gap-3 mb-3 ".concat(s?"flex-row-reverse":""),children:[!s&&(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white text-xs font-bold flex-shrink-0",children:t.senderName.charAt(0)}),(0,a.jsxs)("div",{className:"flex-1 ".concat(s?"text-right":""),children:[!s&&(0,a.jsx)("p",{className:"text-xs font-semibold text-gray-700 mb-1",children:t.senderName}),(0,a.jsx)("div",{className:"inline-block px-4 py-2 rounded-lg max-w-md ".concat(s?"bg-blue-600 text-white rounded-br-none":"bg-gray-100 text-gray-900 rounded-bl-none"),children:(0,a.jsx)("p",{className:"text-sm leading-relaxed",children:t.content})}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[t.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),s&&" \u2022 ".concat(r)]})]})]})},ct=e=>{let{conv:t,isActive:s,onClick:r}=e;var i;return(0,a.jsx)("button",{onClick:r,className:"w-full text-left px-4 py-3 rounded-lg mb-2 transition-colors ".concat(s?"bg-blue-100 border border-blue-300":"hover:bg-gray-100 border border-transparent"),children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("p",{className:"font-semibold text-gray-900 truncate ".concat(t.isPinned?"flex items-center gap-1":""),children:[t.isPinned&&(0,a.jsx)(lt.Z,{className:"w-3 h-3 text-yellow-600"}),t.name]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 truncate",children:(null===(i=t.lastMessage)||void 0===i?void 0:i.content)||"No messages yet"})]}),t.unreadCount>0&&(0,a.jsx)("div",{className:"w-5 h-5 rounded-full bg-red-500 text-white text-xs flex items-center justify-center font-bold flex-shrink-0",children:t.unreadCount>9?"9+":t.unreadCount})]})})},mt=e=>{let{currentUserId:t="user-123",onSendMessage:s}=e;const[i,n]=(0,r.useState)([{id:"conv-1",name:"Escalation Team",type:"group",members:["user-123","user-456","user-789"],unreadCount:3,isPinned:!0,isArchived:!1,lastMessage:{id:"msg-1",senderId:"user-456",senderName:"Sarah Johnson",content:"The escalation issue has been resolved",timestamp:new Date(Date.now()-3e5),readBy:[],isEdited:!1}},{id:"conv-2",name:"Emma Rodriguez",type:"direct",members:["user-123","user-789"],unreadCount:1,isPinned:!1,isArchived:!1,lastMessage:{id:"msg-2",senderId:"user-789",senderName:"Emma Rodriguez",content:"Got the update, thanks!",timestamp:new Date(Date.now()-9e5),readBy:["user-123"],isEdited:!1}},{id:"conv-3",name:"Operations",type:"group",members:["user-123","user-012","user-345"],unreadCount:0,isPinned:!1,isArchived:!1,lastMessage:{id:"msg-3",senderId:"user-123",senderName:"You",content:"Let me check on that for you",timestamp:new Date(Date.now()-6e4),readBy:["user-012","user-345"],isEdited:!1}}]),[l,o]=(0,r.useState)([{id:"msg-1",senderId:"user-456",senderName:"Sarah Johnson",content:"Hey team, we have a critical escalation incoming",timestamp:new Date(Date.now()-18e5),readBy:["user-123"],isEdited:!1},{id:"msg-2",senderId:"user-123",senderName:"You",content:"Got it. I'll start investigating",timestamp:new Date(Date.now()-15e5),readBy:["user-456"],isEdited:!1},{id:"msg-3",senderId:"user-789",senderName:"Emma Rodriguez",content:"I found the issue! It's in the API response parsing",timestamp:new Date(Date.now()-6e5),readBy:["user-123","user-456"],isEdited:!1},{id:"msg-4",senderId:"user-456",senderName:"Sarah Johnson",content:"The escalation issue has been resolved",timestamp:new Date(Date.now()-3e5),readBy:[],isEdited:!1}]),[c,m]=(0,r.useState)("conv-1"),[x,u]=(0,r.useState)(""),[g,h]=(0,r.useState)(!1),[p,b]=(0,r.useState)(""),y=(0,r.useRef)(null);(0,r.useEffect)((()=>{var e;null===(e=y.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[l]);const f=()=>{if(!x.trim())return;const e={id:"msg-".concat(Date.now()),senderId:t,senderName:"You",content:x,timestamp:new Date,readBy:[],isEdited:!1};o([...l,e]),null===s||void 0===s||s(c,x),u(""),h(!1)},j=i.filter((e=>e.name.toLowerCase().includes(p.toLowerCase()))),v=i.find((e=>e.id===c));return(0,a.jsxs)("div",{className:"flex gap-6 h-screen max-h-[calc(100vh-200px)] bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,a.jsxs)("div",{className:"w-80 border-r border-gray-200 flex flex-col",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)(it.Z,{className:"w-6 h-6 text-blue-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Messages"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(Me.Z,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search conversations...",value:p,onChange:e=>b(e.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:border-blue-500"})]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:j.length>0?j.map((e=>(0,a.jsx)(ct,{conv:e,isActive:e.id===c,onClick:()=>m(e.id)},e.id))):(0,a.jsx)("p",{className:"text-center text-gray-600 py-8",children:"No conversations found"})}),(0,a.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,a.jsxs)("button",{className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium flex items-center justify-center gap-2",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4"}),"New Conversation"]})})]}),(0,a.jsx)("div",{className:"flex-1 flex flex-col",children:v?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:v.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"group"===v.type?"".concat(v.members.length," members"):"Direct message"})]}),(0,a.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,a.jsx)(ot.Z,{className:"w-5 h-5 text-gray-600"})})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:[l.map((e=>(0,a.jsx)(dt,{message:e,isOwn:e.senderId===t},e.id))),g&&(0,a.jsxs)("div",{className:"flex gap-2 items-center mb-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-300 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs",children:"\u2026"})}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Someone is typing"})]}),(0,a.jsx)("div",{ref:y})]}),(0,a.jsx)("div",{className:"p-6 border-t border-gray-200 bg-white",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("input",{type:"text",value:x,onChange:e=>{u(e.target.value),h(e.target.value.length>0)},onKeyPress:e=>"Enter"===e.key&&f(),placeholder:"Type a message...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"}),(0,a.jsxs)("button",{onClick:f,disabled:!x.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 font-medium transition-colors",children:[(0,a.jsx)(_e.Z,{className:"w-4 h-4"}),"Send"]})]})})]}):(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-600",children:(0,a.jsx)("p",{children:"Select a conversation to start messaging"})})})]})};var xt=s(15452),ut=s(61282),gt=s(15928);const ht=e=>{switch(e){case"escalation":return(0,a.jsx)(l.Z,{className:"w-5 h-5 text-red-600"});case"resolution":return(0,a.jsx)(L.Z,{className:"w-5 h-5 text-green-600"});case"assignment":return(0,a.jsx)(q.Z,{className:"w-5 h-5 text-blue-600"});case"comment":return(0,a.jsx)(xt.Z,{className:"w-5 h-5 text-purple-600"});case"status_change":return(0,a.jsx)(ut.Z,{className:"w-5 h-5 text-amber-600"});case"reaction":return(0,a.jsx)(b.Z,{className:"w-5 h-5 text-pink-600"});default:return(0,a.jsx)(gt.Z,{className:"w-5 h-5 text-gray-600"})}},pt=e=>{switch(e){case"escalation":return"bg-red-50 border-l-4 border-l-red-600";case"resolution":return"bg-green-50 border-l-4 border-l-green-600";case"assignment":return"bg-blue-50 border-l-4 border-l-blue-600";case"comment":return"bg-purple-50 border-l-4 border-l-purple-600";case"status_change":return"bg-amber-50 border-l-4 border-l-amber-600";case"reaction":return"bg-pink-50 border-l-4 border-l-pink-600";default:return"bg-gray-50 border-l-4 border-l-gray-600"}},bt=e=>{const t=new Date,s=Math.floor((t.getTime()-e.getTime())/1e3);if(s<60)return"just now";const a=Math.floor(s/60);if(a<60)return"".concat(a,"m ago");const r=Math.floor(a/60);if(r<24)return"".concat(r,"h ago");const i=Math.floor(r/24);return i<7?"".concat(i,"d ago"):e.toLocaleDateString()},yt=e=>{let{activity:t,onClick:s}=e;const r=t.user.name.charAt(0).toUpperCase();return(0,a.jsx)("button",{onClick:s,className:"w-full text-left p-4 rounded-lg mb-3 transition-all hover:shadow-md hover:scale-105 ".concat(pt(t.type)),children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-1",children:(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-bold text-sm",children:r})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-semibold text-gray-900",children:t.title}),(0,a.jsx)("p",{className:"text-sm text-gray-700 mt-1 line-clamp-2",children:t.description}),t.metadata&&(0,a.jsxs)("div",{className:"flex gap-2 mt-2 flex-wrap",children:[t.metadata.escalationId&&(0,a.jsxs)("span",{className:"inline-block px-2 py-1 bg-white bg-opacity-60 rounded text-xs font-medium text-gray-700",children:["#",t.metadata.escalationId]}),t.metadata.priority&&(0,a.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium ".concat("critical"===t.metadata.priority?"bg-red-200 text-red-800":"high"===t.metadata.priority?"bg-orange-200 text-orange-800":"bg-yellow-200 text-yellow-800"),children:t.metadata.priority.toUpperCase()})]})]}),(0,a.jsx)("div",{className:"flex-shrink-0",children:ht(t.type)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-xs text-gray-600",children:[(0,a.jsx)("span",{children:t.user.name}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(c.Z,{className:"w-3 h-3"}),bt(t.timestamp)]})]})]})]})})},ft=e=>{let{onFilterChange:t,onActivityClick:s}=e;const[i,n]=(0,r.useState)("all"),[l]=(0,r.useState)([{id:"activity-1",type:"escalation",title:"Critical Escalation Created",description:"High priority issue reported in the payment processing system",user:{name:"Sarah Johnson"},timestamp:new Date(Date.now()-3e5),metadata:{escalationId:"ESC-2847",priority:"critical"}},{id:"activity-2",type:"assignment",title:"Escalation Assigned",description:"Mike Chen was assigned to handle the payment issue",user:{name:"Team Lead"},timestamp:new Date(Date.now()-18e4),metadata:{escalationId:"ESC-2847",assignee:"Mike Chen"}},{id:"activity-3",type:"comment",title:"Comment Added",description:"Found the root cause! Database connection timeout during peak hours",user:{name:"Mike Chen"},timestamp:new Date(Date.now()-12e4),metadata:{escalationId:"ESC-2847"}},{id:"activity-4",type:"status_change",title:"Status Updated to In Progress",description:"Escalation ESC-2847 moved to in progress by Mike Chen",user:{name:"Mike Chen"},timestamp:new Date(Date.now()-6e4),metadata:{escalationId:"ESC-2847",newStatus:"in_progress"}},{id:"activity-5",type:"comment",title:"Comment Added",description:"Implemented connection pooling and redeployed to production",user:{name:"Emma Rodriguez"},timestamp:new Date(Date.now()-3e4),metadata:{escalationId:"ESC-2847"}},{id:"activity-6",type:"reaction",title:"Reaction Added",description:"Sarah Johnson reacted with \ud83d\udc4d to the fix",user:{name:"Sarah Johnson"},timestamp:new Date(Date.now()-1e4),metadata:{escalationId:"ESC-2847",reaction:"\ud83d\udc4d"}},{id:"activity-7",type:"resolution",title:"Escalation Resolved",description:"Issue has been resolved and verified by the team",user:{name:"Emma Rodriguez"},timestamp:new Date(Date.now()-5e3),metadata:{escalationId:"ESC-2847",resolution:"fixed"}}]),o="all"===i?l:l.filter((e=>e.type===i));return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.Z,{className:"w-6 h-6 text-indigo-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Activity Feed"})]}),(0,a.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,a.jsx)(Re.Z,{className:"w-5 h-5 text-gray-600"})})]}),(0,a.jsx)("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[{value:"all",label:"All Activities"},{value:"escalation",label:"\ud83d\udea8 Escalations"},{value:"resolution",label:"\u2705 Resolutions"},{value:"assignment",label:"\ud83d\udc64 Assignments"},{value:"comment",label:"\ud83d\udcac Comments"},{value:"status_change",label:"\ud83d\udd04 Status Changes"}].map((e=>(0,a.jsx)("button",{onClick:()=>{return s=e.value,n(s),void(null===t||void 0===t||t(s));var s},className:"px-4 py-2 rounded-lg whitespace-nowrap font-medium transition-colors ".concat(i===e.value?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e.label},e.value)))}),(0,a.jsx)("div",{className:"space-y-2",children:o.length>0?o.map((e=>(0,a.jsx)(yt,{activity:e,onClick:()=>null===s||void 0===s?void 0:s(e.id)},e.id))):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(c.Z,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 font-medium",children:"No activities found"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Try changing the filter"})]})}),o.length>0&&(0,a.jsx)("button",{className:"w-full mt-6 px-4 py-2 text-center text-indigo-600 hover:bg-indigo-50 rounded-lg font-medium transition-colors",children:"Load More Activities"})]})};var jt=s(63594);const vt=e=>{let{status:t}=e;const s={online:{bg:"bg-green-500",label:"Online"},idle:{bg:"bg-yellow-500",label:"Idle"},offline:{bg:"bg-gray-400",label:"Offline"},"in-call":{bg:"bg-red-500",label:"In Call"}}[t];return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(s.bg," animate-pulse")}),(0,a.jsx)("span",{className:"text-xs font-medium text-gray-700",children:s.label})]})},Nt=e=>{let{member:t,onMemberClick:s,onMessageClick:r,onCallClick:i}=e;const n=t.name.charAt(0).toUpperCase();return(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-lg transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-bold text-sm",children:n}),(0,a.jsx)("div",{className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white ".concat("online"===t.status?"bg-green-500":"idle"===t.status?"bg-yellow-500":"in-call"===t.status?"bg-red-500":"bg-gray-400")})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:t.name}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:t.role})]})]}),(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",children:(0,a.jsx)(ot.Z,{className:"w-4 h-4 text-gray-400"})})]}),(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsx)(vt,{status:t.status})}),t.currentEscalation&&(0,a.jsxs)("div",{className:"mb-3 p-2 bg-blue-50 rounded-lg border border-blue-200",children:[(0,a.jsx)("p",{className:"text-xs font-medium text-blue-900",children:"Working on"}),(0,a.jsx)("p",{className:"text-xs text-blue-700 truncate",children:t.currentEscalation})]}),t.lastSeen&&"offline"===t.status&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 mb-3",children:["Last seen ",t.lastSeen.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),t.timeZone&&(0,a.jsx)("p",{className:"text-xs text-gray-600 mb-3",children:t.timeZone}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("button",{onClick:r,className:"flex-1 px-3 py-2 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-lg text-xs font-medium transition-colors flex items-center justify-center gap-2",children:[(0,a.jsx)(it.Z,{className:"w-3 h-3"}),"Message"]}),(0,a.jsxs)("button",{onClick:i,disabled:"offline"===t.status,className:"flex-1 px-3 py-2 bg-green-100 hover:bg-green-200 text-green-700 rounded-lg text-xs font-medium transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,a.jsx)(jt.Z,{className:"w-3 h-3"}),"Call"]})]})]})},wt=e=>{let{onMemberClick:t,onMessageClick:s,onCallClick:i}=e;const[n,l]=(0,r.useState)([{id:"member-1",name:"Sarah Johnson",role:"Lead Coordinator",status:"online",currentEscalation:"ESC-2847 - Payment Processing",timeZone:"EST"},{id:"member-2",name:"Mike Chen",role:"Escalation Manager",status:"in-call",currentEscalation:"ESC-2846 - API Issue",timeZone:"PST"},{id:"member-3",name:"Emma Rodriguez",role:"Operations Specialist",status:"online",currentEscalation:"ESC-2845 - Database Connection",timeZone:"CST"},{id:"member-4",name:"James Park",role:"Support Technician",status:"idle",lastSeen:new Date(Date.now()-9e5),timeZone:"EST"},{id:"member-5",name:"Lisa Ahmed",role:"Quality Analyst",status:"offline",lastSeen:new Date(Date.now()-72e5),timeZone:"CET"},{id:"member-6",name:"David Kim",role:"Tech Lead",status:"online",currentEscalation:"ESC-2844 - Infrastructure",timeZone:"JST"}]),[o,c]=(0,r.useState)("status"),m=[...n].sort(((e,t)=>{if("status"===o){const s={online:0,"in-call":1,idle:2,offline:3};return s[e.status]-s[t.status]}return"name"===o?e.name.localeCompare(t.name):e.role.localeCompare(t.role)})),x={online:n.filter((e=>"online"===e.status)).length,"in-call":n.filter((e=>"in-call"===e.status)).length,idle:n.filter((e=>"idle"===e.status)).length,offline:n.filter((e=>"offline"===e.status)).length};return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(d.Z,{className:"w-6 h-6 text-green-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Team Status"}),(0,a.jsxs)("span",{className:"ml-2 px-2 py-1 bg-green-100 text-green-800 text-xs font-bold rounded-full",children:[n.filter((e=>"online"===e.status)).length," Online"]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-3 border border-green-200",children:[(0,a.jsx)("p",{className:"text-xs text-green-900 font-medium",children:"Online"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600 mt-1",children:x.online})]}),(0,a.jsxs)("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:[(0,a.jsx)("p",{className:"text-xs text-red-900 font-medium",children:"In Call"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-600 mt-1",children:x["in-call"]})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-3 border border-yellow-200",children:[(0,a.jsx)("p",{className:"text-xs text-yellow-900 font-medium",children:"Idle"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:x.idle})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,a.jsx)("p",{className:"text-xs text-gray-900 font-medium",children:"Offline"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-600 mt-1",children:x.offline})]})]}),(0,a.jsx)("div",{className:"flex gap-2 mb-6",children:["status","name","role"].map((e=>(0,a.jsxs)("button",{onClick:()=>c(e),className:"px-3 py-1 rounded-lg text-sm font-medium transition-colors ".concat(o===e?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["Sort by ",e.charAt(0).toUpperCase()+e.slice(1)]},e)))}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map((e=>(0,a.jsx)(Nt,{member:e,onMemberClick:()=>null===t||void 0===t?void 0:t(e.id),onMessageClick:()=>null===s||void 0===s?void 0:s(e.id),onCallClick:()=>null===i||void 0===i?void 0:i(e.id)},e.id)))}),(0,a.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Status Legend"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Online"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"In Call"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Idle"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-gray-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Offline"})]})]})]})]})},Dt=e=>{let{currentUserId:t="user-123"}=e;const[s,i]=(0,r.useState)("messaging"),[n,l]=(0,r.useState)({messaging:4,activity:3,presence:0}),o=[{id:"messaging",icon:it.Z,label:"Messages",count:n.messaging},{id:"activity",icon:nt.Z,label:"Activity",count:n.activity},{id:"presence",icon:d.Z,label:"Team",count:n.presence}];return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,a.jsx)("div",{className:"flex items-center border-b border-gray-200",children:o.map((e=>{const t=e.icon;return(0,a.jsxs)("button",{onClick:()=>i(e.id),className:"flex-1 px-6 py-4 font-medium border-b-2 transition-colors flex items-center justify-center gap-2 relative ".concat(s===e.id?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,a.jsx)(t,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:e.label}),e.count>0&&(0,a.jsx)("span",{className:"absolute top-2 right-2 w-6 h-6 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:e.count>9?"9+":e.count})]},e.id)}))}),(0,a.jsxs)("div",{className:"p-6",children:["messaging"===s&&(0,a.jsx)("div",{children:(0,a.jsx)(mt,{currentUserId:t,onSendMessage:(e,t)=>{n.messaging>0&&l((e=>({...e,messaging:e.messaging-1})))}})}),"activity"===s&&(0,a.jsx)("div",{children:(0,a.jsx)(ft,{onActivityClick:e=>{}})}),"presence"===s&&(0,a.jsx)("div",{children:(0,a.jsx)(wt,{onMemberClick:e=>console.log("Member clicked:",e),onMessageClick:e=>{},onCallClick:e=>{}})})]}),(0,a.jsxs)("div",{className:"bg-gray-50 border-t border-gray-200 p-6 grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Unread Messages"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:n.messaging})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"New Activities"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600 mt-1",children:n.activity})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Online Members"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-600 mt-1",children:"4"})]})]})]})};var St=s(82126);const Ct=()=>{const[e,t]=(0,r.useState)("24h"),s=[{label:"Total Users",value:"1,284",icon:(0,a.jsx)(d.Z,{className:"w-6 h-6"}),trend:{value:12,direction:"up"},backgroundColor:"bg-blue-50 border-blue-200"},{label:"System Uptime",value:"99.98%",icon:(0,a.jsx)(nt.Z,{className:"w-6 h-6"}),trend:{value:0,direction:"stable"},backgroundColor:"bg-green-50 border-green-200"},{label:"Active Sessions",value:"487",icon:(0,a.jsx)(gt.Z,{className:"w-6 h-6"}),trend:{value:23,direction:"up"},backgroundColor:"bg-purple-50 border-purple-200"},{label:"Security Events",value:"4",icon:(0,a.jsx)(St.Z,{className:"w-6 h-6"}),trend:{value:2,direction:"down"},backgroundColor:"bg-orange-50 border-orange-200"}],i=[{id:"manage-users",label:"Manage Users",description:"Create, edit, or remove user accounts",icon:(0,a.jsx)(d.Z,{className:"w-5 h-5"}),action:()=>console.log("Manage users"),color:"bg-blue-600 hover:bg-blue-700"},{id:"system-settings",label:"System Settings",description:"Configure system-wide settings",icon:(0,a.jsx)(We.Z,{className:"w-5 h-5"}),action:()=>console.log("System settings"),color:"bg-purple-600 hover:bg-purple-700"},{id:"security-audit",label:"Security Audit",description:"View security events and logs",icon:(0,a.jsx)(St.Z,{className:"w-5 h-5"}),action:()=>console.log("Security audit"),color:"bg-red-600 hover:bg-red-700"},{id:"system-health",label:"System Health",description:"Monitor system performance",icon:(0,a.jsx)(m.Z,{className:"w-5 h-5"}),action:()=>console.log("System health"),color:"bg-green-600 hover:bg-green-700"}];return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(p.Z,{className:"w-8 h-8 text-red-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"System overview and administration controls"})]})]}),(0,a.jsx)("div",{className:"flex gap-2",children:["24h","7d","30d"].map((s=>(0,a.jsx)("button",{onClick:()=>t(s),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat(e===s?"bg-red-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:s},s)))})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:s.map(((e,t)=>(0,a.jsx)("div",{className:"rounded-lg border ".concat(e.backgroundColor," p-6"),children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.label}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.value}),e.trend&&(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-2 text-sm",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 ".concat("up"===e.trend.direction?"text-green-600":"down"===e.trend.direction?"text-red-600 rotate-180":"text-gray-600")}),(0,a.jsxs)("span",{className:"up"===e.trend.direction?"text-green-600":"text-gray-600",children:["up"===e.trend.direction?"+":"",e.trend.value,"%"]})]})]}),(0,a.jsx)("div",{className:"p-3 bg-white bg-opacity-50 rounded-lg",children:e.icon})]})},t)))}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Actions"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:i.map((e=>(0,a.jsxs)("button",{onClick:e.action,className:"p-6 rounded-lg text-white font-medium transition-all hover:shadow-lg hover:scale-105 flex flex-col items-center gap-3 text-center ".concat(e.color),children:[(0,a.jsx)("div",{className:"p-3 bg-white bg-opacity-20 rounded-lg",children:e.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold",children:e.label}),(0,a.jsx)("p",{className:"text-xs text-white text-opacity-80 mt-1",children:e.description})]})]},e.id)))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"System Health"}),(0,a.jsx)("div",{className:"space-y-3",children:[{label:"API Response Time",value:"145ms",status:"good"},{label:"Database Performance",value:"98.5%",status:"good"},{label:"Cache Hit Rate",value:"87.2%",status:"good"},{label:"Error Rate",value:"0.02%",status:"good"},{label:"CPU Usage",value:"34%",status:"good"}].map(((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700",children:e.label}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full ".concat("good"===e.status?"bg-green-600":"bg-red-600"),style:{width:e.value}})}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900 w-12 text-right",children:e.value})]})]},t)))})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Recent Activity"}),(0,a.jsx)("div",{className:"space-y-3",children:[{time:"2 hours ago",action:"User Sarah Johnson reset password",severity:"info"},{time:"4 hours ago",action:"Failed login attempt from IP 192.168.1.100",severity:"warning"},{time:"6 hours ago",action:"System maintenance completed",severity:"success"},{time:"8 hours ago",action:"New user registration: Mike Chen",severity:"info"},{time:"10 hours ago",action:"Database backup completed",severity:"success"}].map(((e,t)=>(0,a.jsxs)("div",{className:"flex gap-3 pb-3 border-b border-gray-200 last:border-0",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full mt-2 flex-shrink-0 ".concat("success"===e.severity?"bg-green-600":"warning"===e.severity?"bg-yellow-600":"bg-blue-600")}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm text-gray-900",children:e.action}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.time})]})]},t)))})]})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 flex gap-4",children:[(0,a.jsx)(y.Z,{className:"w-6 h-6 text-yellow-600 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-yellow-900",children:"Security Notice"}),(0,a.jsx)("p",{className:"text-sm text-yellow-800 mt-1",children:"4 security events detected in the last 24 hours. Review audit logs for details. Consider enabling two-factor authentication for all admin accounts."})]})]})]})};var kt=s(96815);const At=()=>{const[e,t]=(0,r.useState)([{id:"user-1",name:"Sarah Johnson",email:"sarah@salatiso.com",role:"admin",status:"active",joinDate:new Date("2025-01-15"),lastLogin:new Date(Date.now()-72e5)},{id:"user-2",name:"Mike Chen",email:"mike@salatiso.com",role:"manager",status:"active",joinDate:new Date("2025-02-20"),lastLogin:new Date(Date.now()-18e5)},{id:"user-3",name:"Emma Rodriguez",email:"emma@salatiso.com",role:"coordinator",status:"active",joinDate:new Date("2025-03-10"),lastLogin:new Date(Date.now()-9e5)},{id:"user-4",name:"James Park",email:"james@salatiso.com",role:"user",status:"inactive",joinDate:new Date("2025-01-05"),lastLogin:new Date("2025-10-10")},{id:"user-5",name:"Lisa Ahmed",email:"lisa@salatiso.com",role:"coordinator",status:"active",joinDate:new Date("2025-04-01"),lastLogin:new Date(Date.now()-36e5)}]),[s,i]=(0,r.useState)(""),[n,l]=(0,r.useState)("all"),[o,c]=(0,r.useState)("all"),[m,x]=(0,r.useState)(!1),[u,g]=(0,r.useState)(null),h=e.filter((e=>{const t=e.name.toLowerCase().includes(s.toLowerCase())||e.email.toLowerCase().includes(s.toLowerCase()),a="all"===n||e.role===n,r="all"===o||e.status===o;return t&&a&&r})),p=e=>{switch(e){case"admin":return"bg-red-100 text-red-800";case"manager":return"bg-blue-100 text-blue-800";case"coordinator":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},b=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(d.Z,{className:"w-8 h-8 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[e.length," users in the system"]})]})]}),(0,a.jsxs)("button",{onClick:()=>x(!m),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors",children:[(0,a.jsx)(Q.Z,{className:"w-4 h-4"}),"Add User"]})]}),m&&(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Create New User"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)("input",{type:"text",placeholder:"Full Name",className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"}),(0,a.jsx)("input",{type:"email",placeholder:"Email Address",className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"}),(0,a.jsxs)("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",children:[(0,a.jsx)("option",{value:"",children:"Select Role"}),(0,a.jsx)("option",{value:"admin",children:"Admin"}),(0,a.jsx)("option",{value:"manager",children:"Manager"}),(0,a.jsx)("option",{value:"coordinator",children:"Coordinator"}),(0,a.jsx)("option",{value:"user",children:"User"})]}),(0,a.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Create User"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(Me.Z,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search users...",value:s,onChange:e=>i(e.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-sm"})]}),(0,a.jsxs)("select",{value:n,onChange:e=>l(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-sm",children:[(0,a.jsx)("option",{value:"all",children:"All Roles"}),(0,a.jsx)("option",{value:"admin",children:"Admin"}),(0,a.jsx)("option",{value:"manager",children:"Manager"}),(0,a.jsx)("option",{value:"coordinator",children:"Coordinator"}),(0,a.jsx)("option",{value:"user",children:"User"})]}),(0,a.jsxs)("select",{value:o,onChange:e=>c(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-sm",children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"inactive",children:"Inactive"}),(0,a.jsx)("option",{value:"suspended",children:"Suspended"})]})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b-2 border-gray-200",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"User"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Email"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Role"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Status"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Joined"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Last Login"}),(0,a.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-700",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:h.map((e=>(0,a.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white text-xs font-bold",children:e.name.charAt(0)}),(0,a.jsx)("span",{className:"font-medium text-gray-900",children:e.name})]})}),(0,a.jsx)("td",{className:"py-3 px-4 text-gray-600",children:e.email}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold ".concat(p(e.role)),children:e.role})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold ".concat(b(e.status)),children:e.status})}),(0,a.jsx)("td",{className:"py-3 px-4 text-gray-600",children:e.joinDate.toLocaleDateString()}),(0,a.jsx)("td",{className:"py-3 px-4 text-gray-600 text-xs",children:e.lastLogin?e.lastLogin.toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never"}),(0,a.jsx)("td",{className:"py-3 px-4 text-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>g(e),className:"p-1 hover:bg-blue-100 rounded text-blue-600 transition-colors",title:"Edit",children:(0,a.jsx)(kt.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{className:"p-1 hover:bg-red-100 rounded text-red-600 transition-colors",title:"Delete",children:(0,a.jsx)(Pe.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded text-gray-600 transition-colors",children:(0,a.jsx)(ot.Z,{className:"w-4 h-4"})})]})})]},e.id)))})]})}),0===h.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(d.Z,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 font-medium",children:"No users found"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Try adjusting your filters or search"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200 p-6",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Active Users"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:e.filter((e=>"active"===e.status)).length})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200 p-6",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-green-900",children:"Admins"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-green-600 mt-2",children:e.filter((e=>"admin"===e.role)).length})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg border border-yellow-200 p-6",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-yellow-900",children:"Inactive"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-yellow-600 mt-2",children:e.filter((e=>"inactive"===e.status)).length})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg border border-purple-200 p-6",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-purple-900",children:"Total Users"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:e.length})]})]})]})};var Tt=s(86691),It=s(89354),Et=s(52125);const Mt=()=>{const[e,t]=(0,r.useState)({app_name:"Salatiso Dashboard",app_version:"4.8.0",timezone:"UTC",email_enabled:!0,smtp_host:"smtp.gmail.com",smtp_port:587,smtp_user:"notifications@salatiso.com",two_factor_auth:!0,password_min_length:12,session_timeout:30,enable_api_keys:!0,db_max_connections:100,db_query_timeout:30,backup_enabled:!0,backup_frequency:"daily",enable_notifications:!0,enable_collaboration:!0,enable_analytics:!0,enable_offline_mode:!0,cache_enabled:!0,cache_ttl:3600,enable_compression:!0,enable_cdn:!0}),[s,i]=(0,r.useState)(!1),[n,o]=(0,r.useState)(!1),d=[{id:"general",title:"General Settings",icon:(0,a.jsx)(We.Z,{className:"w-5 h-5"}),settings:[{id:"app_name",label:"Application Name",type:"text",value:e.app_name},{id:"app_version",label:"Version",type:"text",value:e.app_version},{id:"timezone",label:"Time Zone",type:"select",value:e.timezone,options:[{label:"UTC",value:"UTC"},{label:"EST",value:"EST"},{label:"CST",value:"CST"},{label:"PST",value:"PST"}]}]},{id:"email",title:"Email Configuration",icon:(0,a.jsx)(Tt.Z,{className:"w-5 h-5"}),settings:[{id:"email_enabled",label:"Enable Email Notifications",type:"toggle",value:e.email_enabled},{id:"smtp_host",label:"SMTP Host",type:"text",value:e.smtp_host},{id:"smtp_port",label:"SMTP Port",type:"number",value:e.smtp_port},{id:"smtp_user",label:"SMTP Username",type:"text",value:e.smtp_user}]},{id:"security",title:"Security Settings",icon:(0,a.jsx)(St.Z,{className:"w-5 h-5"}),settings:[{id:"two_factor_auth",label:"Require Two-Factor Authentication",type:"toggle",value:e.two_factor_auth},{id:"password_min_length",label:"Minimum Password Length",type:"number",value:e.password_min_length},{id:"session_timeout",label:"Session Timeout (minutes)",type:"number",value:e.session_timeout},{id:"enable_api_keys",label:"Enable API Keys",type:"toggle",value:e.enable_api_keys}]},{id:"database",title:"Database Settings",icon:(0,a.jsx)(It.Z,{className:"w-5 h-5"}),settings:[{id:"db_max_connections",label:"Max Connections",type:"number",value:e.db_max_connections},{id:"db_query_timeout",label:"Query Timeout (seconds)",type:"number",value:e.db_query_timeout},{id:"backup_enabled",label:"Enable Automatic Backups",type:"toggle",value:e.backup_enabled},{id:"backup_frequency",label:"Backup Frequency",type:"select",value:e.backup_frequency,options:[{label:"Hourly",value:"hourly"},{label:"Daily",value:"daily"},{label:"Weekly",value:"weekly"}]}]},{id:"features",title:"Feature Toggles",icon:(0,a.jsx)(et.Z,{className:"w-5 h-5"}),settings:[{id:"enable_notifications",label:"Enable Notifications",type:"toggle",value:e.enable_notifications},{id:"enable_collaboration",label:"Enable Collaboration Features",type:"toggle",value:e.enable_collaboration},{id:"enable_analytics",label:"Enable Analytics",type:"toggle",value:e.enable_analytics},{id:"enable_offline_mode",label:"Enable Offline Mode",type:"toggle",value:e.enable_offline_mode}]}],c=(e,s)=>{t((t=>({...t,[e]:s}))),i(!0)};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(We.Z,{className:"w-8 h-8 text-purple-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"System Configuration"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Manage system settings and configuration options"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors",children:[(0,a.jsx)(Et.Z,{className:"w-4 h-4"}),"Reset"]}),(0,a.jsxs)("button",{onClick:()=>{o(!0),i(!1),setTimeout((()=>o(!1)),3e3)},disabled:!s,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium transition-colors",children:[(0,a.jsx)(Le.Z,{className:"w-4 h-4"}),"Save Changes"]})]})]}),n&&(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex gap-3",children:[(0,a.jsx)(Rt,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-green-800 font-medium",children:"Configuration saved successfully!"})]}),(0,a.jsx)("div",{className:"space-y-6",children:d.map((e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200 p-6 flex items-center gap-3",children:[(0,a.jsx)("div",{className:"text-gray-600",children:e.icon}),(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:e.title})]}),(0,a.jsx)("div",{className:"p-6 space-y-6",children:e.settings.map((e=>{var t;return(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{className:"font-medium text-gray-900",children:e.label}),e.description&&(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]}),(0,a.jsxs)("div",{className:"flex-shrink-0",children:["toggle"===e.type&&(0,a.jsx)("button",{onClick:()=>c(e.id,!e.value),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(e.value?"bg-purple-600":"bg-gray-300"),children:(0,a.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(e.value?"translate-x-6":"translate-x-1")})}),"text"===e.type&&(0,a.jsx)("input",{type:"text",value:e.value,onChange:t=>c(e.id,t.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-500 w-48"}),"number"===e.type&&(0,a.jsx)("input",{type:"number",value:e.value,onChange:t=>c(e.id,parseInt(t.target.value)),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-500 w-32"}),"select"===e.type&&(0,a.jsx)("select",{value:e.value,onChange:t=>c(e.id,t.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-500 w-48",children:null===(t=e.options)||void 0===t?void 0:t.map((e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value)))})]})]},e.id)}))})]},e.id)))}),(0,a.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6 flex gap-4",children:[(0,a.jsx)(l.Z,{className:"w-6 h-6 text-orange-600 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-orange-900",children:"System Configuration Notice"}),(0,a.jsx)("p",{className:"text-sm text-orange-800 mt-2",children:"Changes to system configuration take effect immediately. Some changes may require server restart. Critical settings like database configuration should only be modified by experienced administrators."})]})]})]})},Rt=e=>{let{className:t}=e;return(0,a.jsx)("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})},Lt=()=>{const[e,t]=(0,r.useState)(""),[s,i]=(0,r.useState)("all"),[n,l]=(0,r.useState)("all"),[o,d]=(0,r.useState)("7d"),[m,x]=(0,r.useState)(null),u=[{id:"1",timestamp:new Date(Date.now()-12e4).toISOString(),user:"admin@salatiso.com",action:"User Created",resource:"john.doe@example.com",resourceType:"user",status:"success",ipAddress:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64)",details:"New user account created with role: coordinator"},{id:"2",timestamp:new Date(Date.now()-3e5).toISOString(),user:"manager@salatiso.com",action:"Configuration Changed",resource:"SMTP Settings",resourceType:"config",status:"success",ipAddress:"192.168.1.105",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)",details:"Updated SMTP port from 25 to 587"},{id:"3",timestamp:new Date(Date.now()-9e5).toISOString(),user:"sarah.johnson@salatiso.com",action:"Failed Login Attempt",resource:"Authentication",resourceType:"auth",status:"error",ipAddress:"203.0.113.45",userAgent:"Mozilla/5.0 (X11; Linux x86_64)",details:"Login failed: Invalid password (attempt 3/5)"},{id:"4",timestamp:new Date(Date.now()-192e4).toISOString(),user:"admin@salatiso.com",action:"User Suspended",resource:"old.user@example.com",resourceType:"user",status:"success",ipAddress:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64)",details:"Account suspended due to inactivity (90+ days)"},{id:"5",timestamp:new Date(Date.now()-36e5).toISOString(),user:"api_service",action:"API Key Generated",resource:"integration_key_prod",resourceType:"api",status:"success",ipAddress:"10.0.0.50",userAgent:"ApiClient/2.1.0",details:"New API key generated for integration service"},{id:"6",timestamp:new Date(Date.now()-72e5).toISOString(),user:"manager@salatiso.com",action:"Database Backup",resource:"production_db",resourceType:"database",status:"warning",ipAddress:"192.168.1.105",userAgent:"MonitoringService/1.0",details:"Backup completed but took longer than expected (45 min)"},{id:"7",timestamp:new Date(Date.now()-108e5).toISOString(),user:"admin@salatiso.com",action:"Role Updated",resource:"mike.chen@salatiso.com",resourceType:"user",status:"success",ipAddress:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64)",details:"Role changed from user to manager"},{id:"8",timestamp:new Date(Date.now()-216e5).toISOString(),user:"security@salatiso.com",action:"Security Scan",resource:"application",resourceType:"security",status:"success",ipAddress:"192.168.1.200",userAgent:"SecurityScanner/3.2.1",details:"Completed vulnerability scan: 0 critical issues found"},{id:"9",timestamp:new Date(Date.now()-432e5).toISOString(),user:"admin@salatiso.com",action:"Bulk Import",resource:"users_batch_001",resourceType:"import",status:"success",ipAddress:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64)",details:"Imported 245 user records from CSV file"},{id:"10",timestamp:new Date(Date.now()-864e5).toISOString(),user:"manager@salatiso.com",action:"Report Generated",resource:"monthly_report_oct",resourceType:"report",status:"success",ipAddress:"192.168.1.105",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64)",details:"Generated monthly escalation report (847 records)"}],g=(0,r.useMemo)((()=>u.filter((t=>{const a=""===e||t.user.toLowerCase().includes(e.toLowerCase())||t.action.toLowerCase().includes(e.toLowerCase())||t.resource.toLowerCase().includes(e.toLowerCase())||t.ipAddress.includes(e),r="all"===n||t.status===n;let i=!0;return"all"!==s&&("user"===s&&(i="user"===t.resourceType),"action"===s&&(i=["config","auth","api"].includes(t.resourceType)),"resource"===s&&(i=["database","security","import"].includes(t.resourceType))),a&&r&&i}))),[e,s,n]),h={total:u.length,success:u.filter((e=>"success"===e.status)).length,errors:u.filter((e=>"error"===e.status)).length,warnings:u.filter((e=>"warning"===e.status)).length},p=e=>{switch(e){case"success":return"bg-green-100 text-green-800 border-green-300";case"error":return"bg-red-100 text-red-800 border-red-300";case"warning":return"bg-yellow-100 text-yellow-800 border-yellow-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},b=e=>{switch(e){case"success":return"\u2713";case"error":return"\u2715";case"warning":return"\u26a0";default:return"\u2022"}},y=e=>{const t=new Date(e),s=(new Date).getTime()-t.getTime();return s<6e4?"Just now":s<36e5?"".concat(Math.floor(s/6e4),"m ago"):s<864e5?"".concat(Math.floor(s/36e5),"h ago"):"".concat(Math.floor(s/864e5),"d ago")};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(Ae.Z,{className:"w-8 h-8 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Audit Logs"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"System activity and event logs"})]})]}),(0,a.jsxs)("button",{onClick:()=>{const e=[["Timestamp","User","Action","Resource","Status","IP Address"],...g.map((e=>[new Date(e.timestamp).toISOString(),e.user,e.action,e.resource,e.status,e.ipAddress]))].map((e=>e.map((e=>'"'.concat(e,'"'))).join(","))).join("\n"),t=new Blob([e],{type:"text/csv"}),s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download="audit-logs-".concat((new Date).toISOString().split("T")[0],".csv"),a.click()},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors",children:[(0,a.jsx)(Ie.Z,{className:"w-4 h-4"}),"Export CSV"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md border-l-4 border-blue-500",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total Logs"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:h.total})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md border-l-4 border-green-500",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Successful"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:h.success})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md border-l-4 border-red-500",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Errors"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:h.errors})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md border-l-4 border-yellow-500",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Warnings"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:h.warnings})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(Re.Z,{className:"w-5 h-5 text-gray-600"}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Filters"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(Me.Z,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"User, action, resource, IP...",value:e,onChange:e=>t(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter Type"}),(0,a.jsxs)("select",{value:s,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Types"}),(0,a.jsx)("option",{value:"user",children:"Users"}),(0,a.jsx)("option",{value:"action",children:"Actions"}),(0,a.jsx)("option",{value:"resource",children:"Resources"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,a.jsxs)("select",{value:n,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Statuses"}),(0,a.jsx)("option",{value:"success",children:"Success"}),(0,a.jsx)("option",{value:"error",children:"Error"}),(0,a.jsx)("option",{value:"warning",children:"Warning"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Range"}),(0,a.jsxs)("select",{value:o,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",children:[(0,a.jsx)("option",{value:"24h",children:"Last 24 Hours"}),(0,a.jsx)("option",{value:"7d",children:"Last 7 Days"}),(0,a.jsx)("option",{value:"30d",children:"Last 30 Days"}),(0,a.jsx)("option",{value:"all",children:"All Time"})]})]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",g.length," of ",u.length," logs"]})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-100 border-b border-gray-200",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Time"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"User"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Action"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Resource"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"IP Address"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Details"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:g.length>0?g.map((e=>(0,a.jsxs)(r.Fragment,{children:[(0,a.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>x(m===e.id?null:e.id),children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),y(e.timestamp)]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(q.Z,{className:"w-4 h-4 text-gray-400"}),e.user]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.action}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.resource}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-600",children:e.ipAddress}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold border ".concat(p(e.status)),children:[b(e.status)," ",e.status.charAt(0).toUpperCase()+e.status.slice(1)]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,a.jsx)("button",{className:"text-blue-600 hover:text-blue-800 font-medium",children:"View"})})]}),m===e.id&&(0,a.jsx)("tr",{className:"bg-gray-50",children:(0,a.jsx)("td",{colSpan:7,className:"px-6 py-4",children:(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Full Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600",children:"User Agent"}),(0,a.jsx)("p",{className:"text-gray-900 font-mono text-xs",children:e.userAgent})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600",children:"Timestamp"}),(0,a.jsx)("p",{className:"text-gray-900",children:new Date(e.timestamp).toLocaleString()})]})]}),e.details&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"text-gray-600",children:"Description"}),(0,a.jsx)("p",{className:"text-gray-900 bg-white p-2 rounded border border-gray-200 mt-1",children:e.details})]})]})})})})]},e.id))):(0,a.jsx)("tr",{children:(0,a.jsxs)("td",{colSpan:7,className:"px-6 py-8 text-center",children:[(0,a.jsx)(nt.Z,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-gray-600",children:"No logs found matching your filters"})]})})})]})})})]})},Pt=()=>{const[e,t]=(0,r.useState)("dashboard"),[s,i]=(0,r.useState)(4),n=[{id:"dashboard",label:"Dashboard",icon:(0,a.jsx)(p.Z,{className:"w-5 h-5"})},{id:"users",label:"User Management",icon:(0,a.jsx)(d.Z,{className:"w-5 h-5"}),badge:1},{id:"config",label:"System Config",icon:(0,a.jsx)(We.Z,{className:"w-5 h-5"})},{id:"audit",label:"Audit Logs",icon:(0,a.jsx)(Ae.Z,{className:"w-5 h-5"})}];return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-slate-900 to-slate-800 text-white rounded-lg p-6 shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(p.Z,{className:"w-8 h-8"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Administration Panel"}),(0,a.jsx)("p",{className:"text-slate-300 mt-1",children:"System management and configuration"})]})]})}),s>0&&(0,a.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 flex items-start gap-3",children:[(0,a.jsx)(J.Z,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-orange-900",children:"System Notifications"}),(0,a.jsxs)("p",{className:"text-sm text-orange-800 mt-1",children:[s," system events require attention. Check the dashboard for more details."]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,a.jsx)("div",{className:"flex flex-wrap border-b border-gray-200",children:n.map((s=>(0,a.jsxs)("button",{onClick:()=>t(s.id),className:"flex items-center gap-2 px-6 py-4 font-medium transition-colors relative ".concat(e===s.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900"),children:[s.icon,s.label,s.badge&&(0,a.jsx)("span",{className:"absolute top-1 right-1 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:s.badge})]},s.id)))}),(0,a.jsxs)("div",{className:"p-6",children:["dashboard"===e&&(0,a.jsx)(Ct,{}),"users"===e&&(0,a.jsx)(At,{}),"config"===e&&(0,a.jsx)(Mt,{}),"audit"===e&&(0,a.jsx)(Lt,{})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center text-sm text-gray-600 border border-gray-200",children:[(0,a.jsxs)("p",{children:["Last updated: ",(new Date).toLocaleString()]}),(0,a.jsx)("p",{className:"mt-1",children:"All changes are logged in the Audit Logs for security and compliance"})]})]})},Ot=n()((()=>s.e(3464).then(s.bind(s,73464)).then((e=>({default:e.EcosystemActivityWidget})))),{loadableGenerated:{webpack:()=>[73464]},ssr:!1});function Zt(){const{user:e,loading:t}=(0,u.a)(),[s,i]=(0,r.useState)(R.tasks),[n,h]=(0,r.useState)("overview"),[p,b]=(0,r.useState)("export"),[y,f]=(0,r.useState)(!1),j=e||null;return j?(0,a.jsx)(x.Z,{title:"Dashboard",children:(0,a.jsxs)("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Family Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Your personalized view of the Mlandeli ecosystem"})]}),(0,a.jsx)("div",{className:"hidden lg:flex items-center space-x-4",children:(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Today"}),(0,a.jsx)("div",{className:"font-medium text-gray-900",children:(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})})]})}),(0,a.jsxs)("div",{className:"flex gap-4 mb-8 border-b border-gray-200 overflow-x-auto",children:[(0,a.jsx)("button",{onClick:()=>h("overview"),className:"px-4 py-3 font-medium border-b-2 transition-colors whitespace-nowrap ".concat("overview"===n?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"\ud83d\udcca Dashboard"}),(0,a.jsxs)("button",{onClick:()=>h("escalations"),className:"px-4 py-3 font-medium border-b-2 transition-colors whitespace-nowrap flex items-center gap-2 ".concat("escalations"===n?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:[(0,a.jsx)(l.Z,{className:"w-4 h-4"}),"Escalations"]}),(0,a.jsxs)("button",{onClick:()=>h("analytics"),className:"px-4 py-3 font-medium border-b-2 transition-colors whitespace-nowrap flex items-center gap-2 ".concat("analytics"===n?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:[(0,a.jsx)(o.Z,{className:"w-4 h-4"}),"Analytics"]}),(0,a.jsx)("button",{onClick:()=>h("collaboration"),className:"px-4 py-3 font-medium border-b-2 transition-colors whitespace-nowrap flex items-center gap-2 ".concat("collaboration"===n?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"\ud83d\udcac Collaboration"}),(0,a.jsxs)("button",{onClick:()=>h("team-assignment"),className:"px-4 py-3 font-medium border-b-2 transition-colors whitespace-nowrap flex items-center gap-2 ".concat("team-assignment"===n?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:[(0,a.jsx)(d.Z,{className:"w-4 h-4"}),"Team Assignment"]}),(0,a.jsxs)("button",{onClick:()=>h("sla-tracking"),className:"px-4 py-3 font-medium border-b-2 transition-colors whitespace-nowrap flex items-center gap-2 ".concat("sla-tracking"===n?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),"SLA Tracking"]}),(0,a.jsxs)("button",{onClick:()=>h("performance"),className:"px-4 py-3 font-medium border-b-2 transition-colors whitespace-nowrap flex items-center gap-2 ".concat("performance"===n?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),"Performance"]}),(0,a.jsx)("button",{onClick:()=>h("admin"),className:"px-4 py-3 font-medium border-b-2 transition-colors whitespace-nowrap flex items-center gap-2 ".concat("admin"===n?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"\ud83d\udd10 Admin"}),(0,a.jsxs)("button",{onClick:()=>h("advanced"),className:"px-4 py-3 font-medium border-b-2 transition-colors whitespace-nowrap flex items-center gap-2 ".concat("advanced"===n?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:[(0,a.jsx)(We.Z,{className:"w-4 h-4"}),"Advanced"]})]}),"overview"===n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-8",children:(0,a.jsx)(k,{})}),(0,a.jsx)("div",{className:"lg:col-span-4",children:(0,a.jsx)(C,{})}),(0,a.jsx)("div",{className:"lg:col-span-6",children:(0,a.jsx)(A,{})}),(0,a.jsx)("div",{className:"lg:col-span-6",children:(0,a.jsx)(T,{})}),(0,a.jsx)("div",{className:"lg:col-span-6",children:(0,a.jsx)(g.s$,{})}),(0,a.jsx)("div",{className:"lg:col-span-3",children:(0,a.jsx)(g.UI,{})}),(0,a.jsx)("div",{className:"lg:col-span-3",children:(0,a.jsx)(M,{})}),(0,a.jsx)("div",{className:"lg:col-span-6",children:(0,a.jsx)(g.Mm,{})}),(0,a.jsx)("div",{className:"lg:col-span-12",children:(0,a.jsx)(g.aP,{})}),(0,a.jsx)("div",{className:"lg:col-span-12",children:(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,a.jsx)(Ot,{mode:"full",limit:15,showStats:!0,showFilters:!0})})}),(0,a.jsx)("div",{className:"lg:col-span-12",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"MNI Registration Project"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Solo''s task to register Mlandeli-Notemba Investments with mother''s help"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Progress"}),(0,a.jsxs)("div",{className:"text-lg font-semibold text-primary-600",children:[Math.round(s.filter((e=>"completed"===e.status)).length/s.length*100),"%"]})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:s.slice(0,3).map((e=>(0,a.jsx)(F,{task:e,onUpdateTask:e=>{i((t=>t.map((t=>t.id===e.id?e:t))))},onToggleSubtask:(e,t)=>{i((s=>s.map((s=>{if(s.id===e){const e=s.subtasks.map((e=>e.id===t?{...e,completed:!e.completed,completedDate:e.completed?null:new Date}:e));return{...s,subtasks:e}}return s}))))},onAddNote:(e,t)=>{i((s=>s.map((s=>s.id===e?{...s,notes:[...s.notes,{id:Date.now().toString(),author:(null===j||void 0===j?void 0:j.displayName)||"User",content:t,createdAt:new Date,updatedAt:new Date}]}:s))))}},e.id)))}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,a.jsxs)("button",{className:"w-full text-center text-sm text-primary-600 hover:text-primary-800 font-medium",children:["View All Tasks (",s.length,") \u2192"]})})]})})]}),(0,a.jsxs)("div",{className:"mt-8 bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("button",{className:"p-4 text-center rounded-lg border border-gray-200 hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcdd"}),(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"New Project"})]}),(0,a.jsxs)("button",{className:"p-4 text-center rounded-lg border border-gray-200 hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udc65"}),(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Family Directory"})]}),(0,a.jsxs)("button",{className:"p-4 text-center rounded-lg border border-gray-200 hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcca"}),(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Analytics"})]}),(0,a.jsxs)("button",{className:"p-4 text-center rounded-lg border border-gray-200 hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:"\u2699\ufe0f"}),(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Settings"})]})]})]})]}),"escalations"===n&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"System Escalations"}),(0,a.jsxs)("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,a.jsx)(l.Z,{className:"w-4 h-4"}),"New Incident"]})]}),(0,a.jsx)($,{}),(0,a.jsx)(oe,{isOpen:y,onClose:()=>f(!1)})]}),"analytics"===n&&(0,a.jsx)(rt,{}),"collaboration"===n&&(0,a.jsx)(Dt,{}),"team-assignment"===n&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Team Assignment"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Intelligently assign escalations to team members with workload balancing"})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,a.jsx)(ue,{teamId:"team-001",escalationId:"sample-escalation",escalationPriority:"high"})})]}),"sla-tracking"===n&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"SLA Tracking"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Monitor SLA compliance in real-time and track breaches"})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,a.jsx)(he,{teamId:"team-001"})})]}),"performance"===n&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Performance Metrics"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Track team and individual performance with analytics and trends"})]}),(0,a.jsx)(ke,{teamId:"team-001",dateRange:"month"})]}),"admin"===n&&(0,a.jsx)("div",{children:(0,a.jsx)(Pt,{})}),"advanced"===n&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Advanced Features"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Powerful tools for data management, reporting, and bulk operations"})]}),(0,a.jsx)("div",{className:"flex gap-2 border-b border-gray-200 overflow-x-auto",children:["export","search","bulk","reports"].map((e=>(0,a.jsxs)("button",{onClick:()=>b(e),className:"px-4 py-2 font-medium text-sm border-b-2 transition-colors whitespace-nowrap ".concat(p===e?"border-purple-600 text-purple-600":"border-transparent text-gray-600 hover:text-gray-900"),children:["export"===e&&"\ud83d\udce4 Export","search"===e&&"\ud83d\udd0d Search","bulk"===e&&"\u2713 Bulk Ops","reports"===e&&"\ud83d\udcca Reports"]},e)))}),"export"===p&&(0,a.jsx)(Ee,{}),"search"===p&&(0,a.jsx)(Ze,{}),"bulk"===p&&(0,a.jsx)(Ue,{}),"reports"===p&&(0,a.jsx)(Be,{})]})]})}):(0,a.jsx)(x.Z,{title:"Dashboard",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading your dashboard..."})]})})})}},89616:function(e,t,s){"use strict";s.r(t),s.d(t,{notificationService:function(){return l}});var a=s(97042),r=s(22806),i=s(99724),n=s(34155);const l=new class{async requestPermission(){if(!("Notification"in window))throw new Error("This browser does not support notifications");return await Notification.requestPermission()}async getFCMToken(){try{if(!a.Fw)return null;if("granted"!==await this.requestPermission())return null;return await(0,r.LP)(a.Fw,{vapidKey:this.vapidKey})}catch(e){return null}}async saveTokenToUser(e,t){try{const s=(0,i.JU)(a.db,"users",e);await(0,i.r7)(s,{fcmToken:t,notificationsEnabled:!0,lastTokenUpdate:new Date})}catch(s){throw s}}async removeTokenFromUser(e){try{const t=(0,i.JU)(a.db,"users",e);await(0,i.r7)(t,{fcmToken:null,notificationsEnabled:!1,lastTokenUpdate:new Date})}catch(t){throw t}}initializeForegroundMessages(){a.Fw&&(0,r.ps)(a.Fw,(e=>{const t=e.notification;t&&this.showNotification({title:t.title||"Salatiso Notification",body:t.body||"",icon:t.icon,data:e.data})}))}showNotification(e){if("granted"!==Notification.permission)return;const t={body:e.body,icon:e.icon||"/favicon.ico",badge:e.badge,tag:e.tag,requireInteraction:e.requireInteraction,data:e.data};e.actions&&e.actions.length>0&&(t.actions=e.actions);const s=new Notification(e.title,t);e.requireInteraction||setTimeout((()=>{s.close()}),5e3),s.onclick=()=>{var t;window.focus(),s.close(),(null===(t=e.data)||void 0===t?void 0:t.action)&&this.handleNotificationAction(e.data.action,e.data)},e.actions&&(s.onshow=()=>{})}handleNotificationAction(e,t){switch(e){case"view_family_update":window.location.href="/intranet/family?update=".concat(t.updateId);break;case"view_project":window.location.href="/intranet/projects?id=".concat(t.projectId);break;case"view_achievement":window.location.href="/intranet/profile?tab=achievements";break;case"view_announcement":window.location.href="/intranet/announcements?id=".concat(t.announcementId)}}async sendTestNotification(e){try{const t=(0,i.JU)(a.db,"users",e),s=await(0,i.QT)(t);if(!s.exists())throw new Error("User not found");if(!s.data().fcmToken)throw new Error("User has no FCM token");this.showNotification({title:"Test Notification",body:"This is a test push notification from Salatiso!",tag:"test-notification"})}catch(t){throw t}}isSupported(){return"Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window}getPermissionStatus(){return"Notification"in window?Notification.permission:"denied"}constructor(){this.vapidKey=n.env.NEXT_PUBLIC_FIREBASE_VAPID_KEY}};t.default=l}},function(e){e.O(0,[4179,2806,4342,5047,2257,9952,8285,2888,9774,179],(function(){return t=21151,e(e.s=t);var t}));var t=e.O();_N_E=t}]);