(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6350],{23454:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/intranet/calendar",function(){return a(32566)}])},77918:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});const n=(0,a(63759).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},61258:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});const n=(0,a(63759).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},4307:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});const n=(0,a(63759).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},50039:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});const n=(0,a(63759).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},12779:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});const n=(0,a(63759).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},82606:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});const n=(0,a(63759).Z)("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]])},3350:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});const n=(0,a(63759).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4270:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});const n=(0,a(63759).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},43283:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});const n=(0,a(63759).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},32566:function(e,t,a){"use strict";a.r(t);var n=a(85893),s=a(67294),r=a(12023),i=a(82606),l=a(43765),c=a(23346),o=a(4270),u=a(12779),d=a(43283),m=a(61258),x=a(4307),h=a(77918),p=a(62190),b=a(50039),g=a(3350),w=a(89176),v=a(60837),y=a(35047),j=a(86501),N=a(97042),f=a(99724);t.default=()=>{const{user:e}=(0,v.a)(),[t,a]=(0,s.useState)(new Date(2025,9,21)),[D,k]=(0,s.useState)([]),[S,C]=(0,s.useState)(null),[Z,E]=(0,s.useState)(!1),[T,I]=(0,s.useState)(null),[O,A]=(0,s.useState)("month"),[M,P]=(0,s.useState)(""),[L,F]=(0,s.useState)(!0),[R,_]=(0,s.useState)(null),[B,U]=(0,s.useState)(""),[J,V]=(0,s.useState)("personal");(0,s.useEffect)((()=>{if(null===e||void 0===e?void 0:e.id){F(!0);try{const t=(0,f.IO)((0,f.hJ)(N.db,"calendarEvents"),(0,f.ar)("userId","==",e.id)),a=(0,f.cf)(t,(e=>{const t=e.docs.map((e=>{var t,a;return{...e.data(),startDate:(null===(t=e.data().startDate)||void 0===t?void 0:t.toDate())||new Date,endDate:null===(a=e.data().endDate)||void 0===a?void 0:a.toDate()}}));k(t),F(!1),_(null)}),(t=>{"permission-denied"===t.code?_("Permission denied. Please check your account access."):"unavailable"===t.code?_("Firestore service unavailable. Please try again later."):"not-found"===t.code?_("Calendar events collection not found."):_("Failed to load events: ".concat(t.message)),F(!1);const a=[{id:"1",title:"Family Dinner",description:"Weekly family gathering",startDate:new Date(2025,9,24),startTime:"18:00",endTime:"20:00",location:"Home",category:"family",color:"#E74C3C",reminder:!0,recurring:"weekly",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),userId:(null===e||void 0===e?void 0:e.id)||""},{id:"2",title:"Vehicle Maintenance - Toyota",description:"Regular service and inspection",startDate:new Date(2025,10,15),startTime:"09:00",endTime:"12:00",location:"Service Center",category:"maintenance",linkedAsset:"2",color:"#F39C12",reminder:!0,recurring:"none",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),userId:(null===e||void 0===e?void 0:e.id)||""},{id:"3",title:"SARS Tax Deadline",description:"Monthly tax submission deadline",startDate:new Date(2025,11,20),isAllDay:!0,category:"compliance",color:"#3498DB",reminder:!0,recurring:"monthly",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),userId:(null===e||void 0===e?void 0:e.id)||""},{id:"4",title:"Travel - Cape Town",description:"Family vacation",startDate:new Date(2025,11,1),endDate:new Date(2025,11,8),category:"travel",color:"#9B59B6",reminder:!0,recurring:"none",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),userId:(null===e||void 0===e?void 0:e.id)||""}];k(a)}));return()=>a()}catch(t){_("Failed to set up calendar"),F(!1)}}else F(!1)}),[null===e||void 0===e?void 0:e.id]);const q=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],H=e=>D.filter((t=>new Date(t.startDate).toDateString()===e.toDateString())),Y=e=>({personal:"bg-blue-100 text-blue-800",work:"bg-green-100 text-green-800",family:"bg-red-100 text-red-800",maintenance:"bg-orange-100 text-orange-800",travel:"bg-purple-100 text-purple-800",compliance:"bg-indigo-100 text-indigo-800",other:"bg-gray-100 text-gray-800"}[e]||"bg-gray-100 text-gray-800"),W=D.filter((e=>new Date(e.startDate)>=new Date)).sort(((e,t)=>new Date(e.startDate).getTime()-new Date(t.startDate).getTime())).slice(0,5);return L?(0,n.jsx)(y.Z,{title:"Calendar",children:(0,n.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,n.jsxs)("div",{className:"text-center space-y-4",children:[(0,n.jsx)(i.Z,{className:"w-12 h-12 animate-spin mx-auto text-ubuntu-purple"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Loading calendar events..."})]})})}):R?(0,n.jsx)(y.Z,{title:"Calendar",children:(0,n.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,n.jsxs)("div",{className:"text-center space-y-4",children:[(0,n.jsx)(l.Z,{className:"w-12 h-12 mx-auto text-red-500"}),(0,n.jsx)("p",{className:"text-red-600 font-semibold",children:"Error loading calendar"}),(0,n.jsx)("p",{className:"text-gray-600 text-sm",children:R})]})})}):(0,n.jsx)(y.Z,{title:"Calendar",children:(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-ubuntu-warm-50 to-white",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,n.jsx)(r.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("h1",{className:"text-3xl font-bold text-ubuntu-warm-900 flex items-center gap-3",children:[(0,n.jsx)(c.Z,{className:"w-8 h-8 text-ubuntu-purple"}),"Calendar"]}),(0,n.jsx)("p",{className:"text-ubuntu-warm-600 mt-1",children:"Manage events, maintenance, and family schedule"})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsxs)("button",{onClick:()=>{E(!0)},className:"bg-ubuntu-purple hover:bg-ubuntu-purple-dark text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,n.jsx)(o.Z,{className:"w-5 h-5"}),"Add Event"]}),(0,n.jsxs)("button",{onClick:()=>{const e=D.map((e=>{const t=new Date(e.startDate).toISOString().replace(/[-:]/g,"").split(".")[0]+"Z";return"BEGIN:VEVENT\nDTSTART:".concat(t,"\nSUMMARY:").concat(e.title,"\nDESCRIPTION:").concat(e.description||"","\nLOCATION:").concat(e.location||"","\nEND:VEVENT")})).join("\n"),t="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Salatiso//Calendar//EN\nCALSCALE:GREGORIAN\nMETHOD:PUBLISH\n".concat(e,"\nEND:VCALENDAR"),a=new Blob([t],{type:"text/calendar"}),n=URL.createObjectURL(a),s=document.createElement("a");s.href=n,s.download="calendar-".concat((new Date).toISOString().split("T")[0],".ics"),s.click(),j.ZP.success("Calendar downloaded as .ics")},className:"bg-ubuntu-warm-100 hover:bg-ubuntu-warm-200 text-ubuntu-warm-900 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Download as .ics",children:[(0,n.jsx)(u.Z,{className:"w-5 h-5"}),".ics"]}),(0,n.jsxs)("button",{onClick:()=>{const e=JSON.stringify(D,null,2),t=new Blob([e],{type:"application/json"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download="calendar-".concat((new Date).toISOString().split("T")[0],".json"),n.click(),j.ZP.success("Calendar downloaded as JSON")},className:"bg-ubuntu-warm-100 hover:bg-ubuntu-warm-200 text-ubuntu-warm-900 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Download as JSON",children:[(0,n.jsx)(u.Z,{className:"w-5 h-5"}),"JSON"]}),(0,n.jsxs)("label",{className:"bg-ubuntu-warm-100 hover:bg-ubuntu-warm-200 text-ubuntu-warm-900 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors cursor-pointer",children:[(0,n.jsx)(d.Z,{className:"w-5 h-5"}),"Import",(0,n.jsx)("input",{type:"file",accept:".ics,.json",onChange:e=>{var t;(null===(t=e.target.files)||void 0===t?void 0:t[0])&&(async e=>{const t=await e.text();try{if(e.name.endsWith(".ics"))j.ZP.success("ICS import support coming soon");else if(e.name.endsWith(".json")){const e=JSON.parse(t);Array.isArray(e)&&(k([...D,...e]),j.ZP.success("Imported ".concat(e.length," events")))}}catch(R){j.ZP.error("Failed to import calendar")}})(e.target.files[0])},className:"hidden"})]})]})]})}),(0,n.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex gap-2 mb-6",children:["month","week","day"].map((e=>(0,n.jsx)("button",{onClick:()=>A(e),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat(O===e?"bg-ubuntu-purple text-white":"bg-white text-ubuntu-warm-900 border border-ubuntu-warm-200 hover:bg-ubuntu-warm-50"),children:e.charAt(0).toUpperCase()+e.slice(1)},e)))}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,n.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},className:"lg:col-span-3",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:["month"===O&&(0,n.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,n.jsx)("button",{onClick:()=>{a(new Date(t.getFullYear(),t.getMonth()-1))},className:"p-2 hover:bg-ubuntu-warm-100 rounded-lg transition-colors",children:(0,n.jsx)(m.Z,{className:"w-6 h-6 text-ubuntu-warm-600"})}),(0,n.jsxs)("h2",{className:"text-xl font-bold text-ubuntu-warm-900",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]," ",t.getFullYear()]}),(0,n.jsx)("button",{onClick:()=>{a(new Date(t.getFullYear(),t.getMonth()+1))},className:"p-2 hover:bg-ubuntu-warm-100 rounded-lg transition-colors",children:(0,n.jsx)(x.Z,{className:"w-6 h-6 text-ubuntu-warm-600"})})]}),"month"===O&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"grid grid-cols-7 gap-0 mb-2",children:q.map((e=>(0,n.jsx)("div",{className:"text-center py-2 text-sm font-semibold text-ubuntu-warm-600",children:e},e)))}),(0,n.jsx)("div",{className:"grid grid-cols-7 gap-0 border border-ubuntu-warm-100",children:(()=>{const e=(a=t,new Date(a.getFullYear(),a.getMonth()+1,0).getDate());var a;const s=(e=>new Date(e.getFullYear(),e.getMonth(),1).getDay())(t),i=[];for(let t=0;t<s;t++)i.push((0,n.jsx)("div",{className:"bg-ubuntu-warm-50 h-24"},"empty-".concat(t)));for(let l=1;l<=e;l++){const e=new Date(t.getFullYear(),t.getMonth(),l),a=H(e),s=e.toDateString()===(new Date).toDateString(),c=(null===S||void 0===S?void 0:S.toDateString())===e.toDateString();i.push((0,n.jsxs)(r.E.div,{whileHover:{backgroundColor:"#fff5e6"},onClick:()=>C(e),className:"h-24 border border-ubuntu-warm-100 p-2 cursor-pointer transition-colors ".concat(s?"bg-ubuntu-purple-light":"bg-white"," ").concat(c?"ring-2 ring-ubuntu-purple":""),children:[(0,n.jsx)("div",{className:"text-xs font-bold text-ubuntu-warm-900 mb-1",children:l}),(0,n.jsxs)("div",{className:"space-y-1",children:[a.slice(0,2).map((e=>(0,n.jsx)("div",{onClick:t=>{t.stopPropagation(),I(e)},className:"text-xs bg-ubuntu-purple text-white px-1 py-0.5 rounded truncate cursor-pointer hover:bg-ubuntu-purple-dark",children:e.title},e.id))),a.length>2&&(0,n.jsxs)("div",{className:"text-xs text-ubuntu-warm-600 px-1",children:["+",a.length-2," more"]})]})]},l))}return i})()})]}),"week"===O&&(()=>{const e=new Date(t);e.setDate(e.getDate()-e.getDay());const a=[];for(let t=0;t<7;t++){const n=new Date(e);n.setDate(n.getDate()+t),a.push(n)}return(0,n.jsx)("div",{className:"space-y-4",children:(0,n.jsx)("div",{className:"grid grid-cols-7 gap-2",children:a.map(((e,t)=>(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,n.jsxs)("div",{className:"text-center mb-3",children:[(0,n.jsx)("div",{className:"text-xs font-bold text-ubuntu-warm-600",children:q[e.getDay()]}),(0,n.jsx)("div",{className:"text-lg font-bold text-ubuntu-warm-900",children:e.getDate()})]}),(0,n.jsx)("div",{className:"space-y-2",children:H(e).slice(0,3).map((e=>(0,n.jsxs)("div",{onClick:()=>I(e),className:"text-xs p-2 bg-ubuntu-warm-50 rounded cursor-pointer hover:bg-ubuntu-warm-100",children:[(0,n.jsx)("div",{className:"font-medium text-ubuntu-warm-900",children:e.title}),e.startTime&&(0,n.jsx)("div",{className:"text-ubuntu-warm-600",children:e.startTime})]},e.id)))})]},t)))})})})(),"day"===O&&(()=>{const e=S||t,a=H(e).sort(((e,t)=>{const a=e.startTime||"00:00",n=t.startTime||"00:00";return a.localeCompare(n)}));return(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,n.jsx)("h3",{className:"text-xl font-bold text-ubuntu-warm-900 mb-6",children:e.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}),0===a.length?(0,n.jsx)("p",{className:"text-ubuntu-warm-600",children:"No events for this day"}):(0,n.jsx)("div",{className:"space-y-4",children:a.map((e=>(0,n.jsx)("div",{onClick:()=>I(e),className:"p-4 bg-ubuntu-warm-50 rounded-lg border-l-4 cursor-pointer hover:bg-ubuntu-warm-100",style:{borderLeftColor:e.color||"#3498DB"},children:(0,n.jsxs)("div",{className:"flex items-start justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-bold text-ubuntu-warm-900",children:e.title}),e.startTime&&(0,n.jsxs)("p",{className:"text-sm text-ubuntu-warm-600 mt-1",children:[e.startTime," ",e.endTime&&"- ".concat(e.endTime)]}),e.location&&(0,n.jsx)("p",{className:"text-sm text-ubuntu-warm-600",children:e.location})]}),(0,n.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(Y(e.category)),children:e.category})]})},e.id)))})]})})()]})}),(0,n.jsxs)(r.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"space-y-6",children:[S&&(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,n.jsx)("h3",{className:"font-bold text-ubuntu-warm-900 mb-4",children:S.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),(0,n.jsx)("div",{className:"space-y-3",children:0===H(S).length?(0,n.jsx)("p",{className:"text-sm text-ubuntu-warm-600",children:"No events scheduled"}):H(S).map((e=>(0,n.jsxs)("div",{className:"p-3 bg-ubuntu-warm-50 rounded-lg cursor-pointer hover:bg-ubuntu-warm-100 transition-colors",onClick:()=>I(e),children:[(0,n.jsx)("div",{className:"font-medium text-sm text-ubuntu-warm-900",children:e.title}),(0,n.jsxs)("div",{className:"text-xs text-ubuntu-warm-600 mt-1",children:[e.startTime&&"".concat(e.startTime),e.startTime&&e.endTime&&" - ".concat(e.endTime)]}),(0,n.jsx)("span",{className:"inline-block mt-2 text-xs px-2 py-1 rounded ".concat(Y(e.category)),children:e.category})]},e.id)))})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,n.jsxs)("h3",{className:"font-bold text-ubuntu-warm-900 mb-4 flex items-center gap-2",children:[(0,n.jsx)(h.Z,{className:"w-5 h-5 text-ubuntu-purple"}),"Upcoming"]}),(0,n.jsx)("div",{className:"space-y-3",children:0===W.length?(0,n.jsx)("p",{className:"text-sm text-ubuntu-warm-600",children:"No upcoming events"}):W.map((e=>(0,n.jsxs)("div",{className:"p-3 bg-ubuntu-warm-50 rounded-lg cursor-pointer hover:bg-ubuntu-warm-100 transition-colors",onClick:()=>I(e),children:[(0,n.jsx)("div",{className:"font-medium text-sm text-ubuntu-warm-900",children:e.title}),(0,n.jsx)("div",{className:"text-xs text-ubuntu-warm-600 mt-1",children:new Date(e.startDate).toLocaleDateString()}),(0,n.jsx)("span",{className:"inline-block mt-2 text-xs px-2 py-1 rounded ".concat(Y(e.category)),children:e.category})]},e.id)))})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,n.jsx)("h3",{className:"font-bold text-ubuntu-warm-900 mb-4",children:"Categories"}),(0,n.jsx)("div",{className:"space-y-2 text-sm",children:[{cat:"personal",label:"Personal"},{cat:"family",label:"Family"},{cat:"work",label:"Work"},{cat:"maintenance",label:"Maintenance"},{cat:"travel",label:"Travel"},{cat:"compliance",label:"Compliance"}].map((e=>{let{cat:t,label:a}=e;return(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-3 h-3 rounded ".concat(Y(t).split(" ")[0])}),(0,n.jsx)("span",{className:"text-ubuntu-warm-700",children:a})]},t)}))})]})]})]}),T&&(0,n.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>I(null),children:(0,n.jsxs)(r.E.div,{initial:{scale:.95},animate:{scale:1},className:"bg-white rounded-lg shadow-lg max-w-md w-full p-6",onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,n.jsx)("h3",{className:"text-xl font-bold text-ubuntu-warm-900",children:T.title}),(0,n.jsx)("button",{onClick:()=>I(null),className:"text-ubuntu-warm-400 hover:text-ubuntu-warm-600",children:(0,n.jsx)(p.Z,{className:"w-6 h-6"})})]}),(0,n.jsxs)("div",{className:"space-y-3",children:[T.description&&(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-xs font-medium text-ubuntu-warm-600 mb-1",children:"Description"}),(0,n.jsx)("p",{className:"text-sm text-ubuntu-warm-900",children:T.description})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-xs font-medium text-ubuntu-warm-600 mb-1",children:"Date & Time"}),(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm text-ubuntu-warm-900",children:[(0,n.jsx)(b.Z,{className:"w-4 h-4"}),new Date(T.startDate).toLocaleDateString(),T.startTime&&" at ".concat(T.startTime)]})]}),T.location&&(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-xs font-medium text-ubuntu-warm-600 mb-1",children:"Location"}),(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm text-ubuntu-warm-900",children:[(0,n.jsx)(g.Z,{className:"w-4 h-4"}),T.location]})]}),T.attendees&&T.attendees.length>0&&(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-xs font-medium text-ubuntu-warm-600 mb-1",children:"Attendees"}),(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm text-ubuntu-warm-900",children:[(0,n.jsx)(w.Z,{className:"w-4 h-4"}),T.attendees.join(", ")]})]}),(0,n.jsx)("div",{children:(0,n.jsx)("span",{className:"inline-block text-xs px-3 py-1 rounded font-medium ".concat(Y(T.category)),children:T.category})})]}),(0,n.jsxs)("div",{className:"flex gap-2 mt-6 pt-6 border-t border-ubuntu-warm-100",children:[(0,n.jsx)("button",{className:"flex-1 py-2 px-4 bg-ubuntu-purple hover:bg-ubuntu-purple-dark text-white rounded-lg font-medium transition-colors",children:"Edit"}),(0,n.jsx)("button",{className:"py-2 px-4 bg-red-100 hover:bg-red-200 text-red-900 rounded-lg font-medium transition-colors",children:"Delete"})]})]})}),Z&&(0,n.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>E(!1),children:(0,n.jsxs)(r.E.div,{initial:{scale:.95},animate:{scale:1},className:"bg-white rounded-lg shadow-lg max-w-md w-full p-6",onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h3",{className:"text-xl font-bold text-ubuntu-warm-900",children:"Add New Event"}),(0,n.jsx)("button",{onClick:()=>E(!1),className:"text-ubuntu-warm-400 hover:text-ubuntu-warm-600",children:(0,n.jsx)(p.Z,{className:"w-6 h-6"})})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm font-medium text-ubuntu-warm-900",children:"Event Title"}),(0,n.jsx)("input",{type:"text",value:B,onChange:e=>U(e.target.value),placeholder:"Enter event title",className:"w-full mt-1 px-3 py-2 border border-ubuntu-warm-200 rounded-lg focus:outline-none focus:border-ubuntu-purple"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm font-medium text-ubuntu-warm-900",children:"Category"}),(0,n.jsxs)("select",{value:J,onChange:e=>V(e.target.value),className:"w-full mt-1 px-3 py-2 border border-ubuntu-warm-200 rounded-lg focus:outline-none focus:border-ubuntu-purple",children:[(0,n.jsx)("option",{value:"personal",children:"Personal"}),(0,n.jsx)("option",{value:"work",children:"Work"}),(0,n.jsx)("option",{value:"family",children:"Family"}),(0,n.jsx)("option",{value:"maintenance",children:"Maintenance"}),(0,n.jsx)("option",{value:"travel",children:"Travel"}),(0,n.jsx)("option",{value:"compliance",children:"Compliance"}),(0,n.jsx)("option",{value:"other",children:"Other"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm font-medium text-ubuntu-warm-900",children:"Date"}),(0,n.jsx)("input",{type:"date",defaultValue:(S||t).toISOString().split("T")[0],className:"w-full mt-1 px-3 py-2 border border-ubuntu-warm-200 rounded-lg focus:outline-none focus:border-ubuntu-purple"})]}),(0,n.jsxs)("div",{className:"flex gap-2 mt-6",children:[(0,n.jsx)("button",{onClick:()=>{if(!B.trim())return void j.ZP.error("Event title is required");const t={id:Date.now().toString(),title:B,startDate:S||new Date,category:J,color:"#3498DB",reminder:!0,recurring:"none",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),userId:(null===e||void 0===e?void 0:e.id)||""};k([...D,t]),U(""),E(!1),j.ZP.success("Event created successfully!")},className:"flex-1 py-2 px-4 bg-ubuntu-purple hover:bg-ubuntu-purple-dark text-white rounded-lg font-medium transition-colors",children:"Create Event"}),(0,n.jsx)("button",{onClick:()=>E(!1),className:"py-2 px-4 bg-ubuntu-warm-100 hover:bg-ubuntu-warm-200 text-ubuntu-warm-900 rounded-lg font-medium transition-colors",children:"Cancel"})]})]})]})})]})})})}}},function(e){e.O(0,[4179,2023,5047,2888,9774,179],(function(){return t=23454,e(e.s=t);var t}));var t=e.O();_N_E=t}]);