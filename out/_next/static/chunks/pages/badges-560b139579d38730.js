(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8187],{7120:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/badges",function(){return s(2836)}])},2836:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return j},default:function(){return N}});var a=s(85893),i=s(67294),r=s(41675),l=s(9008),n=s.n(l),d=s(60837);var o,c,m=e=>{let{children:t,title:s}=e;return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s&&(0,a.jsx)("header",{className:"bg-white shadow",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:s})})}),(0,a.jsx)("main",{children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:t})})]})},x=s(99724),p=s(97042);!function(e){e.RESPECT="respect",e.COMMUNITY="community",e.LEADERSHIP="leadership",e.SHARING="sharing",e.HARMONY="harmony"}(o||(o={})),function(e){e.BRONZE="bronze",e.SILVER="silver",e.GOLD="gold",e.PLATINUM="platinum"}(c||(c={}));const g=[{id:"respect-listener-bronze",name:"Active Listener",description:"Participated in 3 video calls and listened to elder wisdom",principle:"respect",level:"bronze",icon:"\ud83d\udc42",criteria:{actionType:"video_call_participated",minCount:3,conditions:{listenedToElder:!0}},points:10},{id:"respect-elder-honor-silver",name:"Elder Honor",description:"Consistently deferred to elder wisdom in 10 decisions",principle:"respect",level:"silver",icon:"\ud83d\ude4f",criteria:{actionType:"decision_deferred_to_elder",minCount:10},points:25},{id:"respect-wisdom-keeper-gold",name:"Wisdom Keeper",description:"Documented and shared elder teachings 20 times",principle:"respect",level:"gold",icon:"\ud83d\udcdc",criteria:{actionType:"elder_wisdom_documented",minCount:20},points:50},{id:"community-participant-bronze",name:"Community Contributor",description:"Participated in 5 family council meetings",principle:"community",level:"bronze",icon:"\ud83e\udd1d",criteria:{actionType:"council_meeting_attended",minCount:5},points:10},{id:"community-decision-maker-silver",name:"Decision Maker",description:"Contributed to 15 collective family decisions",principle:"community",level:"silver",icon:"\u2696\ufe0f",criteria:{actionType:"decision_contributed",minCount:15},points:25},{id:"community-consensus-builder-gold",name:"Consensus Builder",description:"Helped achieve unanimous consent in 25 decisions",principle:"community",level:"gold",icon:"\ud83c\udf1f",criteria:{actionType:"consensus_achieved",minCount:25,conditions:{unanimousConsent:!0}},points:50},{id:"leadership-mentor-bronze",name:"Emerging Mentor",description:"Mentored 3 family members in template completion",principle:"leadership",level:"bronze",icon:"\ud83c\udf31",criteria:{actionType:"member_mentored",minCount:3},points:10},{id:"leadership-facilitator-silver",name:"Meeting Facilitator",description:"Successfully facilitated 10 family meetings",principle:"leadership",level:"silver",icon:"\ud83c\udfaf",criteria:{actionType:"meeting_facilitated",minCount:10},points:25},{id:"leadership-visionary-gold",name:"Family Visionary",description:"Led 20 strategic planning sessions",principle:"leadership",level:"gold",icon:"\ud83d\udd2d",criteria:{actionType:"strategy_session_led",minCount:20},points:50},{id:"sharing-collaborator-bronze",name:"Team Player",description:"Collaborated on 5 templates with family members",principle:"sharing",level:"bronze",icon:"\ud83e\udd32",criteria:{actionType:"template_collaborated",minCount:5},points:10},{id:"sharing-knowledge-silver",name:"Knowledge Sharer",description:"Shared expertise in 15 collaborative sessions",principle:"sharing",level:"silver",icon:"\ud83d\udca1",criteria:{actionType:"knowledge_shared",minCount:15},points:25},{id:"sharing-resource-gold",name:"Resource Champion",description:"Contributed resources to 30 family initiatives",principle:"sharing",level:"gold",icon:"\ud83c\udf81",criteria:{actionType:"resource_contributed",minCount:30},points:50},{id:"harmony-peacemaker-bronze",name:"Peacemaker",description:"Helped resolve 3 family disagreements",principle:"harmony",level:"bronze",icon:"\u262e\ufe0f",criteria:{actionType:"conflict_resolved",minCount:3},points:10},{id:"harmony-mediator-silver",name:"Harmony Mediator",description:"Mediated 10 disputes to peaceful resolution",principle:"harmony",level:"silver",icon:"\ud83d\udd4a\ufe0f",criteria:{actionType:"dispute_mediated",minCount:10},points:25},{id:"harmony-unity-gold",name:"Unity Champion",description:"Maintained family harmony through 25 challenging situations",principle:"harmony",level:"gold",icon:"\ud83c\udf08",criteria:{actionType:"harmony_maintained",minCount:25},points:50}];class h{async trackAction(e,t,s,a){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};try{const r="".concat(e,"_").concat(s,"_").concat(Date.now()),l=(0,x.JU)(p.db,"badgeActions",r),n={id:r,userId:e,familyId:t,actionType:s,principle:a,metadata:i,timestamp:new Date};await(0,x.pl)(l,{...n,timestamp:x.EK.now()}),await this.checkBadgeEligibility(e,t,s)}catch(r){throw new Error("Failed to track badge action")}}async checkBadgeEligibility(e,t,s){try{const a=g.filter((e=>e.criteria.actionType===s));for(const i of a){const a=(0,x.JU)(p.db,"userBadges","".concat(e,"_").concat(i.id));if((await(0,x.QT)(a)).exists())continue;const r=(0,x.IO)((0,x.hJ)(p.db,"badgeActions"),(0,x.ar)("userId","==",e),(0,x.ar)("familyId","==",t),(0,x.ar)("actionType","==",s)),l=await(0,x.PL)(r);if(l.size>=i.criteria.minCount){if(i.criteria.conditions){if(!l.docs.some((e=>{const t=e.data();return Object.entries(i.criteria.conditions).every((e=>{let[s,a]=e;return t.metadata[s]===a}))})))continue}await this.awardBadge(e,t,i)}}}catch(a){}}async awardBadge(e,t,s){try{const a="".concat(e,"_").concat(s.id),i=(0,x.JU)(p.db,"userBadges",a),r={id:a,userId:e,familyId:t,badgeId:s.id,badge:s,earnedAt:new Date,progress:100,actionsCompleted:s.criteria.minCount,actionsRequired:s.criteria.minCount};await(0,x.pl)(i,{...r,earnedAt:x.EK.now()})}catch(a){throw new Error("Failed to award badge")}}async getUserBadges(e,t){try{const s=(0,x.IO)((0,x.hJ)(p.db,"userBadges"),(0,x.ar)("userId","==",e),(0,x.ar)("familyId","==",t),(0,x.Xo)("earnedAt","desc"));return(await(0,x.PL)(s)).docs.map((e=>{const t=e.data();return{...t,earnedAt:t.earnedAt.toDate()}}))}catch(s){return[]}}async getBadgeProgress(e,t,s){try{const a=g.find((e=>e.id===s));if(!a)throw new Error("Badge not found");const i=(0,x.IO)((0,x.hJ)(p.db,"badgeActions"),(0,x.ar)("userId","==",e),(0,x.ar)("familyId","==",t),(0,x.ar)("actionType","==",a.criteria.actionType)),r=(await(0,x.PL)(i)).size,l=a.criteria.minCount;return{progress:Math.min(100,r/l*100),actionsCompleted:r,actionsRequired:l}}catch(a){return{progress:0,actionsCompleted:0,actionsRequired:0}}}getAllBadges(){return g}getBadgesByPrinciple(e){return g.filter((t=>t.principle===e))}getBadgesByLevel(e){return g.filter((t=>t.level===e))}async getLeaderboard(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{const s=(0,x.IO)((0,x.hJ)(p.db,"userBadges"),(0,x.ar)("familyId","==",e)),a=await(0,x.PL)(s),i=new Map;a.docs.forEach((e=>{const t={...e.data(),earnedAt:e.data().earnedAt.toDate()},s=i.get(t.userId)||[];s.push(t),i.set(t.userId,s)}));const r=[];for(const[e,t]of i.entries()){const s=t.filter((e=>"bronze"===e.badge.level)).length,a=t.filter((e=>"silver"===e.badge.level)).length,i=t.filter((e=>"gold"===e.badge.level)).length,l=t.filter((e=>"platinum"===e.badge.level)).length,n=t.reduce(((e,t)=>e+t.badge.points),0);r.push({userId:e,userName:"User "+e.substring(0,8),userRole:"member",totalBadges:t.length,bronzeBadges:s,silverBadges:a,goldBadges:i,platinumBadges:l,totalPoints:n,ubuntuScore:this.calculateUbuntuScore(t)})}return r.sort(((e,t)=>t.totalPoints-e.totalPoints)),r.slice(0,t)}catch(s){return[]}}calculateUbuntuScore(e){const t=new Map;for(const n of e){const e=t.get(n.badge.principle)||0;t.set(n.badge.principle,e+1)}const s=Object.values(o),a=Math.min(...s.map((e=>t.get(e)||0))),i=e.length,r=10*a,l=Math.min(50,2*i);return Math.min(100,r+l)}async getSuggestedBadges(e,t){try{const s=await this.getUserBadges(e,t),a=new Set(s.map((e=>e.badgeId))),i=g.filter((e=>!a.has(e.id))),r=await Promise.all(i.map((async s=>({badge:s,progress:(await this.getBadgeProgress(e,t,s.id)).progress}))));return r.sort(((e,t)=>t.progress-e.progress)),r.slice(0,5).map((e=>e.badge))}catch(s){return[]}}}let u=null;const b=()=>(u||(u=new h),u);var y=e=>{let{badge:t,userBadge:s,progress:i,size:r="medium",showProgress:l=!0}=e;const n=!!s,d=(null===i||void 0===i?void 0:i.progress)||0,o={bronze:"from-amber-600 to-amber-800",silver:"from-gray-400 to-gray-600",gold:"from-yellow-400 to-yellow-600",platinum:"from-purple-400 to-purple-600"};return(0,a.jsxs)("div",{className:"badge-card ".concat(n?"earned":"locked"," ").concat(r),children:[(0,a.jsxs)("div",{className:"badge-icon ".concat({small:"w-16 h-16 text-2xl",medium:"w-24 h-24 text-4xl",large:"w-32 h-32 text-5xl"}[r]," ").concat(n?"":"grayscale opacity-50"),children:[(0,a.jsx)("div",{className:"badge-background bg-gradient-to-br ".concat(o[t.level]," rounded-full flex items-center justify-center shadow-lg"),children:(0,a.jsx)("span",{className:"badge-emoji",children:t.icon})}),(0,a.jsx)("div",{className:"badge-level absolute -bottom-2 left-1/2 transform -translate-x-1/2",children:(0,a.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold bg-gradient-to-r ".concat(o[t.level]," text-white shadow"),children:t.level.toUpperCase()})})]}),(0,a.jsxs)("div",{className:"badge-info mt-6 text-center",children:[(0,a.jsx)("h3",{className:"badge-name text-lg font-bold ".concat(n?"text-gray-900":"text-gray-400"),children:t.name}),(0,a.jsx)("p",{className:"badge-description text-sm mt-1 ".concat(n?"text-gray-600":"text-gray-400"),children:t.description}),(0,a.jsxs)("div",{className:"badge-principle mt-2 inline-flex items-center gap-1 text-xs font-medium ".concat({respect:"text-blue-600",community:"text-green-600",leadership:"text-purple-600",sharing:"text-orange-600",harmony:"text-pink-600"}[t.principle]),children:[(0,a.jsx)("span",{className:"principle-dot w-2 h-2 rounded-full bg-current"}),t.principle.charAt(0).toUpperCase()+t.principle.slice(1)]}),(0,a.jsxs)("div",{className:"badge-points mt-2 text-sm font-semibold text-gray-700",children:[t.points," points"]}),s&&(0,a.jsxs)("div",{className:"earned-date mt-2 text-xs text-gray-500",children:["Earned ",new Date(s.earnedAt).toLocaleDateString()]}),!n&&l&&i&&(0,a.jsxs)("div",{className:"badge-progress mt-3",children:[(0,a.jsx)("div",{className:"progress-bar-container bg-gray-200 rounded-full h-2 overflow-hidden",children:(0,a.jsx)("div",{className:"progress-bar bg-gradient-to-r ".concat(o[t.level]," h-full transition-all duration-500"),style:{width:"".concat(d,"%")}})}),(0,a.jsxs)("div",{className:"progress-text text-xs text-gray-600 mt-1",children:[i.actionsCompleted," / ",i.actionsRequired," completed"]})]})]}),!n&&(0,a.jsx)("div",{className:"locked-overlay absolute top-2 right-2",children:(0,a.jsx)("span",{className:"text-2xl",children:"\ud83d\udd12"})})]})};var f=e=>{let{userId:t,familyId:s,view:l="earned"}=e;const{t:n}=(0,r.$G)("common"),d=b(),[c,m]=(0,i.useState)([]),[x,p]=(0,i.useState)([]),[g,h]=(0,i.useState)([]),[u,f]=(0,i.useState)(new Map),[v,j]=(0,i.useState)(!0),[N,w]=(0,i.useState)("all"),[C,B]=(0,i.useState)("all");(0,i.useEffect)((()=>{k()}),[t,s]);const k=async()=>{try{j(!0);const e=await d.getUserBadges(t,s);m(e);const a=d.getAllBadges();p(a);const i=await d.getSuggestedBadges(t,s);h(i);const r=new Set(e.map((e=>e.badgeId))),l=new Map;for(const n of a)if(!r.has(n.id)){const e=await d.getBadgeProgress(t,s,n.id);l.set(n.id,e)}f(l)}catch(e){}finally{j(!1)}},S=(()=>{let e=[];if("earned"===l)e=c;else if("available"===l){const t=new Set(c.map((e=>e.badgeId)));e=x.filter((e=>!t.has(e.id)))}else e=g;return"all"!==N&&(e=e.filter((e=>("badge"in e?e.badge:e).principle===N))),"all"!==C&&(e=e.filter((e=>("badge"in e?e.badge:e).level===C))),e})(),I=c.length,_=x.length,P=c.reduce(((e,t)=>e+t.badge.points),0);return v?(0,a.jsx)("div",{className:"badge-showcase loading flex items-center justify-center py-12",children:(0,a.jsx)("div",{className:"spinner animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"})}):(0,a.jsxs)("div",{className:"badge-showcase",children:[(0,a.jsx)("div",{className:"showcase-header mb-8",children:(0,a.jsxs)("div",{className:"stats-grid grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"stat-card bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-lg p-6 shadow-lg",children:[(0,a.jsx)("div",{className:"stat-icon text-4xl mb-2",children:"\ud83c\udfc6"}),(0,a.jsx)("div",{className:"stat-value text-3xl font-bold",children:I}),(0,a.jsx)("div",{className:"stat-label text-blue-100",children:"Badges Earned"})]}),(0,a.jsxs)("div",{className:"stat-card bg-gradient-to-br from-green-500 to-green-600 text-white rounded-lg p-6 shadow-lg",children:[(0,a.jsx)("div",{className:"stat-icon text-4xl mb-2",children:"\u2b50"}),(0,a.jsx)("div",{className:"stat-value text-3xl font-bold",children:P}),(0,a.jsx)("div",{className:"stat-label text-green-100",children:"Total Points"})]}),(0,a.jsxs)("div",{className:"stat-card bg-gradient-to-br from-purple-500 to-purple-600 text-white rounded-lg p-6 shadow-lg",children:[(0,a.jsx)("div",{className:"stat-icon text-4xl mb-2",children:"\ud83d\udcca"}),(0,a.jsxs)("div",{className:"stat-value text-3xl font-bold",children:[Math.round(I/_*100),"%"]}),(0,a.jsx)("div",{className:"stat-label text-purple-100",children:"Completion"})]})]})}),(0,a.jsx)("div",{className:"view-tabs mb-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("button",{onClick:()=>{w("all"),B("all")},className:"tab-button px-4 py-2 font-medium transition-colors ".concat("earned"===l?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"),children:["Earned (",I,")"]}),(0,a.jsxs)("button",{onClick:()=>{w("all"),B("all")},className:"tab-button px-4 py-2 font-medium transition-colors ".concat("available"===l?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"),children:["Available (",_-I,")"]}),(0,a.jsxs)("button",{onClick:()=>{w("all"),B("all")},className:"tab-button px-4 py-2 font-medium transition-colors ".concat("suggested"===l?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"),children:["Suggested (",g.length,")"]})]})}),(0,a.jsxs)("div",{className:"filters mb-6 flex flex-wrap gap-4",children:[(0,a.jsxs)("div",{className:"filter-group",children:[(0,a.jsx)("label",{className:"filter-label text-sm font-medium text-gray-700 mb-2 block",children:"Ubuntu Principle"}),(0,a.jsxs)("select",{value:N,onChange:e=>w(e.target.value),className:"filter-select px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Principles"}),(0,a.jsx)("option",{value:"respect",children:"\ud83d\udc42 Respect"}),(0,a.jsx)("option",{value:"community",children:"\ud83e\udd1d Community"}),(0,a.jsx)("option",{value:"leadership",children:"\ud83c\udfaf Leadership"}),(0,a.jsx)("option",{value:"sharing",children:"\ud83e\udd32 Sharing"}),(0,a.jsx)("option",{value:"harmony",children:"\u262e\ufe0f Harmony"})]})]}),(0,a.jsxs)("div",{className:"filter-group",children:[(0,a.jsx)("label",{className:"filter-label text-sm font-medium text-gray-700 mb-2 block",children:"Badge Level"}),(0,a.jsxs)("select",{value:C,onChange:e=>B(e.target.value),className:"filter-select px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Levels"}),(0,a.jsx)("option",{value:"bronze",children:"\ud83e\udd49 Bronze"}),(0,a.jsx)("option",{value:"silver",children:"\ud83e\udd48 Silver"}),(0,a.jsx)("option",{value:"gold",children:"\ud83e\udd47 Gold"}),(0,a.jsx)("option",{value:"platinum",children:"\ud83d\udc8e Platinum"})]})]})]}),0===S.length?(0,a.jsxs)("div",{className:"empty-state text-center py-12",children:[(0,a.jsx)("div",{className:"empty-icon text-6xl mb-4",children:"\ud83c\udfaf"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"earned"===l?"No badges earned yet":"No badges available"}),(0,a.jsx)("p",{className:"text-gray-600",children:"earned"===l?"Start participating in family activities to earn your first badge!":"You've earned all available badges!"})]}):(0,a.jsx)("div",{className:"badge-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:S.map((e=>{const t="badge"in e?e.badge:e,s="badge"in e?e:void 0,i=u.get(t.id);return(0,a.jsx)("div",{className:"badge-item",children:(0,a.jsx)(y,{badge:t,userBadge:s,progress:i,size:"medium",showProgress:"earned"!==l})},t.id)}))}),"earned"===l&&c.length>0&&(0,a.jsxs)("div",{className:"grouped-badges mt-12",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold mb-6",children:"Badges by Ubuntu Principle"}),Array.from((e=>{const t=new Map;return e.forEach((e=>{const s="badge"in e?e.badge:e,a=t.get(s.principle)||[];a.push(e),t.set(s.principle,a)})),t})(c).entries()).map((e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"principle-group mb-8",children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"principle-icon text-2xl",children:[t===o.RESPECT&&"\ud83d\udc42",t===o.COMMUNITY&&"\ud83e\udd1d",t===o.LEADERSHIP&&"\ud83c\udfaf",t===o.SHARING&&"\ud83e\udd32",t===o.HARMONY&&"\u262e\ufe0f"]}),t.charAt(0).toUpperCase()+t.slice(1)," (",s.length,")"]}),(0,a.jsx)("div",{className:"badge-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map((e=>{const t=e;return(0,a.jsx)(y,{badge:t.badge,userBadge:t,size:"small",showProgress:!1},t.id)}))})]},t)}))]})]})};var v=e=>{let{familyId:t,currentUserId:s,limit:l=10}=e;const{t:n}=(0,r.$G)("common"),d=b(),[o,c]=(0,i.useState)([]),[m,x]=(0,i.useState)(!0);(0,i.useEffect)((()=>{p()}),[t]);const p=async()=>{try{x(!0);const e=await d.getLeaderboard(t,l);c(e)}catch(e){}finally{x(!1)}},g=e=>{switch(e){case 1:return"\ud83e\udd47";case 2:return"\ud83e\udd48";case 3:return"\ud83e\udd49";default:return"#".concat(e)}},h=e=>{switch(e){case 1:return"bg-gradient-to-r from-yellow-400 to-yellow-600 text-white";case 2:return"bg-gradient-to-r from-gray-300 to-gray-500 text-white";case 3:return"bg-gradient-to-r from-amber-600 to-amber-800 text-white";default:return"bg-gray-100 text-gray-700"}};return m?(0,a.jsx)("div",{className:"leaderboard loading flex items-center justify-center py-12",children:(0,a.jsx)("div",{className:"spinner animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"})}):0===o.length?(0,a.jsxs)("div",{className:"leaderboard-empty text-center py-12",children:[(0,a.jsx)("div",{className:"empty-icon text-6xl mb-4",children:"\ud83c\udfc6"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No leaderboard data yet"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Start earning badges to appear on the leaderboard!"})]}):(0,a.jsxs)("div",{className:"family-leaderboard",children:[(0,a.jsxs)("div",{className:"leaderboard-header mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"\ud83c\udfc6 Family Ubuntu Leaderboard"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Celebrating family members who embody Ubuntu principles"})]}),o.length>=3&&(0,a.jsxs)("div",{className:"podium mb-8 grid grid-cols-3 gap-4 max-w-3xl mx-auto",children:[(0,a.jsxs)("div",{className:"podium-position order-1 flex flex-col items-center",children:[(0,a.jsx)("div",{className:"podium-rank text-4xl mb-2",children:"\ud83e\udd48"}),(0,a.jsx)("div",{className:"podium-avatar w-20 h-20 rounded-full bg-gradient-to-br from-gray-300 to-gray-500 flex items-center justify-center text-white text-2xl font-bold mb-2 shadow-lg",children:o[1].userName.charAt(0).toUpperCase()}),(0,a.jsx)("div",{className:"podium-name text-center font-semibold",children:o[1].userName}),(0,a.jsxs)("div",{className:"podium-points text-sm text-gray-600",children:[o[1].totalPoints," pts"]}),(0,a.jsx)("div",{className:"podium-height bg-gradient-to-b from-gray-300 to-gray-500 mt-4 w-full h-24 rounded-t-lg shadow-inner"})]}),(0,a.jsxs)("div",{className:"podium-position order-2 flex flex-col items-center -mt-4",children:[(0,a.jsx)("div",{className:"podium-rank text-5xl mb-2",children:"\ud83e\udd47"}),(0,a.jsx)("div",{className:"podium-avatar w-24 h-24 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 flex items-center justify-center text-white text-3xl font-bold mb-2 shadow-xl ring-4 ring-yellow-300",children:o[0].userName.charAt(0).toUpperCase()}),(0,a.jsx)("div",{className:"podium-name text-center font-bold text-lg",children:o[0].userName}),(0,a.jsxs)("div",{className:"podium-points text-sm text-gray-600 font-semibold",children:[o[0].totalPoints," pts"]}),(0,a.jsx)("div",{className:"podium-height bg-gradient-to-b from-yellow-400 to-yellow-600 mt-4 w-full h-32 rounded-t-lg shadow-inner"})]}),(0,a.jsxs)("div",{className:"podium-position order-3 flex flex-col items-center",children:[(0,a.jsx)("div",{className:"podium-rank text-4xl mb-2",children:"\ud83e\udd49"}),(0,a.jsx)("div",{className:"podium-avatar w-20 h-20 rounded-full bg-gradient-to-br from-amber-600 to-amber-800 flex items-center justify-center text-white text-2xl font-bold mb-2 shadow-lg",children:o[2].userName.charAt(0).toUpperCase()}),(0,a.jsx)("div",{className:"podium-name text-center font-semibold",children:o[2].userName}),(0,a.jsxs)("div",{className:"podium-points text-sm text-gray-600",children:[o[2].totalPoints," pts"]}),(0,a.jsx)("div",{className:"podium-height bg-gradient-to-b from-amber-600 to-amber-800 mt-4 w-full h-20 rounded-t-lg shadow-inner"})]})]}),(0,a.jsx)("div",{className:"leaderboard-table bg-white rounded-lg shadow-lg overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Rank"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Member"}),(0,a.jsx)("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Badges"}),(0,a.jsx)("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Points"}),(0,a.jsx)("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ubuntu Score"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:o.map(((e,t)=>{const i=t+1,r=e.userId===s;return(0,a.jsxs)("tr",{className:"transition-colors ".concat(r?"bg-blue-50 hover:bg-blue-100":"hover:bg-gray-50"),children:[(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("div",{className:"rank-badge inline-flex items-center justify-center w-10 h-10 rounded-full font-bold ".concat(h(i)),children:g(i)})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"member-avatar w-12 h-12 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-bold text-lg shadow",children:e.userName.charAt(0).toUpperCase()}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"member-name font-semibold text-gray-900 flex items-center gap-2",children:[e.userName,r&&(0,a.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"You"})]}),(0,a.jsx)("div",{className:"member-role text-sm text-gray-600 capitalize",children:e.userRole})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"badges-summary flex flex-col items-center gap-1",children:[(0,a.jsx)("div",{className:"total-badges text-2xl font-bold text-gray-900",children:e.totalBadges}),(0,a.jsxs)("div",{className:"badge-breakdown flex gap-1 text-xs",children:[e.platinumBadges>0&&(0,a.jsxs)("span",{className:"badge-count text-purple-600 font-semibold",children:["\ud83d\udc8e",e.platinumBadges]}),e.goldBadges>0&&(0,a.jsxs)("span",{className:"badge-count text-yellow-600 font-semibold",children:["\ud83e\udd47",e.goldBadges]}),e.silverBadges>0&&(0,a.jsxs)("span",{className:"badge-count text-gray-600 font-semibold",children:["\ud83e\udd48",e.silverBadges]}),e.bronzeBadges>0&&(0,a.jsxs)("span",{className:"badge-count text-amber-700 font-semibold",children:["\ud83e\udd49",e.bronzeBadges]})]})]})}),(0,a.jsxs)("td",{className:"px-6 py-4 text-center",children:[(0,a.jsx)("div",{className:"points text-2xl font-bold text-blue-600",children:e.totalPoints}),(0,a.jsx)("div",{className:"points-label text-xs text-gray-600",children:"points"})]}),(0,a.jsx)("td",{className:"px-6 py-4 text-center",children:(0,a.jsx)("div",{className:"ubuntu-score-container",children:(0,a.jsxs)("div",{className:"score-circle relative w-16 h-16 mx-auto",children:[(0,a.jsxs)("svg",{className:"w-full h-full transform -rotate-90",children:[(0,a.jsx)("circle",{cx:"32",cy:"32",r:"28",fill:"none",stroke:"#e5e7eb",strokeWidth:"4"}),(0,a.jsx)("circle",{cx:"32",cy:"32",r:"28",fill:"none",stroke:e.ubuntuScore>=80?"#10b981":e.ubuntuScore>=60?"#3b82f6":"#f59e0b",strokeWidth:"4",strokeDasharray:"".concat(e.ubuntuScore/100*175.93," 175.93"),strokeLinecap:"round"})]}),(0,a.jsx)("div",{className:"score-text absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-lg font-bold text-gray-900",children:e.ubuntuScore})})]})})})]},e.userId)}))})]})}),(0,a.jsxs)("div",{className:"leaderboard-legend mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-700 mb-2",children:"About Ubuntu Score"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"The Ubuntu Score reflects balance across all five Ubuntu principles (Respect, Community, Leadership, Sharing, Harmony). A high score shows consistent demonstration of Ubuntu values in family interactions."})]})]})};var j=!0,N=()=>{const{t:e}=(0,r.$G)("common"),{user:t}=(0,d.a)(),[s,l]=(0,i.useState)("earned"),o=(null===t||void 0===t?void 0:t.familyId)||"mock-family-id",c=(null===t||void 0===t?void 0:t.uid)||"mock-user-id";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n(),{children:[(0,a.jsxs)("title",{children:[e("badges.title","Ubuntu Badges")," - Salatiso"]}),(0,a.jsx)("meta",{name:"description",content:"Track and earn Ubuntu achievement badges for demonstrating Respect, Community, Leadership, Sharing, and Harmony"})]}),(0,a.jsx)(m,{children:(0,a.jsxs)("div",{className:"badges-page max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"page-header mb-8",children:[(0,a.jsxs)("h1",{className:"text-4xl font-bold text-gray-900 mb-3 flex items-center gap-3",children:[(0,a.jsx)("span",{className:"header-icon text-5xl",children:"\ud83c\udfc6"}),"Ubuntu Achievement Badges"]}),(0,a.jsx)("p",{className:"text-lg text-gray-600 max-w-3xl",children:"Celebrate family members who embody Ubuntu values: Respect, Community, Leadership, Sharing, and Harmony. Track your progress and see how you compare with your family!"})]}),(0,a.jsxs)("div",{className:"principles-overview mb-8 grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{className:"principle-card bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border-2 border-blue-200",children:[(0,a.jsx)("div",{className:"principle-icon text-3xl mb-2",children:"\ud83d\udc42"}),(0,a.jsx)("h3",{className:"principle-name font-bold text-blue-900 mb-1",children:"Respect"}),(0,a.jsx)("p",{className:"principle-description text-sm text-blue-700",children:"Honor elders, listen actively, value wisdom"})]}),(0,a.jsxs)("div",{className:"principle-card bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border-2 border-green-200",children:[(0,a.jsx)("div",{className:"principle-icon text-3xl mb-2",children:"\ud83e\udd1d"}),(0,a.jsx)("h3",{className:"principle-name font-bold text-green-900 mb-1",children:"Community"}),(0,a.jsx)("p",{className:"principle-description text-sm text-green-700",children:"Participate, decide collectively, build together"})]}),(0,a.jsxs)("div",{className:"principle-card bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border-2 border-purple-200",children:[(0,a.jsx)("div",{className:"principle-icon text-3xl mb-2",children:"\ud83c\udfaf"}),(0,a.jsx)("h3",{className:"principle-name font-bold text-purple-900 mb-1",children:"Leadership"}),(0,a.jsx)("p",{className:"principle-description text-sm text-purple-700",children:"Mentor others, facilitate, guide with vision"})]}),(0,a.jsxs)("div",{className:"principle-card bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4 border-2 border-orange-200",children:[(0,a.jsx)("div",{className:"principle-icon text-3xl mb-2",children:"\ud83e\udd32"}),(0,a.jsx)("h3",{className:"principle-name font-bold text-orange-900 mb-1",children:"Sharing"}),(0,a.jsx)("p",{className:"principle-description text-sm text-orange-700",children:"Share knowledge, resources, collaborate"})]}),(0,a.jsxs)("div",{className:"principle-card bg-gradient-to-br from-pink-50 to-pink-100 rounded-lg p-4 border-2 border-pink-200",children:[(0,a.jsx)("div",{className:"principle-icon text-3xl mb-2",children:"\u262e\ufe0f"}),(0,a.jsx)("h3",{className:"principle-name font-bold text-pink-900 mb-1",children:"Harmony"}),(0,a.jsx)("p",{className:"principle-description text-sm text-pink-700",children:"Resolve conflicts, maintain peace, build unity"})]})]}),(0,a.jsx)("div",{className:"view-mode-tabs mb-8",children:(0,a.jsxs)("div",{className:"tabs-container bg-white rounded-lg shadow-md p-2 inline-flex gap-2",children:[(0,a.jsxs)("button",{onClick:()=>l("earned"),className:"tab-button px-6 py-3 rounded-lg font-medium transition-all ".concat("earned"===s?"bg-blue-600 text-white shadow-lg":"bg-transparent text-gray-700 hover:bg-gray-100"),children:[(0,a.jsx)("span",{className:"tab-icon mr-2",children:"\ud83c\udfc6"}),"My Badges"]}),(0,a.jsxs)("button",{onClick:()=>l("available"),className:"tab-button px-6 py-3 rounded-lg font-medium transition-all ".concat("available"===s?"bg-blue-600 text-white shadow-lg":"bg-transparent text-gray-700 hover:bg-gray-100"),children:[(0,a.jsx)("span",{className:"tab-icon mr-2",children:"\ud83c\udfaf"}),"Available"]}),(0,a.jsxs)("button",{onClick:()=>l("suggested"),className:"tab-button px-6 py-3 rounded-lg font-medium transition-all ".concat("suggested"===s?"bg-blue-600 text-white shadow-lg":"bg-transparent text-gray-700 hover:bg-gray-100"),children:[(0,a.jsx)("span",{className:"tab-icon mr-2",children:"\ud83d\udca1"}),"Suggested"]}),(0,a.jsxs)("button",{onClick:()=>l("leaderboard"),className:"tab-button px-6 py-3 rounded-lg font-medium transition-all ".concat("leaderboard"===s?"bg-blue-600 text-white shadow-lg":"bg-transparent text-gray-700 hover:bg-gray-100"),children:[(0,a.jsx)("span",{className:"tab-icon mr-2",children:"\ud83d\udcca"}),"Leaderboard"]})]})}),(0,a.jsx)("div",{className:"content-area",children:"leaderboard"===s?(0,a.jsx)(v,{familyId:o,currentUserId:c,limit:10}):(0,a.jsx)(f,{userId:c,familyId:o,view:s})}),(0,a.jsxs)("div",{className:"help-section mt-12 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg p-8 border border-blue-200",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)("span",{children:"\u2753"}),"How to Earn Badges"]}),(0,a.jsxs)("div",{className:"help-grid grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"help-item",children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xl",children:"\ud83d\udc42"}),"Respect Badges"]}),(0,a.jsxs)("ul",{className:"list-disc list-inside text-gray-700 space-y-1 text-sm",children:[(0,a.jsx)("li",{children:"Participate in video calls with elders"}),(0,a.jsx)("li",{children:"Defer to elder wisdom in decisions"}),(0,a.jsx)("li",{children:"Document and share elder teachings"})]})]}),(0,a.jsxs)("div",{className:"help-item",children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xl",children:"\ud83e\udd1d"}),"Community Badges"]}),(0,a.jsxs)("ul",{className:"list-disc list-inside text-gray-700 space-y-1 text-sm",children:[(0,a.jsx)("li",{children:"Attend family council meetings"}),(0,a.jsx)("li",{children:"Contribute to collective decisions"}),(0,a.jsx)("li",{children:"Help achieve unanimous consent"})]})]}),(0,a.jsxs)("div",{className:"help-item",children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xl",children:"\ud83c\udfaf"}),"Leadership Badges"]}),(0,a.jsxs)("ul",{className:"list-disc list-inside text-gray-700 space-y-1 text-sm",children:[(0,a.jsx)("li",{children:"Mentor family members"}),(0,a.jsx)("li",{children:"Facilitate family meetings"}),(0,a.jsx)("li",{children:"Lead strategic planning sessions"})]})]}),(0,a.jsxs)("div",{className:"help-item",children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xl",children:"\ud83e\udd32"}),"Sharing Badges"]}),(0,a.jsxs)("ul",{className:"list-disc list-inside text-gray-700 space-y-1 text-sm",children:[(0,a.jsx)("li",{children:"Collaborate on templates"}),(0,a.jsx)("li",{children:"Share expertise in sessions"}),(0,a.jsx)("li",{children:"Contribute resources to initiatives"})]})]}),(0,a.jsxs)("div",{className:"help-item md:col-span-2",children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xl",children:"\u262e\ufe0f"}),"Harmony Badges"]}),(0,a.jsxs)("ul",{className:"list-disc list-inside text-gray-700 space-y-1 text-sm",children:[(0,a.jsx)("li",{children:"Help resolve family disagreements"}),(0,a.jsx)("li",{children:"Mediate disputes to peaceful resolution"}),(0,a.jsx)("li",{children:"Maintain family harmony through challenges"})]})]})]}),(0,a.jsx)("div",{className:"help-tip mt-6 p-4 bg-white rounded-lg border border-blue-300",children:(0,a.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,a.jsx)("strong",{className:"text-blue-600",children:"\ud83d\udca1 Tip:"})," The Ubuntu Score rewards balance across all five principles. Focus on developing strength in all areas rather than just one!"]})})]})]})})]})}}},function(e){e.O(0,[1675,2888,9774,179],(function(){return t=7120,e(e.s=t);var t}));var t=e.O();_N_E=t}]);