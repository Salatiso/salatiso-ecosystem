(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9942],{19455:function(e,s,t){Promise.resolve().then(t.bind(t,60760))},60760:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return p},dynamic:function(){return g}});var l=t(57437),i=t(2265),a=t(738),n=t(82148),r=t(5978),c=t(96485),o=t(1850);const d={apiKey:"AIzaSyD_pRVkeVzciCPowxsj44NRVlbyZvFPueI",authDomain:(()=>{const e=(s="salatiso-lifecv.web.app,lifecv-d2724.web.app,lifecv-d2724.firebaseapp.com,localhost,127.0.0.1")?s.split(",").map((e=>e.trim())).filter((e=>e.length>0)):[];var s;{const s=window.location.host,t=window.location.hostname;if(e.includes(s))return s;if(e.includes(t))return t;if(t.endsWith(".web.app")||t.endsWith(".firebaseapp.com"))return t}return"salatiso-lifecv.web.app"})(),projectId:"lifecv-d2724",storageBucket:"lifecv-d2724.firebasestorage.app",messagingSenderId:"1039752653127",appId:"1:1039752653127:web:54afa09b21c98ef231c462"};let m;m=0===(0,a.C6)().length?(0,a.ZF)(d):(0,a.C6)()[0];const h=(0,n.v0)(m);(0,r.ad)(m),(0,c.cF)(m),(0,o.$C)(m);var x=m;(0,c.cF)(x,"gs://salatiso-ecosystem.appspot.com");var u,b;!function(e){e.IDLE="idle",e.SYNCING="syncing",e.SUCCESS="success",e.ERROR="error",e.CONFLICT="conflict",e.OFFLINE="offline"}(u||(u={})),function(e){e.LAST_WRITE_WINS="last-write-wins",e.LOCAL_WINS="local-wins",e.REMOTE_WINS="remote-wins",e.MERGE="merge"}(b||(b={}));const g="force-dynamic";function p(){const[e,s]=(0,i.useState)(null),[t,a]=(0,i.useState)(!0),[r,c]=(0,i.useState)(!1),[o,d]=(0,i.useState)(null),[m,x]=(0,i.useState)(null);(0,i.useEffect)((()=>(0,n.Aj)(h,(e=>{s(e),a(!1)}))),[]);return t?(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,l.jsx)("p",{children:"Loading..."})]})}):e?(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-8",children:(0,l.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-6",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\ud83c\udf93 Initialize Knowledge Base"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Populate the Firestore knowledge base with 15 comprehensive articles"})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,l.jsxs)("div",{className:"mb-8 p-4 bg-gray-50 rounded-lg",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Status"}),(0,l.jsxs)("p",{className:"text-gray-600",children:["Logged in as: ",(0,l.jsx)("span",{className:"font-medium",children:e.email})]}),(0,l.jsxs)("p",{className:"text-gray-600",children:["Role: ",(0,l.jsx)("span",{className:"font-medium",children:"Admin"})]})]}),(0,l.jsx)("button",{onClick:async()=>{if(e){c(!0),x(null),d(null);try{const s=await e.getIdToken(),t=await fetch("/api/admin/initialize-kb",{method:"POST",headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"},body:JSON.stringify({})}),l=await t.json();t.ok&&l.success?d(l):(d(l),l.alreadyInitialized||x(l.error||l.message))}catch(s){x(s instanceof Error?s.message:"Unknown error occurred")}finally{c(!1)}}else x("You must be logged in")},disabled:r,className:"w-full py-3 px-4 rounded-lg font-semibold text-white transition-all mb-6 ".concat(r?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 active:scale-95"),children:r?(0,l.jsxs)("span",{className:"flex items-center justify-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Initializing... This may take a moment"]}):"\u25b6\ufe0f Initialize Knowledge Base"}),o&&o.success&&(0,l.jsxs)("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-6 mb-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"\u2705 Success!"}),(0,l.jsx)("p",{className:"text-green-800 mb-4",children:o.message}),o.articles&&(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("h4",{className:"font-semibold text-green-900 mb-2",children:"Articles Added:"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-64 overflow-y-auto",children:o.articles.map((e=>(0,l.jsxs)("div",{className:"text-sm text-green-800 p-2 bg-green-100 rounded",children:[(0,l.jsx)("span",{className:"font-medium",children:e.title}),(0,l.jsx)("br",{}),(0,l.jsxs)("span",{className:"text-xs text-green-700",children:["Category: ",e.category]})]},e.id)))})]}),(0,l.jsxs)("div",{className:"mt-6 p-4 bg-white rounded border border-green-200",children:[(0,l.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"\ud83d\udcca Next Steps:"}),(0,l.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-sm text-gray-700",children:[(0,l.jsx)("li",{children:"Verify in Firebase Console: Firestore Database \u2192 chatbot_knowledge_base collection"}),(0,l.jsx)("li",{children:"You should see 15 documents (kb-001 through kb-015)"}),(0,l.jsx)("li",{children:"Test the chatbot components with the new knowledge base"}),(0,l.jsx)("li",{children:"Phase 3 is now at 50% complete! \ud83c\udf89"})]})]})]}),o&&o.alreadyInitialized&&(0,l.jsxs)("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-6 mb-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-yellow-900 mb-2",children:"\u26a0\ufe0f Already Initialized"}),(0,l.jsx)("p",{className:"text-yellow-800",children:o.message}),(0,l.jsxs)("p",{className:"text-sm text-yellow-700 mt-2",children:["The knowledge base already contains ",o.articlesCount," articles."]})]}),m&&(0,l.jsxs)("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-6 mb-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"\u274c Error"}),(0,l.jsx)("p",{className:"text-red-800",children:m})]}),(0,l.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"\u2139\ufe0f Information"}),(0,l.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[(0,l.jsx)("li",{children:"This will add 15 articles to the chatbot_knowledge_base collection"}),(0,l.jsx)("li",{children:"Articles include comprehensive documentation across 7 categories"}),(0,l.jsx)("li",{children:"Safe to run multiple times (checks for existing articles)"}),(0,l.jsx)("li",{children:"View progress in browser console (F12)"})]})]})]}),(0,l.jsxs)("div",{className:"text-center mt-8 text-sm text-gray-600",children:[(0,l.jsx)("p",{children:"Phase 3 Progress: Knowledge Base Initialization"}),(0,l.jsx)("p",{children:"After this completes: 50% \u2192 Cloud Function Setup \u2192 Testing \u2192 Complete"})]})]})}):(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{className:"text-xl text-red-500 mb-4",children:"\u274c You must be logged in"}),(0,l.jsx)("a",{href:"/auth/login",className:"text-blue-500 hover:underline",children:"Go to login"})]})})}}},function(e){e.O(0,[9015,3609,7513,2971,2117,1744],(function(){return s=19455,e(e.s=s);var s}));var s=e.O();_N_E=s}]);